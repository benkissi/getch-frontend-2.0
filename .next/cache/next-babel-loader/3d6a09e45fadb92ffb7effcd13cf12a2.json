{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from \"axios\";\nimport endpoints from \"./endpoints\";\nimport { splitArray } from \"../utils/search\";\nexport var signUp = function signUp(email, password) {\n  var url, data, res, token;\n  return _regeneratorRuntime.async(function signUp$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          console.log(\"getting\", email, password);\n          url = endpoints.SIGN_UP;\n          data = {\n            email: email,\n            password: password\n          };\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(axios.post(url, data));\n\n        case 5:\n          res = _context.sent;\n          token = res.headers[\"x-auth\"].replace(\"Bearer \", \"\");\n          res.data[\"xToken\"] = token;\n          return _context.abrupt(\"return\", res.data);\n\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var signIn = function signIn(email, password) {\n  var url, params, res, token;\n  return _regeneratorRuntime.async(function signIn$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          console.log(\"sign in api\");\n          url = endpoints.SIGN_IN;\n          params = {\n            email: email,\n            password: password\n          };\n          console.log(\"api\", params);\n          _context2.next = 6;\n          return _regeneratorRuntime.awrap(axios.get(url, {\n            params: params\n          }));\n\n        case 6:\n          res = _context2.sent;\n          token = res.headers[\"x-auth\"].replace(\"Bearer \", \"\");\n          res.data[\"xToken\"] = token;\n          return _context2.abrupt(\"return\", res.data);\n\n        case 10:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var fbAuthentication = function fbAuthentication(token, id, fbId, name) {\n  var url, params, res;\n  return _regeneratorRuntime.async(function fbAuthentication$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          console.log(\"name api\", name);\n          url = endpoints.FB_AUTH;\n          params = {\n            token: token,\n            id: id,\n            fbId: fbId,\n            name: name\n          };\n          _context3.next = 5;\n          return _regeneratorRuntime.awrap(axios.get(url, {\n            params: params\n          }));\n\n        case 5:\n          res = _context3.sent;\n          console.log(\"res data\", res.data);\n          return _context3.abrupt(\"return\", res.data);\n\n        case 8:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var searchInterest = function searchInterest(token, keyword) {\n  var limit,\n      url,\n      params,\n      res,\n      _args4 = arguments;\n  return _regeneratorRuntime.async(function searchInterest$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          limit = _args4.length > 2 && _args4[2] !== undefined ? _args4[2] : 500;\n          url = endpoints.FB_INTEREST_SEARCH(2.11);\n          params = {\n            q: keyword,\n            type: \"adinterest\",\n            access_token: token,\n            limit: limit\n          };\n          _context4.next = 5;\n          return _regeneratorRuntime.awrap(axios.get(url, {\n            params: params\n          }));\n\n        case 5:\n          res = _context4.sent;\n          return _context4.abrupt(\"return\", res.data);\n\n        case 7:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var getInterestSuggestions = function getInterestSuggestions(token, keywords) {\n  var limit,\n      interestSuggestions,\n      response,\n      url,\n      params,\n      page,\n      _args5 = arguments;\n  return _regeneratorRuntime.async(function getInterestSuggestions$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          limit = _args5.length > 2 && _args5[2] !== undefined ? _args5[2] : 100;\n          interestSuggestions = [];\n          url = endpoints.FB_INTEREST_SEARCH(2.11);\n          params = {\n            interest_list: keywords,\n            type: \"adinterestsuggestion\",\n            access_token: token,\n            limit: limit\n          };\n          _context5.next = 6;\n          return _regeneratorRuntime.awrap(axios.get(url, {\n            params: params\n          }));\n\n        case 6:\n          response = _context5.sent;\n          interestSuggestions.push.apply(interestSuggestions, _toConsumableArray(response.data.data));\n          page = 0;\n\n        case 9:\n          if (!response.data.paging.next) {\n            _context5.next = 19;\n            break;\n          }\n\n          if (!(page > 5)) {\n            _context5.next = 12;\n            break;\n          }\n\n          return _context5.abrupt(\"break\", 19);\n\n        case 12:\n          _context5.next = 14;\n          return _regeneratorRuntime.awrap(axios.get(response.data.paging.next));\n\n        case 14:\n          response = _context5.sent;\n          interestSuggestions.push.apply(interestSuggestions, _toConsumableArray(response.data.data));\n          page++;\n          _context5.next = 9;\n          break;\n\n        case 19:\n          return _context5.abrupt(\"return\", interestSuggestions);\n\n        case 20:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var compileInterestSuggestions = function compileInterestSuggestions(token, keywords) {\n  var limit,\n      suggestions,\n      dataArray,\n      i,\n      _args6 = arguments;\n  return _regeneratorRuntime.async(function compileInterestSuggestions$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          limit = _args6.length > 2 && _args6[2] !== undefined ? _args6[2] : 100;\n\n          if (!(keywords.length > 200)) {\n            _context6.next = 18;\n            break;\n          }\n\n          suggestions = [];\n          dataArray = splitArray(keywords, 200);\n          i = 0;\n\n        case 5:\n          if (!(i < dataArray.length)) {\n            _context6.next = 17;\n            break;\n          }\n\n          _context6.t0 = suggestions.push;\n          _context6.t1 = suggestions;\n          _context6.t2 = _toConsumableArray;\n          _context6.next = 11;\n          return _regeneratorRuntime.awrap(getInterestSuggestions(token, dataArray[i], limit));\n\n        case 11:\n          _context6.t3 = _context6.sent;\n          _context6.t4 = (0, _context6.t2)(_context6.t3);\n\n          _context6.t0.apply.call(_context6.t0, _context6.t1, _context6.t4);\n\n        case 14:\n          i++;\n          _context6.next = 5;\n          break;\n\n        case 17:\n          return _context6.abrupt(\"return\", suggestions);\n\n        case 18:\n          _context6.next = 20;\n          return _regeneratorRuntime.awrap(getInterestSuggestions(token, keywords, limit));\n\n        case 20:\n          return _context6.abrupt(\"return\", _context6.sent);\n\n        case 21:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var getProducts = function getProducts(shopName) {\n  var url, params, res;\n  return _regeneratorRuntime.async(function getProducts$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          url = endpoints.GET_PRODUCTS(shopName);\n          params = {\n            limit: 10\n          };\n          _context7.next = 4;\n          return _regeneratorRuntime.awrap(axios.get(url, {\n            params: params\n          }));\n\n        case 4:\n          res = _context7.sent;\n          console.log(res.data);\n\n        case 6:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var getAdAccounts = function getAdAccounts(fbId, token) {\n  var url, headers, params, res;\n  return _regeneratorRuntime.async(function getAdAccounts$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          url = endpoints.GET_ADACCOUNTS(fbId);\n          headers = {\n            Authorization: token\n          };\n          params = {\n            fbId: fbId\n          };\n          _context8.next = 5;\n          return _regeneratorRuntime.awrap(axios.get(url, {\n            headers: headers,\n            params: params\n          }));\n\n        case 5:\n          res = _context8.sent;\n          return _context8.abrupt(\"return\", res.data);\n\n        case 7:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var fbPaginate = function fbPaginate(page) {\n  var res;\n  return _regeneratorRuntime.async(function fbPaginate$(_context9) {\n    while (1) {\n      switch (_context9.prev = _context9.next) {\n        case 0:\n          _context9.next = 2;\n          return _regeneratorRuntime.awrap(axios.get(page));\n\n        case 2:\n          res = _context9.sent;\n          return _context9.abrupt(\"return\", res.data);\n\n        case 4:\n        case \"end\":\n          return _context9.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var getCampaigns = function getCampaigns(accountId, token) {\n  var url, headers, res;\n  return _regeneratorRuntime.async(function getCampaigns$(_context10) {\n    while (1) {\n      switch (_context10.prev = _context10.next) {\n        case 0:\n          url = endpoints.GET_CAMPAIGNS(accountId);\n          headers = {\n            Authorization: token\n          };\n          _context10.next = 4;\n          return _regeneratorRuntime.awrap(axios.get(url, {\n            headers: headers\n          }));\n\n        case 4:\n          res = _context10.sent;\n          return _context10.abrupt(\"return\", res.data);\n\n        case 6:\n        case \"end\":\n          return _context10.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var getAdsets = function getAdsets(camaignId, token) {\n  var url, headers, res;\n  return _regeneratorRuntime.async(function getAdsets$(_context11) {\n    while (1) {\n      switch (_context11.prev = _context11.next) {\n        case 0:\n          url = endpoints.GET_ADSETS(camaignId);\n          headers = {\n            Authorization: token\n          };\n          _context11.next = 4;\n          return _regeneratorRuntime.awrap(axios.get(url, {\n            headers: headers\n          }));\n\n        case 4:\n          res = _context11.sent;\n          return _context11.abrupt(\"return\", res.data);\n\n        case 6:\n        case \"end\":\n          return _context11.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var getAds = function getAds(adsetId, token) {\n  var url, headers, res;\n  return _regeneratorRuntime.async(function getAds$(_context12) {\n    while (1) {\n      switch (_context12.prev = _context12.next) {\n        case 0:\n          url = endpoints.GET_ADS(adsetId);\n          headers = {\n            Authorization: token\n          };\n          _context12.next = 4;\n          return _regeneratorRuntime.awrap(axios.get(url, {\n            headers: headers\n          }));\n\n        case 4:\n          res = _context12.sent;\n          return _context12.abrupt(\"return\", res.data);\n\n        case 6:\n        case \"end\":\n          return _context12.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var getInterestStats = function getInterestStats(adId, token) {\n  var url, headers, res;\n  return _regeneratorRuntime.async(function getInterestStats$(_context13) {\n    while (1) {\n      switch (_context13.prev = _context13.next) {\n        case 0:\n          url = endpoints.GET_STATS(adId);\n          headers = {\n            Authorization: token\n          };\n          _context13.next = 4;\n          return _regeneratorRuntime.awrap(axios.get(url, {\n            headers: headers\n          }));\n\n        case 4:\n          res = _context13.sent;\n          return _context13.abrupt(\"return\", res.data);\n\n        case 6:\n        case \"end\":\n          return _context13.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var userLogout = function userLogout(token) {\n  var url, headers, res;\n  return _regeneratorRuntime.async(function userLogout$(_context14) {\n    while (1) {\n      switch (_context14.prev = _context14.next) {\n        case 0:\n          url = endpoints.LOG_OUT;\n          headers = {\n            Authorization: token\n          };\n          _context14.next = 4;\n          return _regeneratorRuntime.awrap(axios.get(url, {\n            headers: headers\n          }));\n\n        case 4:\n          res = _context14.sent;\n          console.log(\"res\", res);\n          return _context14.abrupt(\"return\", res.data);\n\n        case 7:\n        case \"end\":\n          return _context14.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var updateSearchCount = function updateSearchCount(token) {\n  var url, headers, res;\n  return _regeneratorRuntime.async(function updateSearchCount$(_context15) {\n    while (1) {\n      switch (_context15.prev = _context15.next) {\n        case 0:\n          url = endpoints.UPDATE_SEARCH_COUNT;\n          headers = {\n            Authorization: token\n          };\n          _context15.next = 4;\n          return _regeneratorRuntime.awrap(axios.get(url, {\n            headers: headers\n          }));\n\n        case 4:\n          res = _context15.sent;\n          console.log(\"count\", res);\n          return _context15.abrupt(\"return\", res.data);\n\n        case 7:\n        case \"end\":\n          return _context15.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var verifyPayment = function verifyPayment(token, plan, ref) {\n  var url, headers, data, res;\n  return _regeneratorRuntime.async(function verifyPayment$(_context16) {\n    while (1) {\n      switch (_context16.prev = _context16.next) {\n        case 0:\n          url = endpoints.VERIFY_PAYMENT;\n          headers = {\n            Authorization: token\n          };\n          data = {\n            plan: plan,\n            ref: ref\n          };\n          _context16.next = 5;\n          return _regeneratorRuntime.awrap(axios.get(url, {\n            headers: headers,\n            data: data\n          }));\n\n        case 5:\n          res = _context16.sent;\n          console.log(\"api\", res.data);\n          return _context16.abrupt(\"return\", res.data);\n\n        case 8:\n        case \"end\":\n          return _context16.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};","map":{"version":3,"sources":["/home/benkissi/projects/getch/getch-frontend-2.0/api/api.js"],"names":["axios","endpoints","splitArray","signUp","email","password","console","log","url","SIGN_UP","data","post","res","token","headers","replace","signIn","SIGN_IN","params","get","fbAuthentication","id","fbId","name","FB_AUTH","searchInterest","keyword","limit","FB_INTEREST_SEARCH","q","type","access_token","getInterestSuggestions","keywords","interestSuggestions","interest_list","response","push","page","paging","next","compileInterestSuggestions","length","suggestions","dataArray","i","getProducts","shopName","GET_PRODUCTS","getAdAccounts","GET_ADACCOUNTS","Authorization","fbPaginate","getCampaigns","accountId","GET_CAMPAIGNS","getAdsets","camaignId","GET_ADSETS","getAds","adsetId","GET_ADS","getInterestStats","adId","GET_STATS","userLogout","LOG_OUT","updateSearchCount","UPDATE_SEARCH_COUNT","verifyPayment","plan","ref","VERIFY_PAYMENT"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport endpoints from \"./endpoints\";\nimport { splitArray } from \"../utils/search\";\n\nexport const signUp = async (email, password) => {\n  console.log(\"getting\", email, password);\n  const url = endpoints.SIGN_UP;\n  const data = {\n    email,\n    password,\n  };\n\n  const res = await axios.post(url, data);\n  const token = res.headers[\"x-auth\"].replace(\"Bearer \", \"\");\n  res.data[\"xToken\"] = token;\n  return res.data;\n};\n\nexport const signIn = async (email, password) => {\n  console.log(\"sign in api\");\n  const url = endpoints.SIGN_IN;\n  const params = {\n    email,\n    password,\n  };\n  console.log(\"api\", params);\n\n  const res = await axios.get(url, {\n    params,\n  });\n  const token = res.headers[\"x-auth\"].replace(\"Bearer \", \"\");\n  res.data[\"xToken\"] = token;\n  return res.data;\n};\n\nexport const fbAuthentication = async (token, id, fbId, name) => {\n  console.log(\"name api\", name);\n  const url = endpoints.FB_AUTH;\n  const params = {\n    token,\n    id,\n    fbId,\n    name,\n  };\n\n  const res = await axios.get(url, {\n    params,\n  });\n\n  console.log(\"res data\", res.data);\n\n  return res.data;\n};\n\nexport const searchInterest = async (token, keyword, limit = 500) => {\n  const url = endpoints.FB_INTEREST_SEARCH(2.11);\n  const params = {\n    q: keyword,\n    type: \"adinterest\",\n    access_token: token,\n    limit,\n  };\n  const res = await axios.get(url, {\n    params,\n  });\n  return res.data;\n};\n\nexport const getInterestSuggestions = async (token, keywords, limit = 100) => {\n  let interestSuggestions = [];\n  let response;\n  const url = endpoints.FB_INTEREST_SEARCH(2.11);\n  const params = {\n    interest_list: keywords,\n    type: \"adinterestsuggestion\",\n    access_token: token,\n    limit: limit,\n  };\n  response = await axios.get(url, {\n    params,\n  });\n  interestSuggestions.push(...response.data.data);\n  let page = 0;\n  while (response.data.paging.next) {\n    if (page > 5) {\n      break;\n    }\n    response = await axios.get(response.data.paging.next);\n    interestSuggestions.push(...response.data.data);\n    page++;\n  }\n  return interestSuggestions;\n};\n\nexport const compileInterestSuggestions = async (\n  token,\n  keywords,\n  limit = 100\n) => {\n  if (keywords.length > 200) {\n    let suggestions = [];\n    const dataArray = splitArray(keywords, 200);\n    for (let i = 0; i < dataArray.length; i++) {\n      suggestions.push(\n        ...(await getInterestSuggestions(token, dataArray[i], limit))\n      );\n    }\n    return suggestions;\n  }\n\n  return await getInterestSuggestions(token, keywords, limit);\n};\n\nexport const getProducts = async (shopName) => {\n  const url = endpoints.GET_PRODUCTS(shopName);\n  const params = {\n    limit: 10,\n  };\n  const res = await axios.get(url, {\n    params,\n  });\n\n  console.log(res.data);\n};\n\nexport const getAdAccounts = async (fbId, token) => {\n  const url = endpoints.GET_ADACCOUNTS(fbId);\n\n  const headers = {\n    Authorization: token,\n  };\n\n  const params = {\n    fbId,\n  };\n\n  const res = await axios.get(url, {\n    headers,\n    params,\n  });\n\n  return res.data;\n};\n\nexport const fbPaginate = async (page) => {\n  const res = await axios.get(page);\n  return res.data;\n};\n\nexport const getCampaigns = async (accountId, token) => {\n  const url = endpoints.GET_CAMPAIGNS(accountId);\n\n  const headers = {\n    Authorization: token,\n  };\n\n  const res = await axios.get(url, {\n    headers,\n  });\n\n  return res.data;\n};\n\nexport const getAdsets = async (camaignId, token) => {\n  const url = endpoints.GET_ADSETS(camaignId);\n\n  const headers = {\n    Authorization: token,\n  };\n\n  const res = await axios.get(url, {\n    headers,\n  });\n\n  return res.data;\n};\n\nexport const getAds = async (adsetId, token) => {\n  const url = endpoints.GET_ADS(adsetId);\n\n  const headers = {\n    Authorization: token,\n  };\n\n  const res = await axios.get(url, {\n    headers,\n  });\n\n  return res.data;\n};\n\nexport const getInterestStats = async (adId, token) => {\n  const url = endpoints.GET_STATS(adId);\n\n  const headers = {\n    Authorization: token,\n  };\n\n  const res = await axios.get(url, {\n    headers,\n  });\n\n  return res.data;\n};\n\nexport const userLogout = async (token) => {\n  const url = endpoints.LOG_OUT;\n\n  const headers = {\n    Authorization: token,\n  };\n\n  const res = await axios.get(url, {\n    headers,\n  });\n\n  console.log(\"res\", res);\n\n  return res.data;\n};\n\nexport const updateSearchCount = async (token) => {\n  const url = endpoints.UPDATE_SEARCH_COUNT;\n\n  const headers = {\n    Authorization: token,\n  };\n\n  const res = await axios.get(url, { headers });\n  console.log(\"count\", res);\n  return res.data;\n};\n\nexport const verifyPayment = async (token, plan, ref) => {\n  const url = endpoints.VERIFY_PAYMENT;\n\n  const headers = {\n    Authorization: token,\n  };\n\n  const data = {\n    plan,\n    ref,\n  };\n\n  const res = await axios.get(url, { headers, data });\n  console.log(\"api\", res.data);\n  return res.data;\n};\n"]},"metadata":{},"sourceType":"module"}