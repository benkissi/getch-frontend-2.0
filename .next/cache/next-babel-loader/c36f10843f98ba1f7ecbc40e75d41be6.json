{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nvar _jsxFileName = \"/code/ben/getch/frontend/pages/index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport decodeToken from \"../utils/auth\";\nimport { useRouter } from \"next/router\";\n\nvar Index = function Index(props) {\n  var router = useRouter();\n  useEffect(function () {\n    // const router = useRouter();\n    var token = props.token;\n\n    if (token) {\n      var decoded = decodeToken(props.token);\n      var _id = decoded._id;\n      console.log(\"token****\", decoded);\n    } else {\n      router.push(\"/signin\");\n    }\n\n    console.log(\"hook\");\n  }, []);\n  return __jsx(\"div\", {\n    id: \"wrapper\",\n    className: \"jsx-1857536138\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, __jsx(\"p\", {\n    className: \"jsx-1857536138\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, \"Hello Next.js\"), __jsx(_Button, {\n    type: \"danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, \"Primary\"), __jsx(\"p\", {\n    className: \"jsx-1857536138\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, \"Secret: \", process.env.JWT_SECRET), __jsx(_JSXStyle, {\n    id: \"1857536138\",\n    __self: this\n  }, \"#wrapper.jsx-1857536138{margin:10px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9jb2RlL2Jlbi9nZXRjaC9mcm9udGVuZC9wYWdlcy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUE0QmtCLEFBR3VCLFlBQ2QiLCJmaWxlIjoiL2NvZGUvYmVuL2dldGNoL2Zyb250ZW5kL3BhZ2VzL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiYW50ZFwiO1xuaW1wb3J0IGRlY29kZVRva2VuIGZyb20gXCIuLi91dGlscy9hdXRoXCI7XG5cbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xuXG5jb25zdCBJbmRleCA9IHByb3BzID0+IHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gICAgY29uc3QgeyB0b2tlbiB9ID0gcHJvcHM7XG4gICAgaWYgKHRva2VuKSB7XG4gICAgICBjb25zdCBkZWNvZGVkID0gZGVjb2RlVG9rZW4ocHJvcHMudG9rZW4pO1xuICAgICAgY29uc3QgeyBfaWQgfSA9IGRlY29kZWQ7XG4gICAgICBjb25zb2xlLmxvZyhcInRva2VuKioqKlwiLCBkZWNvZGVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcm91dGVyLnB1c2goXCIvc2lnbmluXCIpO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcImhvb2tcIik7XG4gIH0sIFtdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgaWQ9XCJ3cmFwcGVyXCI+XG4gICAgICA8cD5IZWxsbyBOZXh0LmpzPC9wPlxuICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+UHJpbWFyeTwvQnV0dG9uPlxuICAgICAgPHA+U2VjcmV0OiB7cHJvY2Vzcy5lbnYuSldUX1NFQ1JFVH08L3A+XG5cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgI3dyYXBwZXIge1xuICAgICAgICAgIG1hcmdpbjogMTBweDtcbiAgICAgICAgfVxuICAgICAgYH08L3N0eWxlPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuSW5kZXguZ2V0SW5pdGlhbFByb3BzID0gYXN5bmMgZnVuY3Rpb24oY29udGV4dCkge1xuICBjb25zdCB0b2tlbiA9IGNvbnRleHQucXVlcnkuYXQ7XG4gIHJldHVybiB7XG4gICAgdG9rZW5cbiAgfTtcbn07XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IHN0YXRlID0+ICh7XG4gIHVzZXI6IHN0YXRlLnVzZXIuY3VycmVudFVzZXJcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcykoSW5kZXgpO1xuIl19 */\\n/*@ sourceURL=/code/ben/getch/frontend/pages/index.js */\"));\n};\n\nIndex.getInitialProps = function _callee(context) {\n  var token;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          token = context.query.at;\n          return _context.abrupt(\"return\", {\n            token: token\n          });\n\n        case 2:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user.currentUser\n  };\n};\n\nexport default connect(mapStateToProps)(Index);","map":{"version":3,"sources":["/code/ben/getch/frontend/pages/index.js"],"names":["useEffect","connect","decodeToken","useRouter","Index","props","router","token","decoded","_id","console","log","push","process","env","JWT_SECRET","getInitialProps","context","query","at","mapStateToProps","state","user","currentUser"],"mappings":";;;;;;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA,OAAOC,WAAP,MAAwB,eAAxB;AAEA,SAASC,SAAT,QAA0B,aAA1B;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAAAC,KAAK,EAAI;AACrB,MAAMC,MAAM,GAAGH,SAAS,EAAxB;AACAH,EAAAA,SAAS,CAAC,YAAM;AACd;AADc,QAENO,KAFM,GAEIF,KAFJ,CAENE,KAFM;;AAGd,QAAIA,KAAJ,EAAW;AACT,UAAMC,OAAO,GAAGN,WAAW,CAACG,KAAK,CAACE,KAAP,CAA3B;AADS,UAEDE,GAFC,GAEOD,OAFP,CAEDC,GAFC;AAGTC,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBH,OAAzB;AACD,KAJD,MAIO;AACLF,MAAAA,MAAM,CAACM,IAAP,CAAY,SAAZ;AACD;;AACDF,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACD,GAXQ,EAWN,EAXM,CAAT;AAaA,SACE;AAAK,IAAA,EAAE,EAAC,SAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAYE,OAAO,CAACC,GAAR,CAAYC,UAAxB,CAHF;AAAA;AAAA;AAAA,62DADF;AAaD,CA5BD;;AA8BAX,KAAK,CAACY,eAAN,GAAwB,iBAAeC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAChBV,UAAAA,KADgB,GACRU,OAAO,CAACC,KAAR,CAAcC,EADN;AAAA,2CAEf;AACLZ,YAAAA,KAAK,EAALA;AADK,WAFe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAxB;;AAOA,IAAMa,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK;AAAA,SAAK;AAChCC,IAAAA,IAAI,EAAED,KAAK,CAACC,IAAN,CAAWC;AADe,GAAL;AAAA,CAA7B;;AAIA,eAAetB,OAAO,CAACmB,eAAD,CAAP,CAAyBhB,KAAzB,CAAf","sourcesContent":["import { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Button } from \"antd\";\nimport decodeToken from \"../utils/auth\";\n\nimport { useRouter } from \"next/router\";\n\nconst Index = props => {\n  const router = useRouter();\n  useEffect(() => {\n    // const router = useRouter();\n    const { token } = props;\n    if (token) {\n      const decoded = decodeToken(props.token);\n      const { _id } = decoded;\n      console.log(\"token****\", decoded);\n    } else {\n      router.push(\"/signin\");\n    }\n    console.log(\"hook\");\n  }, []);\n\n  return (\n    <div id=\"wrapper\">\n      <p>Hello Next.js</p>\n      <Button type=\"danger\">Primary</Button>\n      <p>Secret: {process.env.JWT_SECRET}</p>\n\n      <style jsx>{`\n        #wrapper {\n          margin: 10px;\n        }\n      `}</style>\n    </div>\n  );\n};\n\nIndex.getInitialProps = async function(context) {\n  const token = context.query.at;\n  return {\n    token\n  };\n};\n\nconst mapStateToProps = state => ({\n  user: state.user.currentUser\n});\n\nexport default connect(mapStateToProps)(Index);\n"]},"metadata":{},"sourceType":"module"}