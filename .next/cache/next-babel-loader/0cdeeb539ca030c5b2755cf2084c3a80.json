{"ast":null,"code":"import axios from \"axios\";\nimport endpoints from './endpoints';\nimport { splitArray } from '../utils/search';\nexport const signUp = async (email, password) => {\n  console.log('getting', email, password);\n  const url = endpoints.SIGN_UP;\n  const data = {\n    email,\n    password\n  };\n  const res = await axios.post(url, data);\n  const token = res.headers['x-auth'].replace('Bearer ', '');\n  res.data['xToken'] = token;\n  return res.data;\n};\nexport const signIn = async (email, password) => {\n  console.log('sign in api');\n  const url = endpoints.SIGN_IN;\n  const params = {\n    email,\n    password\n  };\n  console.log('api', params);\n  const res = await axios.get(url, {\n    params\n  });\n  const token = res.headers['x-auth'].replace('Bearer ', '');\n  res.data['xToken'] = token;\n  return res.data;\n};\nexport const fbAuthentication = async (token, id, fbId, name) => {\n  console.log('name api', name);\n  const url = endpoints.FB_AUTH;\n  const params = {\n    token,\n    id,\n    fbId,\n    name\n  };\n  const res = await axios.get(url, {\n    params\n  });\n  console.log('res data', res.data);\n  return res.data;\n};\nexport const searchInterest = async (token, keyword, limit = 500) => {\n  const url = endpoints.FB_INTEREST_SEARCH(2.11);\n  const params = {\n    q: keyword,\n    type: 'adinterest',\n    access_token: token,\n    limit\n  };\n  const res = await axios.get(url, {\n    params\n  });\n  return res.data;\n};\nexport const getInterestSuggestions = async (token, keywords, limit = 100) => {\n  let interestSuggestions = [];\n  let response;\n  const url = endpoints.FB_INTEREST_SEARCH(2.11);\n  const params = {\n    interest_list: keywords,\n    type: 'adinterestsuggestion',\n    access_token: token,\n    limit: limit\n  };\n  response = await axios.get(url, {\n    params\n  });\n  interestSuggestions.push(...response.data.data);\n  let page = 0;\n\n  while (response.data.paging.next) {\n    if (page > 5) {\n      break;\n    }\n\n    response = await axios.get(response.data.paging.next);\n    interestSuggestions.push(...response.data.data);\n    page++;\n  }\n\n  return interestSuggestions;\n};\nexport const compileInterestSuggestions = async (token, keywords, limit = 100) => {\n  if (keywords.length > 200) {\n    let suggestions = [];\n    const dataArray = splitArray(keywords, 200);\n\n    for (let i = 0; i < dataArray.length; i++) {\n      suggestions.push(...(await getInterestSuggestions(token, dataArray[i], limit)));\n    }\n\n    return suggestions;\n  }\n\n  return await getInterestSuggestions(token, keywords, limit);\n};\nexport const getProducts = async shopName => {\n  const url = endpoints.GET_PRODUCTS(shopName);\n  const params = {\n    limit: 10\n  };\n  const res = await axios.get(url, {\n    params\n  });\n  console.log(res.data);\n};\nexport const getAdAccounts = async (fbId, token) => {\n  const url = endpoints.GET_ADACCOUNTS(fbId);\n  const headers = {\n    'Authorization': token\n  };\n  const params = {\n    fbId\n  };\n  const res = await axios.get(url, {\n    headers,\n    params\n  });\n  return res.data;\n};\nexport const fbPaginate = async page => {\n  const res = await axios.get(page);\n  return res.data;\n};\nexport const getCampaigns = async (accountId, token) => {\n  const url = endpoints.GET_CAMPAIGNS(accountId);\n  const headers = {\n    'Authorization': token\n  };\n  const res = await axios.get(url, {\n    headers\n  });\n  return res.data;\n};\nexport const getAdsets = async (camaignId, token) => {\n  const url = endpoints.GET_ADSETS(camaignId);\n  const headers = {\n    'Authorization': token\n  };\n  const res = await axios.get(url, {\n    headers\n  });\n  return res.data;\n};\nexport const getAds = async (adsetId, token) => {\n  const url = endpoints.GET_ADS(adsetId);\n  const headers = {\n    'Authorization': token\n  };\n  const res = await axios.get(url, {\n    headers\n  });\n  return res.data;\n};\nexport const getInterestStats = async (adId, token) => {\n  const url = endpoints.GET_STATS(adId);\n  const headers = {\n    'Authorization': token\n  };\n  const res = await axios.get(url, {\n    headers\n  });\n  return res.data;\n};\nexport const userLogout = async token => {\n  console.log('user token', token);\n  const url = endpoints.LOG_OUT;\n  console.log('url', url);\n  const headers = {\n    'Authorization': token\n  };\n  const res = await axios.get(url, {\n    headers\n  });\n  console.log('res', res);\n  return res.data;\n};","map":null,"metadata":{},"sourceType":"module"}