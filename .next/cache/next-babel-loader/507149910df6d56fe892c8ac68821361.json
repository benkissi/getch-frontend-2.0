{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/benkissi/projects/getch/getch-frontend-2.0/pages/performance.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { chartData } from \"../utils/table\";\nimport Table from \"../components/table\";\nimport AdAccount from \"../components/adAccount\";\nimport { performanceColumns } from \"../utils/table\";\nimport { getAdAccounts } from \"../api/api\";\n\nfunction Performance(props) {\n  var _useState = useState({\n    modalVisible: false,\n    selectedRowKeys: null\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var fbId = props.fbId,\n      user = props.user;\n  useEffect(function () {\n    if (true) {\n      console.log(\"on browser\");\n\n      var _require = require(\"@antv/g2plot\"),\n          Column = _require.Column;\n\n      var chart = new Column(document.getElementById(\"chart\"), {\n        data: chartData,\n        xField: \"name\",\n        yField: \"value\",\n        padding: \"auto\",\n        title: {\n          visible: true,\n          text: \"Interest stats\"\n        },\n        forceFit: true\n      });\n      console.log(\"el\", document.getElementById(\"chart\"));\n      chart.render();\n    }\n  }, []);\n  useEffect(function () {\n    fetchAdAccounts();\n  }, [state.modalVisible]);\n\n  var setModalVisible = function setModalVisible(modalVisible) {\n    setState(_objectSpread({}, state, {\n      modalVisible: modalVisible\n    }));\n  };\n\n  var fetchAdAccounts = function fetchAdAccounts() {\n    var adAccounts;\n    return _regeneratorRuntime.async(function fetchAdAccounts$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!state.modalVisible) {\n              _context.next = 6;\n              break;\n            }\n\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(getAdAccounts(fbId, user.xToken));\n\n          case 3:\n            adAccounts = _context.sent;\n            console.log(adAccounts);\n            setState(_objectSpread({}, state, {\n              adAccounts: adAccounts,\n              paging: {\n                next: adAccounts.paging.next && adAccounts.paging.next,\n                previous: adAccounts.paging.next && adAccounts.paging.next\n              }\n            }));\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  };\n\n  var onSelectionChange = function onSelectionChange(selectedRowKeys, selectedRows) {\n    console.log(\"rows\", selectedRows);\n    var selectedInterest = selectedRows.map(function (interest) {\n      return interest.name;\n    });\n    setState(_objectSpread({}, state, {\n      selectedRowKeys: selectedRowKeys,\n      selectedInterest: selectedInterest,\n      selectedRows: selectedRows\n    }));\n  };\n\n  var Option = _Select.Option;\n  var selectedRowKeys = state.selectedRowKeys;\n  return __jsx(\"div\", {\n    id: \"performance\",\n    className: \"jsx-232318478\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, __jsx(_Row, {\n    gutter: 16,\n    style: {\n      width: \"100%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, __jsx(_Col, {\n    span: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-232318478\" + \" \" + \"selection\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-232318478\" + \" \" + \"button item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, __jsx(_Button, {\n    onClick: function onClick() {\n      return setModalVisible(true);\n    },\n    block: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Select Ad account\")), __jsx(\"div\", {\n    className: \"jsx-232318478\" + \" \" + \"select item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, __jsx(_Select, {\n    style: {\n      width: \"100%\"\n    },\n    placeholder: \"Select campaign\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, __jsx(Option, {\n    value: \"jack\",\n    className: \"jsx-232318478\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \"Jack\"), __jsx(Option, {\n    value: \"lucy\",\n    className: \"jsx-232318478\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"Lucy\"), __jsx(Option, {\n    value: \"disabled\",\n    disabled: true,\n    className: \"jsx-232318478\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, \"Disabled\"), __jsx(Option, {\n    value: \"Yiminghe\",\n    className: \"jsx-232318478\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, \"yiminghe\"))), __jsx(\"div\", {\n    className: \"jsx-232318478\" + \" \" + \"select item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, __jsx(_Select, {\n    style: {\n      width: \"100%\"\n    },\n    placeholder: \"Select adset\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, __jsx(Option, {\n    value: \"jack\",\n    className: \"jsx-232318478\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, \"Jack\"), __jsx(Option, {\n    value: \"lucy\",\n    className: \"jsx-232318478\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, \"Lucy\"), __jsx(Option, {\n    value: \"disabled\",\n    disabled: true,\n    className: \"jsx-232318478\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, \"Disabled\"), __jsx(Option, {\n    value: \"Yiminghe\",\n    className: \"jsx-232318478\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, \"yiminghe\"))), __jsx(\"div\", {\n    className: \"jsx-232318478\" + \" \" + \"select item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, __jsx(_Select, {\n    style: {\n      width: \"100%\"\n    },\n    placeholder: \"Select ad\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, __jsx(Option, {\n    value: \"jack\",\n    className: \"jsx-232318478\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \"Jack\"), __jsx(Option, {\n    value: \"lucy\",\n    className: \"jsx-232318478\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, \"Lucy\"), __jsx(Option, {\n    value: \"disabled\",\n    disabled: true,\n    className: \"jsx-232318478\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, \"Disabled\"), __jsx(Option, {\n    value: \"Yiminghe\",\n    className: \"jsx-232318478\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, \"yiminghe\"))))), __jsx(_Col, {\n    span: 20,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-232318478\" + \" \" + \"stats\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    id: \"chart\",\n    className: \"jsx-232318478\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"jsx-232318478\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, __jsx(Table, {\n    columns: performanceColumns,\n    onSelection: onSelectionChange,\n    selectedRowKeys: selectedRowKeys,\n    className: \"table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }))))), __jsx(_Modal, {\n    title: \"Select an Ad account\",\n    centered: true,\n    visible: state.modalVisible,\n    onOk: function onOk() {\n      return setModalVisible(false);\n    },\n    onCancel: function onCancel() {\n      return setModalVisible(false);\n    },\n    okText: \"Next\",\n    cancelText: \"Previous\",\n    okButtonProps: {\n      disabled: !!state.paging.next\n    },\n    cancelButtonProps: {\n      disabled: !!state.paging.previous\n    },\n    width: 1300,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-232318478\" + \" \" + \"adAccounts\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-232318478\" + \" \" + \"inner\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, state.adAccounts ? state.adAccounts.data.map(function (item, index) {\n    return __jsx(\"div\", {\n      key: index,\n      className: \"jsx-232318478\" + \" \" + \"account\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, __jsx(AdAccount, {\n      name: item.name,\n      accountId: item.id,\n      status: item.account_status,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }));\n  }) : \"Loading...\"))), __jsx(_JSXStyle, {\n    id: \"232318478\",\n    __self: this\n  }, \"#performance.jsx-232318478{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;margin-top:70px;width:100%;}.selection.jsx-232318478{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border:1px solid #ccc;border-radius:4px;height:auto;padding:10px;}.item.jsx-232318478{margin-bottom:30px;width:100%;}.stats.jsx-232318478{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.adAccounts.jsx-232318478{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}.adAccounts.jsx-232318478 .inner.jsx-232318478{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:90%;}.account.jsx-232318478{min-width:20%;margin:10px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2Jlbmtpc3NpL3Byb2plY3RzL2dldGNoL2dldGNoLWZyb250ZW5kLTIuMC9wYWdlcy9wZXJmb3JtYW5jZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFxS1MsQUFHMEIsQUFPQSxBQVNNLEFBSU4sQUFLQSxBQUtBLEFBTUMsY0FDRixLQXBCRCxPQXFCYixJQXBCQSw0Q0FqQm9CLEFBT0ksQUFhQSxBQUtDLEFBS1Isa0JBN0JDLGdCQUNMLFdBQ2IsWUE0QlksVUFDWixXQXhCd0IsQUFheEIscUJBS0EsQ0FqQm9CLGtCQUNOLFlBQ0MsYUFDZiIsImZpbGUiOiIvaG9tZS9iZW5raXNzaS9wcm9qZWN0cy9nZXRjaC9nZXRjaC1mcm9udGVuZC0yLjAvcGFnZXMvcGVyZm9ybWFuY2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBNb2RhbCwgQnV0dG9uLCBTZWxlY3QsIFJvdywgQ29sIH0gZnJvbSBcImFudGRcIjtcblxuaW1wb3J0IHsgY2hhcnREYXRhIH0gZnJvbSBcIi4uL3V0aWxzL3RhYmxlXCI7XG5cbmltcG9ydCBUYWJsZSBmcm9tIFwiLi4vY29tcG9uZW50cy90YWJsZVwiO1xuaW1wb3J0IEFkQWNjb3VudCBmcm9tIFwiLi4vY29tcG9uZW50cy9hZEFjY291bnRcIjtcbmltcG9ydCB7IHBlcmZvcm1hbmNlQ29sdW1ucyB9IGZyb20gXCIuLi91dGlscy90YWJsZVwiO1xuaW1wb3J0IHsgZ2V0QWRBY2NvdW50cyB9IGZyb20gXCIuLi9hcGkvYXBpXCI7XG5cbmZ1bmN0aW9uIFBlcmZvcm1hbmNlKHByb3BzKSB7XG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlU3RhdGUoe1xuICAgIG1vZGFsVmlzaWJsZTogZmFsc2UsXG4gICAgc2VsZWN0ZWRSb3dLZXlzOiBudWxsXG4gIH0pO1xuXG4gIGNvbnN0IHsgZmJJZCwgdXNlciB9ID0gcHJvcHM7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgY29uc29sZS5sb2coXCJvbiBicm93c2VyXCIpO1xuICAgICAgY29uc3QgeyBDb2x1bW4gfSA9IHJlcXVpcmUoXCJAYW50di9nMnBsb3RcIik7XG5cbiAgICAgIGNvbnN0IGNoYXJ0ID0gbmV3IENvbHVtbihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoYXJ0XCIpLCB7XG4gICAgICAgIGRhdGE6IGNoYXJ0RGF0YSxcbiAgICAgICAgeEZpZWxkOiBcIm5hbWVcIixcbiAgICAgICAgeUZpZWxkOiBcInZhbHVlXCIsXG4gICAgICAgIHBhZGRpbmc6IFwiYXV0b1wiLFxuICAgICAgICB0aXRsZToge1xuICAgICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgICAgdGV4dDogXCJJbnRlcmVzdCBzdGF0c1wiXG4gICAgICAgIH0sXG4gICAgICAgIGZvcmNlRml0OiB0cnVlXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKFwiZWxcIiwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGFydFwiKSk7XG4gICAgICBjaGFydC5yZW5kZXIoKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoQWRBY2NvdW50cygpO1xuICB9LCBbc3RhdGUubW9kYWxWaXNpYmxlXSk7XG5cbiAgY29uc3Qgc2V0TW9kYWxWaXNpYmxlID0gbW9kYWxWaXNpYmxlID0+IHtcbiAgICBzZXRTdGF0ZSh7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIG1vZGFsVmlzaWJsZVxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGZldGNoQWRBY2NvdW50cyA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoc3RhdGUubW9kYWxWaXNpYmxlKSB7XG4gICAgICBjb25zdCBhZEFjY291bnRzID0gYXdhaXQgZ2V0QWRBY2NvdW50cyhmYklkLCB1c2VyLnhUb2tlbik7XG4gICAgICBjb25zb2xlLmxvZyhhZEFjY291bnRzKTtcbiAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGFkQWNjb3VudHM6IGFkQWNjb3VudHMsXG4gICAgICAgIHBhZ2luZzoge1xuICAgICAgICAgIG5leHQ6IGFkQWNjb3VudHMucGFnaW5nLm5leHQgJiYgYWRBY2NvdW50cy5wYWdpbmcubmV4dCxcbiAgICAgICAgICBwcmV2aW91czogYWRBY2NvdW50cy5wYWdpbmcubmV4dCAmJiBhZEFjY291bnRzLnBhZ2luZy5uZXh0LFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgb25TZWxlY3Rpb25DaGFuZ2UgPSAoc2VsZWN0ZWRSb3dLZXlzLCBzZWxlY3RlZFJvd3MpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcInJvd3NcIiwgc2VsZWN0ZWRSb3dzKTtcbiAgICBjb25zdCBzZWxlY3RlZEludGVyZXN0ID0gc2VsZWN0ZWRSb3dzLm1hcChpbnRlcmVzdCA9PiB7XG4gICAgICByZXR1cm4gaW50ZXJlc3QubmFtZTtcbiAgICB9KTtcbiAgICBzZXRTdGF0ZSh7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHNlbGVjdGVkUm93S2V5cyxcbiAgICAgIHNlbGVjdGVkSW50ZXJlc3QsXG4gICAgICBzZWxlY3RlZFJvd3NcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCB7IE9wdGlvbiB9ID0gU2VsZWN0O1xuICBjb25zdCB7IHNlbGVjdGVkUm93S2V5cyB9ID0gc3RhdGU7XG4gIHJldHVybiAoXG4gICAgPGRpdiBpZD1cInBlcmZvcm1hbmNlXCI+XG4gICAgICA8Um93IGd1dHRlcj17MTZ9IHN0eWxlPXt7IHdpZHRoOiBcIjEwMCVcIiB9fT5cbiAgICAgICAgPENvbCBzcGFuPXs0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlbGVjdGlvblwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXR0b24gaXRlbVwiPlxuICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldE1vZGFsVmlzaWJsZSh0cnVlKX0gYmxvY2s+XG4gICAgICAgICAgICAgICAgU2VsZWN0IEFkIGFjY291bnRcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VsZWN0IGl0ZW1cIj5cbiAgICAgICAgICAgICAgPFNlbGVjdCBzdHlsZT17eyB3aWR0aDogXCIxMDAlXCIgfX0gcGxhY2Vob2xkZXI9XCJTZWxlY3QgY2FtcGFpZ25cIj5cbiAgICAgICAgICAgICAgICA8T3B0aW9uIHZhbHVlPVwiamFja1wiPkphY2s8L09wdGlvbj5cbiAgICAgICAgICAgICAgICA8T3B0aW9uIHZhbHVlPVwibHVjeVwiPkx1Y3k8L09wdGlvbj5cbiAgICAgICAgICAgICAgICA8T3B0aW9uIHZhbHVlPVwiZGlzYWJsZWRcIiBkaXNhYmxlZD5cbiAgICAgICAgICAgICAgICAgIERpc2FibGVkXG4gICAgICAgICAgICAgICAgPC9PcHRpb24+XG4gICAgICAgICAgICAgICAgPE9wdGlvbiB2YWx1ZT1cIllpbWluZ2hlXCI+eWltaW5naGU8L09wdGlvbj5cbiAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VsZWN0IGl0ZW1cIj5cbiAgICAgICAgICAgICAgPFNlbGVjdCBzdHlsZT17eyB3aWR0aDogXCIxMDAlXCIgfX0gcGxhY2Vob2xkZXI9XCJTZWxlY3QgYWRzZXRcIj5cbiAgICAgICAgICAgICAgICA8T3B0aW9uIHZhbHVlPVwiamFja1wiPkphY2s8L09wdGlvbj5cbiAgICAgICAgICAgICAgICA8T3B0aW9uIHZhbHVlPVwibHVjeVwiPkx1Y3k8L09wdGlvbj5cbiAgICAgICAgICAgICAgICA8T3B0aW9uIHZhbHVlPVwiZGlzYWJsZWRcIiBkaXNhYmxlZD5cbiAgICAgICAgICAgICAgICAgIERpc2FibGVkXG4gICAgICAgICAgICAgICAgPC9PcHRpb24+XG4gICAgICAgICAgICAgICAgPE9wdGlvbiB2YWx1ZT1cIllpbWluZ2hlXCI+eWltaW5naGU8L09wdGlvbj5cbiAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VsZWN0IGl0ZW1cIj5cbiAgICAgICAgICAgICAgPFNlbGVjdCBzdHlsZT17eyB3aWR0aDogXCIxMDAlXCIgfX0gcGxhY2Vob2xkZXI9XCJTZWxlY3QgYWRcIj5cbiAgICAgICAgICAgICAgICA8T3B0aW9uIHZhbHVlPVwiamFja1wiPkphY2s8L09wdGlvbj5cbiAgICAgICAgICAgICAgICA8T3B0aW9uIHZhbHVlPVwibHVjeVwiPkx1Y3k8L09wdGlvbj5cbiAgICAgICAgICAgICAgICA8T3B0aW9uIHZhbHVlPVwiZGlzYWJsZWRcIiBkaXNhYmxlZD5cbiAgICAgICAgICAgICAgICAgIERpc2FibGVkXG4gICAgICAgICAgICAgICAgPC9PcHRpb24+XG4gICAgICAgICAgICAgICAgPE9wdGlvbiB2YWx1ZT1cIllpbWluZ2hlXCI+eWltaW5naGU8L09wdGlvbj5cbiAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9Db2w+XG4gICAgICAgIDxDb2wgc3Bhbj17MjB9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3RhdHNcIj5cbiAgICAgICAgICAgIDxkaXYgaWQ9XCJjaGFydFwiPjwvZGl2PlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPFRhYmxlXG4gICAgICAgICAgICAgICAgY29sdW1ucz17cGVyZm9ybWFuY2VDb2x1bW5zfVxuICAgICAgICAgICAgICAgIG9uU2VsZWN0aW9uPXtvblNlbGVjdGlvbkNoYW5nZX1cbiAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd0tleXM9e3NlbGVjdGVkUm93S2V5c31cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YWJsZVwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9Db2w+XG4gICAgICA8L1Jvdz5cbiAgICAgIDxNb2RhbFxuICAgICAgICB0aXRsZT1cIlNlbGVjdCBhbiBBZCBhY2NvdW50XCJcbiAgICAgICAgY2VudGVyZWRcbiAgICAgICAgdmlzaWJsZT17c3RhdGUubW9kYWxWaXNpYmxlfVxuICAgICAgICBvbk9rPXsoKSA9PiBzZXRNb2RhbFZpc2libGUoZmFsc2UpfVxuICAgICAgICBvbkNhbmNlbD17KCkgPT4gc2V0TW9kYWxWaXNpYmxlKGZhbHNlKX1cbiAgICAgICAgb2tUZXh0PVwiTmV4dFwiXG4gICAgICAgIGNhbmNlbFRleHQ9IFwiUHJldmlvdXNcIlxuICAgICAgICBva0J1dHRvblByb3BzPSB7e2Rpc2FibGVkOiAhIXN0YXRlLnBhZ2luZy5uZXh0fX1cbiAgICAgICAgY2FuY2VsQnV0dG9uUHJvcHM9IHt7ZGlzYWJsZWQ6ICEhc3RhdGUucGFnaW5nLnByZXZpb3VzfX1cbiAgICAgICAgd2lkdGg9ezEzMDB9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWRBY2NvdW50c1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5uZXJcIj5cbiAgICAgICAgICB7c3RhdGUuYWRBY2NvdW50c1xuICAgICAgICAgICAgPyBzdGF0ZS5hZEFjY291bnRzLmRhdGEubWFwKChpdGVtLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWNjb3VudFwiIGtleT17aW5kZXh9PlxuICAgICAgICAgICAgICAgICAgPEFkQWNjb3VudCBcbiAgICAgICAgICAgICAgICAgICAgbmFtZT17aXRlbS5uYW1lfSBcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudElkPXtpdGVtLmlkfSBcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzPXtpdGVtLmFjY291bnRfc3RhdHVzfS8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkpXG4gICAgICAgICAgICA6IFwiTG9hZGluZy4uLlwifVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9Nb2RhbD5cbiAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgIHtgXG4gICAgICAgICAgI3BlcmZvcm1hbmNlIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICBtYXJnaW4tdG9wOiA3MHB4O1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLnNlbGVjdGlvbiB7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgICAgICBoZWlnaHQ6IGF1dG87XG4gICAgICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5pdGVtIHtcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLnN0YXRzIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5hZEFjY291bnRzIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAuYWRBY2NvdW50cyAuaW5uZXIge1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICAgICAgICAgIHdpZHRoOiA5MCU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLmFjY291bnQge1xuICAgICAgICAgICAgbWluLXdpZHRoOiAyMCU7XG4gICAgICAgICAgICBtYXJnaW46IDEwcHg7XG4gICAgICAgICAgfVxuICAgICAgICBgfVxuICAgICAgPC9zdHlsZT5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gc3RhdGUgPT4gKHtcbiAgdXNlcjogc3RhdGUudXNlci5jdXJyZW50VXNlcixcbiAgZmJJZDogc3RhdGUudXNlci5mYlRva2VuLmZiSWRcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcykoUGVyZm9ybWFuY2UpO1xuIl19 */\\n/*@ sourceURL=/home/benkissi/projects/getch/getch-frontend-2.0/pages/performance.js */\"));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user.currentUser,\n    fbId: state.user.fbToken.fbId\n  };\n};\n\nexport default connect(mapStateToProps)(Performance);","map":{"version":3,"sources":["/home/benkissi/projects/getch/getch-frontend-2.0/pages/performance.js"],"names":["useState","useEffect","connect","chartData","Table","AdAccount","performanceColumns","getAdAccounts","Performance","props","modalVisible","selectedRowKeys","state","setState","fbId","user","console","log","require","Column","chart","document","getElementById","data","xField","yField","padding","title","visible","text","forceFit","render","fetchAdAccounts","setModalVisible","xToken","adAccounts","paging","next","previous","onSelectionChange","selectedRows","selectedInterest","map","interest","name","Option","width","disabled","item","index","id","account_status","mapStateToProps","currentUser","fbToken"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Modal, Button, Select, Row, Col } from \"antd\";\n\nimport { chartData } from \"../utils/table\";\n\nimport Table from \"../components/table\";\nimport AdAccount from \"../components/adAccount\";\nimport { performanceColumns } from \"../utils/table\";\nimport { getAdAccounts } from \"../api/api\";\n\nfunction Performance(props) {\n  const [state, setState] = useState({\n    modalVisible: false,\n    selectedRowKeys: null\n  });\n\n  const { fbId, user } = props;\n\n  useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      console.log(\"on browser\");\n      const { Column } = require(\"@antv/g2plot\");\n\n      const chart = new Column(document.getElementById(\"chart\"), {\n        data: chartData,\n        xField: \"name\",\n        yField: \"value\",\n        padding: \"auto\",\n        title: {\n          visible: true,\n          text: \"Interest stats\"\n        },\n        forceFit: true\n      });\n      console.log(\"el\", document.getElementById(\"chart\"));\n      chart.render();\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchAdAccounts();\n  }, [state.modalVisible]);\n\n  const setModalVisible = modalVisible => {\n    setState({\n      ...state,\n      modalVisible\n    });\n  };\n\n  const fetchAdAccounts = async () => {\n    if (state.modalVisible) {\n      const adAccounts = await getAdAccounts(fbId, user.xToken);\n      console.log(adAccounts);\n      setState({\n        ...state,\n        adAccounts: adAccounts,\n        paging: {\n          next: adAccounts.paging.next && adAccounts.paging.next,\n          previous: adAccounts.paging.next && adAccounts.paging.next,\n        }\n      });\n    }\n  };\n\n  const onSelectionChange = (selectedRowKeys, selectedRows) => {\n    console.log(\"rows\", selectedRows);\n    const selectedInterest = selectedRows.map(interest => {\n      return interest.name;\n    });\n    setState({\n      ...state,\n      selectedRowKeys,\n      selectedInterest,\n      selectedRows\n    });\n  };\n\n  const { Option } = Select;\n  const { selectedRowKeys } = state;\n  return (\n    <div id=\"performance\">\n      <Row gutter={16} style={{ width: \"100%\" }}>\n        <Col span={4}>\n          <div className=\"selection\">\n            <div className=\"button item\">\n              <Button onClick={() => setModalVisible(true)} block>\n                Select Ad account\n              </Button>\n            </div>\n            <div className=\"select item\">\n              <Select style={{ width: \"100%\" }} placeholder=\"Select campaign\">\n                <Option value=\"jack\">Jack</Option>\n                <Option value=\"lucy\">Lucy</Option>\n                <Option value=\"disabled\" disabled>\n                  Disabled\n                </Option>\n                <Option value=\"Yiminghe\">yiminghe</Option>\n              </Select>\n            </div>\n            <div className=\"select item\">\n              <Select style={{ width: \"100%\" }} placeholder=\"Select adset\">\n                <Option value=\"jack\">Jack</Option>\n                <Option value=\"lucy\">Lucy</Option>\n                <Option value=\"disabled\" disabled>\n                  Disabled\n                </Option>\n                <Option value=\"Yiminghe\">yiminghe</Option>\n              </Select>\n            </div>\n            <div className=\"select item\">\n              <Select style={{ width: \"100%\" }} placeholder=\"Select ad\">\n                <Option value=\"jack\">Jack</Option>\n                <Option value=\"lucy\">Lucy</Option>\n                <Option value=\"disabled\" disabled>\n                  Disabled\n                </Option>\n                <Option value=\"Yiminghe\">yiminghe</Option>\n              </Select>\n            </div>\n          </div>\n        </Col>\n        <Col span={20}>\n          <div className=\"stats\">\n            <div id=\"chart\"></div>\n            <div>\n              <Table\n                columns={performanceColumns}\n                onSelection={onSelectionChange}\n                selectedRowKeys={selectedRowKeys}\n                className=\"table\"\n              />\n            </div>\n          </div>\n        </Col>\n      </Row>\n      <Modal\n        title=\"Select an Ad account\"\n        centered\n        visible={state.modalVisible}\n        onOk={() => setModalVisible(false)}\n        onCancel={() => setModalVisible(false)}\n        okText=\"Next\"\n        cancelText= \"Previous\"\n        okButtonProps= {{disabled: !!state.paging.next}}\n        cancelButtonProps= {{disabled: !!state.paging.previous}}\n        width={1300}\n      >\n        <div className=\"adAccounts\">\n          <div className=\"inner\">\n          {state.adAccounts\n            ? state.adAccounts.data.map((item, index) => (\n                <div className=\"account\" key={index}>\n                  <AdAccount \n                    name={item.name} \n                    accountId={item.id} \n                    status={item.account_status}/>\n                </div>\n              ))\n            : \"Loading...\"}\n            </div>\n        </div>\n      </Modal>\n      <style jsx>\n        {`\n          #performance {\n            display: flex;\n            position: relative;\n            margin-top: 70px;\n            width: 100%;\n          }\n\n          .selection {\n            display: flex;\n            flex-direction: column;\n            border: 1px solid #ccc;\n            border-radius: 4px;\n            height: auto;\n            padding: 10px;\n          }\n\n          .item {\n            margin-bottom: 30px;\n            width: 100%;\n          }\n          .stats {\n            display: flex;\n            flex-direction: column;\n          }\n\n          .adAccounts {\n            display: flex;\n            justify-content: center;\n          }\n\n          .adAccounts .inner {\n            display: flex;\n            flex-wrap: wrap;\n            width: 90%;\n          }\n\n          .account {\n            min-width: 20%;\n            margin: 10px;\n          }\n        `}\n      </style>\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  user: state.user.currentUser,\n  fbId: state.user.fbToken.fbId\n});\n\nexport default connect(mapStateToProps)(Performance);\n"]},"metadata":{},"sourceType":"module"}