{"ast":null,"code":"import \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\nvar _jsxFileName = \"/home/benkissi/projects/getch/getch-frontend-2.0/pages/performance.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { chartData } from \"../utils/table\";\nimport Table from \"../components/table\";\nimport { performanceColumns } from \"../utils/table\";\nimport { getAdAccounts } from '../api/api';\n\nfunction Performance(props) {\n  const {\n    0: state,\n    1: setState\n  } = useState({\n    modalVisible: false,\n    selectedRowKeys: null\n  });\n  const {\n    fbId,\n    user\n  } = props;\n  useEffect(() => {\n    if (false) {\n      console.log(\"on browser\");\n\n      const {\n        Column\n      } = require(\"@antv/g2plot\");\n\n      const chart = new Column(document.getElementById(\"chart\"), {\n        data: chartData,\n        xField: \"name\",\n        yField: \"value\",\n        padding: \"auto\",\n        title: {\n          visible: true,\n          text: \"Interest stats\"\n        },\n        forceFit: true\n      });\n      console.log(\"el\", document.getElementById(\"chart\"));\n      chart.render();\n    }\n  }, []);\n  useEffect(async () => {\n    if (modalVisible) {\n      const adAccounts = await getAdAccounts(fbId, user.xToken);\n      console.log(adAccounts);\n    }\n  }, [modalVisible]);\n\n  const setModalVisible = modalVisible => {\n    setState(_objectSpread({}, state, {\n      modalVisible\n    }));\n  };\n\n  const onSelectionChange = (selectedRowKeys, selectedRows) => {\n    console.log(\"rows\", selectedRows);\n    const selectedInterest = selectedRows.map(interest => {\n      return interest.name;\n    });\n    setState(_objectSpread({}, state, {\n      selectedRowKeys,\n      selectedInterest,\n      selectedRows\n    }));\n  };\n\n  const {\n    Option\n  } = _Select;\n  const {\n    selectedRowKeys\n  } = state;\n  return __jsx(\"div\", {\n    id: \"performance\",\n    className: \"jsx-125022611\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, __jsx(_Row, {\n    gutter: 16,\n    style: {\n      width: \"100%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, __jsx(_Col, {\n    span: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-125022611\" + \" \" + \"selection\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-125022611\" + \" \" + \"button item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, __jsx(_Button, {\n    onClick: () => setModalVisible(true),\n    block: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"Select Ad account\")), __jsx(\"div\", {\n    className: \"jsx-125022611\" + \" \" + \"select item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, __jsx(_Select, {\n    style: {\n      width: \"100%\"\n    },\n    placeholder: \"Select campaign\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, __jsx(Option, {\n    value: \"jack\",\n    className: \"jsx-125022611\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"Jack\"), __jsx(Option, {\n    value: \"lucy\",\n    className: \"jsx-125022611\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"Lucy\"), __jsx(Option, {\n    value: \"disabled\",\n    disabled: true,\n    className: \"jsx-125022611\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Disabled\"), __jsx(Option, {\n    value: \"Yiminghe\",\n    className: \"jsx-125022611\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"yiminghe\"))), __jsx(\"div\", {\n    className: \"jsx-125022611\" + \" \" + \"select item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, __jsx(_Select, {\n    style: {\n      width: \"100%\"\n    },\n    placeholder: \"Select adset\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, __jsx(Option, {\n    value: \"jack\",\n    className: \"jsx-125022611\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"Jack\"), __jsx(Option, {\n    value: \"lucy\",\n    className: \"jsx-125022611\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \"Lucy\"), __jsx(Option, {\n    value: \"disabled\",\n    disabled: true,\n    className: \"jsx-125022611\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \"Disabled\"), __jsx(Option, {\n    value: \"Yiminghe\",\n    className: \"jsx-125022611\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"yiminghe\"))), __jsx(\"div\", {\n    className: \"jsx-125022611\" + \" \" + \"select item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, __jsx(_Select, {\n    style: {\n      width: \"100%\"\n    },\n    placeholder: \"Select ad\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, __jsx(Option, {\n    value: \"jack\",\n    className: \"jsx-125022611\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, \"Jack\"), __jsx(Option, {\n    value: \"lucy\",\n    className: \"jsx-125022611\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \"Lucy\"), __jsx(Option, {\n    value: \"disabled\",\n    disabled: true,\n    className: \"jsx-125022611\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, \"Disabled\"), __jsx(Option, {\n    value: \"Yiminghe\",\n    className: \"jsx-125022611\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, \"yiminghe\"))))), __jsx(_Col, {\n    span: 20,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-125022611\" + \" \" + \"stats\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    id: \"chart\",\n    className: \"jsx-125022611\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"jsx-125022611\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, __jsx(Table, {\n    columns: performanceColumns,\n    onSelection: onSelectionChange,\n    selectedRowKeys: selectedRowKeys,\n    className: \"table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }))))), __jsx(_Modal, {\n    title: \"Vertically centered modal dialog\",\n    centered: true,\n    visible: state.modalVisible,\n    onOk: () => setModalVisible(false),\n    onCancel: () => setModalVisible(false),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, __jsx(\"p\", {\n    className: \"jsx-125022611\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, \"some contents...\"), __jsx(\"p\", {\n    className: \"jsx-125022611\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, \"some contents...\"), __jsx(\"p\", {\n    className: \"jsx-125022611\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, \"some contents...\")), __jsx(_JSXStyle, {\n    id: \"125022611\",\n    __self: this\n  }, \"#performance.jsx-125022611{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;margin-top:70px;width:100%;}.selection.jsx-125022611{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border:1px solid #ccc;border-radius:4px;height:auto;padding:10px;}.item.jsx-125022611{margin-bottom:30px;width:100%;}.stats.jsx-125022611{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2Jlbmtpc3NpL3Byb2plY3RzL2dldGNoL2dldGNoLWZyb250ZW5kLTIuMC9wYWdlcy9wZXJmb3JtYW5jZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF5SVMsQUFHMEIsQUFPQSxBQVNNLEFBSU4sbUJBSEYsV0FDYiw0Q0FqQm9CLEFBT0ksQUFhQSxrQkFuQk4sZ0JBQ0wsV0FDYixpQ0FLd0IsQUFheEIsc0JBWm9CLGtCQUNOLFlBQ0MsYUFDZiIsImZpbGUiOiIvaG9tZS9iZW5raXNzaS9wcm9qZWN0cy9nZXRjaC9nZXRjaC1mcm9udGVuZC0yLjAvcGFnZXMvcGVyZm9ybWFuY2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBNb2RhbCwgQnV0dG9uLCBTZWxlY3QsIFJvdywgQ29sIH0gZnJvbSBcImFudGRcIjtcblxuaW1wb3J0IHsgY2hhcnREYXRhIH0gZnJvbSBcIi4uL3V0aWxzL3RhYmxlXCI7XG5cbmltcG9ydCBUYWJsZSBmcm9tIFwiLi4vY29tcG9uZW50cy90YWJsZVwiO1xuaW1wb3J0IHsgcGVyZm9ybWFuY2VDb2x1bW5zIH0gZnJvbSBcIi4uL3V0aWxzL3RhYmxlXCI7XG5pbXBvcnQge2dldEFkQWNjb3VudHN9IGZyb20gJy4uL2FwaS9hcGknXG5cbmZ1bmN0aW9uIFBlcmZvcm1hbmNlKHByb3BzKSB7XG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlU3RhdGUoe1xuICAgIG1vZGFsVmlzaWJsZTogZmFsc2UsXG4gICAgc2VsZWN0ZWRSb3dLZXlzOiBudWxsXG4gIH0pO1xuXG4gIGNvbnN0IHtmYklkLCB1c2VyfSA9IHByb3BzXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgY29uc29sZS5sb2coXCJvbiBicm93c2VyXCIpO1xuICAgICAgY29uc3QgeyBDb2x1bW4gfSA9IHJlcXVpcmUoXCJAYW50di9nMnBsb3RcIik7XG5cbiAgICAgIGNvbnN0IGNoYXJ0ID0gbmV3IENvbHVtbihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoYXJ0XCIpLCB7XG4gICAgICAgIGRhdGE6IGNoYXJ0RGF0YSxcbiAgICAgICAgeEZpZWxkOiBcIm5hbWVcIixcbiAgICAgICAgeUZpZWxkOiBcInZhbHVlXCIsXG4gICAgICAgIHBhZGRpbmc6IFwiYXV0b1wiLFxuICAgICAgICB0aXRsZToge1xuICAgICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgICAgdGV4dDogXCJJbnRlcmVzdCBzdGF0c1wiXG4gICAgICAgIH0sXG4gICAgICAgIGZvcmNlRml0OiB0cnVlXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKFwiZWxcIiwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGFydFwiKSk7XG4gICAgICBjaGFydC5yZW5kZXIoKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoYXN5bmMgKCkgPT4ge1xuICAgIGlmKG1vZGFsVmlzaWJsZSl7XG4gICAgICBjb25zdCBhZEFjY291bnRzID0gYXdhaXQgZ2V0QWRBY2NvdW50cyhmYklkLCB1c2VyLnhUb2tlbilcbiAgICAgIGNvbnNvbGUubG9nKGFkQWNjb3VudHMpXG4gICAgfVxuICB9LCBbbW9kYWxWaXNpYmxlXSlcblxuICBjb25zdCBzZXRNb2RhbFZpc2libGUgPSBtb2RhbFZpc2libGUgPT4ge1xuICAgIHNldFN0YXRlKHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgbW9kYWxWaXNpYmxlXG4gICAgfSk7XG4gICAgXG4gIH07XG5cbiAgY29uc3Qgb25TZWxlY3Rpb25DaGFuZ2UgPSAoc2VsZWN0ZWRSb3dLZXlzLCBzZWxlY3RlZFJvd3MpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcInJvd3NcIiwgc2VsZWN0ZWRSb3dzKTtcbiAgICBjb25zdCBzZWxlY3RlZEludGVyZXN0ID0gc2VsZWN0ZWRSb3dzLm1hcChpbnRlcmVzdCA9PiB7XG4gICAgICByZXR1cm4gaW50ZXJlc3QubmFtZTtcbiAgICB9KTtcbiAgICBzZXRTdGF0ZSh7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHNlbGVjdGVkUm93S2V5cyxcbiAgICAgIHNlbGVjdGVkSW50ZXJlc3QsXG4gICAgICBzZWxlY3RlZFJvd3NcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCB7IE9wdGlvbiB9ID0gU2VsZWN0O1xuICBjb25zdCB7IHNlbGVjdGVkUm93S2V5cyB9ID0gc3RhdGU7XG4gIHJldHVybiAoXG4gICAgPGRpdiBpZD1cInBlcmZvcm1hbmNlXCI+XG4gICAgICA8Um93IGd1dHRlcj17MTZ9IHN0eWxlPXt7IHdpZHRoOiBcIjEwMCVcIiB9fT5cbiAgICAgICAgPENvbCBzcGFuPXs0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlbGVjdGlvblwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXR0b24gaXRlbVwiPlxuICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9eygpPT5zZXRNb2RhbFZpc2libGUodHJ1ZSl9IGJsb2NrPlxuICAgICAgICAgICAgICAgIFNlbGVjdCBBZCBhY2NvdW50XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlbGVjdCBpdGVtXCI+XG4gICAgICAgICAgICAgIDxTZWxlY3Qgc3R5bGU9e3sgd2lkdGg6IFwiMTAwJVwiIH19IHBsYWNlaG9sZGVyPVwiU2VsZWN0IGNhbXBhaWduXCI+XG4gICAgICAgICAgICAgICAgPE9wdGlvbiB2YWx1ZT1cImphY2tcIj5KYWNrPC9PcHRpb24+XG4gICAgICAgICAgICAgICAgPE9wdGlvbiB2YWx1ZT1cImx1Y3lcIj5MdWN5PC9PcHRpb24+XG4gICAgICAgICAgICAgICAgPE9wdGlvbiB2YWx1ZT1cImRpc2FibGVkXCIgZGlzYWJsZWQ+XG4gICAgICAgICAgICAgICAgICBEaXNhYmxlZFxuICAgICAgICAgICAgICAgIDwvT3B0aW9uPlxuICAgICAgICAgICAgICAgIDxPcHRpb24gdmFsdWU9XCJZaW1pbmdoZVwiPnlpbWluZ2hlPC9PcHRpb24+XG4gICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlbGVjdCBpdGVtXCI+XG4gICAgICAgICAgICAgIDxTZWxlY3Qgc3R5bGU9e3sgd2lkdGg6IFwiMTAwJVwiIH19IHBsYWNlaG9sZGVyPVwiU2VsZWN0IGFkc2V0XCI+XG4gICAgICAgICAgICAgICAgPE9wdGlvbiB2YWx1ZT1cImphY2tcIj5KYWNrPC9PcHRpb24+XG4gICAgICAgICAgICAgICAgPE9wdGlvbiB2YWx1ZT1cImx1Y3lcIj5MdWN5PC9PcHRpb24+XG4gICAgICAgICAgICAgICAgPE9wdGlvbiB2YWx1ZT1cImRpc2FibGVkXCIgZGlzYWJsZWQ+XG4gICAgICAgICAgICAgICAgICBEaXNhYmxlZFxuICAgICAgICAgICAgICAgIDwvT3B0aW9uPlxuICAgICAgICAgICAgICAgIDxPcHRpb24gdmFsdWU9XCJZaW1pbmdoZVwiPnlpbWluZ2hlPC9PcHRpb24+XG4gICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlbGVjdCBpdGVtXCI+XG4gICAgICAgICAgICAgIDxTZWxlY3Qgc3R5bGU9e3sgd2lkdGg6IFwiMTAwJVwiIH19IHBsYWNlaG9sZGVyPVwiU2VsZWN0IGFkXCI+XG4gICAgICAgICAgICAgICAgPE9wdGlvbiB2YWx1ZT1cImphY2tcIj5KYWNrPC9PcHRpb24+XG4gICAgICAgICAgICAgICAgPE9wdGlvbiB2YWx1ZT1cImx1Y3lcIj5MdWN5PC9PcHRpb24+XG4gICAgICAgICAgICAgICAgPE9wdGlvbiB2YWx1ZT1cImRpc2FibGVkXCIgZGlzYWJsZWQ+XG4gICAgICAgICAgICAgICAgICBEaXNhYmxlZFxuICAgICAgICAgICAgICAgIDwvT3B0aW9uPlxuICAgICAgICAgICAgICAgIDxPcHRpb24gdmFsdWU9XCJZaW1pbmdoZVwiPnlpbWluZ2hlPC9PcHRpb24+XG4gICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvQ29sPlxuICAgICAgICA8Q29sIHNwYW49ezIwfT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN0YXRzXCI+XG4gICAgICAgICAgICA8ZGl2IGlkPVwiY2hhcnRcIj48L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxUYWJsZVxuICAgICAgICAgICAgICAgIGNvbHVtbnM9e3BlcmZvcm1hbmNlQ29sdW1uc31cbiAgICAgICAgICAgICAgICBvblNlbGVjdGlvbj17b25TZWxlY3Rpb25DaGFuZ2V9XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzPXtzZWxlY3RlZFJvd0tleXN9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGVcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvQ29sPlxuICAgICAgPC9Sb3c+XG4gICAgICA8TW9kYWxcbiAgICAgICAgdGl0bGU9XCJWZXJ0aWNhbGx5IGNlbnRlcmVkIG1vZGFsIGRpYWxvZ1wiXG4gICAgICAgIGNlbnRlcmVkXG4gICAgICAgIHZpc2libGU9e3N0YXRlLm1vZGFsVmlzaWJsZX1cbiAgICAgICAgb25Paz17KCkgPT4gc2V0TW9kYWxWaXNpYmxlKGZhbHNlKX1cbiAgICAgICAgb25DYW5jZWw9eygpID0+IHNldE1vZGFsVmlzaWJsZShmYWxzZSl9XG4gICAgICA+XG4gICAgICAgIDxwPnNvbWUgY29udGVudHMuLi48L3A+XG4gICAgICAgIDxwPnNvbWUgY29udGVudHMuLi48L3A+XG4gICAgICAgIDxwPnNvbWUgY29udGVudHMuLi48L3A+XG4gICAgICA8L01vZGFsPlxuICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAge2BcbiAgICAgICAgICAjcGVyZm9ybWFuY2Uge1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDcwcHg7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAuc2VsZWN0aW9uIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgICAgIGhlaWdodDogYXV0bztcbiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLml0ZW0ge1xuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIH1cbiAgICAgICAgICAuc3RhdHMge1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgfVxuICAgICAgICBgfVxuICAgICAgPC9zdHlsZT5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gc3RhdGUgPT4gKHtcbiAgdXNlcjogc3RhdGUudXNlci5jdXJyZW50VXNlcixcbiAgZmJJZDogc3RhdGUudXNlci5mYlRva2VuLmZiSWRcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcykoUGVyZm9ybWFuY2UpO1xuIl19 */\\n/*@ sourceURL=/home/benkissi/projects/getch/getch-frontend-2.0/pages/performance.js */\"));\n}\n\nconst mapStateToProps = state => ({\n  user: state.user.currentUser,\n  fbId: state.user.fbToken.fbId\n});\n\nexport default connect(mapStateToProps)(Performance);","map":{"version":3,"sources":["/home/benkissi/projects/getch/getch-frontend-2.0/pages/performance.js"],"names":["useState","useEffect","connect","chartData","Table","performanceColumns","getAdAccounts","Performance","props","state","setState","modalVisible","selectedRowKeys","fbId","user","console","log","Column","require","chart","document","getElementById","data","xField","yField","padding","title","visible","text","forceFit","render","adAccounts","xToken","setModalVisible","onSelectionChange","selectedRows","selectedInterest","map","interest","name","Option","width","mapStateToProps","currentUser","fbToken"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Modal, Button, Select, Row, Col } from \"antd\";\n\nimport { chartData } from \"../utils/table\";\n\nimport Table from \"../components/table\";\nimport { performanceColumns } from \"../utils/table\";\nimport {getAdAccounts} from '../api/api'\n\nfunction Performance(props) {\n  const [state, setState] = useState({\n    modalVisible: false,\n    selectedRowKeys: null\n  });\n\n  const {fbId, user} = props\n\n  useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      console.log(\"on browser\");\n      const { Column } = require(\"@antv/g2plot\");\n\n      const chart = new Column(document.getElementById(\"chart\"), {\n        data: chartData,\n        xField: \"name\",\n        yField: \"value\",\n        padding: \"auto\",\n        title: {\n          visible: true,\n          text: \"Interest stats\"\n        },\n        forceFit: true\n      });\n      console.log(\"el\", document.getElementById(\"chart\"));\n      chart.render();\n    }\n  }, []);\n\n  useEffect(async () => {\n    if(modalVisible){\n      const adAccounts = await getAdAccounts(fbId, user.xToken)\n      console.log(adAccounts)\n    }\n  }, [modalVisible])\n\n  const setModalVisible = modalVisible => {\n    setState({\n      ...state,\n      modalVisible\n    });\n    \n  };\n\n  const onSelectionChange = (selectedRowKeys, selectedRows) => {\n    console.log(\"rows\", selectedRows);\n    const selectedInterest = selectedRows.map(interest => {\n      return interest.name;\n    });\n    setState({\n      ...state,\n      selectedRowKeys,\n      selectedInterest,\n      selectedRows\n    });\n  };\n\n  const { Option } = Select;\n  const { selectedRowKeys } = state;\n  return (\n    <div id=\"performance\">\n      <Row gutter={16} style={{ width: \"100%\" }}>\n        <Col span={4}>\n          <div className=\"selection\">\n            <div className=\"button item\">\n              <Button onClick={()=>setModalVisible(true)} block>\n                Select Ad account\n              </Button>\n            </div>\n            <div className=\"select item\">\n              <Select style={{ width: \"100%\" }} placeholder=\"Select campaign\">\n                <Option value=\"jack\">Jack</Option>\n                <Option value=\"lucy\">Lucy</Option>\n                <Option value=\"disabled\" disabled>\n                  Disabled\n                </Option>\n                <Option value=\"Yiminghe\">yiminghe</Option>\n              </Select>\n            </div>\n            <div className=\"select item\">\n              <Select style={{ width: \"100%\" }} placeholder=\"Select adset\">\n                <Option value=\"jack\">Jack</Option>\n                <Option value=\"lucy\">Lucy</Option>\n                <Option value=\"disabled\" disabled>\n                  Disabled\n                </Option>\n                <Option value=\"Yiminghe\">yiminghe</Option>\n              </Select>\n            </div>\n            <div className=\"select item\">\n              <Select style={{ width: \"100%\" }} placeholder=\"Select ad\">\n                <Option value=\"jack\">Jack</Option>\n                <Option value=\"lucy\">Lucy</Option>\n                <Option value=\"disabled\" disabled>\n                  Disabled\n                </Option>\n                <Option value=\"Yiminghe\">yiminghe</Option>\n              </Select>\n            </div>\n          </div>\n        </Col>\n        <Col span={20}>\n          <div className=\"stats\">\n            <div id=\"chart\"></div>\n            <div>\n              <Table\n                columns={performanceColumns}\n                onSelection={onSelectionChange}\n                selectedRowKeys={selectedRowKeys}\n                className=\"table\"\n              />\n            </div>\n          </div>\n        </Col>\n      </Row>\n      <Modal\n        title=\"Vertically centered modal dialog\"\n        centered\n        visible={state.modalVisible}\n        onOk={() => setModalVisible(false)}\n        onCancel={() => setModalVisible(false)}\n      >\n        <p>some contents...</p>\n        <p>some contents...</p>\n        <p>some contents...</p>\n      </Modal>\n      <style jsx>\n        {`\n          #performance {\n            display: flex;\n            position: relative;\n            margin-top: 70px;\n            width: 100%;\n          }\n\n          .selection {\n            display: flex;\n            flex-direction: column;\n            border: 1px solid #ccc;\n            border-radius: 4px;\n            height: auto;\n            padding: 10px;\n          }\n\n          .item {\n            margin-bottom: 30px;\n            width: 100%;\n          }\n          .stats {\n            display: flex;\n            flex-direction: column;\n          }\n        `}\n      </style>\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  user: state.user.currentUser,\n  fbId: state.user.fbToken.fbId\n});\n\nexport default connect(mapStateToProps)(Performance);\n"]},"metadata":{},"sourceType":"module"}