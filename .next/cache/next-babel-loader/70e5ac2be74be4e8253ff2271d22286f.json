{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from \"axios\";\nimport endpoints from \"./endpoints\";\nimport { splitArray } from \"../utils/search\";\nexport var signUp = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(email, password) {\n    var url, data, res, token;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log(\"getting\", email, password);\n            url = endpoints.SIGN_UP;\n            console.log('url', url);\n            data = {\n              email: email,\n              password: password\n            };\n            _context.next = 6;\n            return axios.post(url, data);\n\n          case 6:\n            res = _context.sent;\n            token = res.headers[\"x-auth\"].replace(\"Bearer \", \"\");\n            res.data[\"xToken\"] = token;\n            return _context.abrupt(\"return\", res.data);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function signUp(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var signIn = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(email, password) {\n    var url, params, res, token;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            console.log(\"sign in api\");\n            url = endpoints.SIGN_IN;\n            params = {\n              email: email,\n              password: password\n            };\n            console.log(\"api\", params);\n            _context2.next = 6;\n            return axios.get(url, {\n              params: params\n            });\n\n          case 6:\n            res = _context2.sent;\n            token = res.headers[\"x-auth\"].replace(\"Bearer \", \"\");\n            res.data[\"xToken\"] = token;\n            return _context2.abrupt(\"return\", res.data);\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function signIn(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var fbAuthentication = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(token, id, fbId, name) {\n    var url, params, res;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            console.log(\"name api\", name);\n            url = endpoints.FB_AUTH;\n            params = {\n              token: token,\n              id: id,\n              fbId: fbId,\n              name: name\n            };\n            _context3.next = 5;\n            return axios.get(url, {\n              params: params\n            });\n\n          case 5:\n            res = _context3.sent;\n            console.log(\"res data\", res.data);\n            return _context3.abrupt(\"return\", res.data);\n\n          case 8:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function fbAuthentication(_x5, _x6, _x7, _x8) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport var searchInterest = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(token, keyword) {\n    var limit,\n        url,\n        params,\n        res,\n        _args4 = arguments;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            limit = _args4.length > 2 && _args4[2] !== undefined ? _args4[2] : 500;\n            url = endpoints.FB_INTEREST_SEARCH(2.11);\n            params = {\n              q: keyword,\n              type: \"adinterest\",\n              access_token: token,\n              limit: limit\n            };\n            _context4.next = 5;\n            return axios.get(url, {\n              params: params\n            });\n\n          case 5:\n            res = _context4.sent;\n            return _context4.abrupt(\"return\", res.data);\n\n          case 7:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function searchInterest(_x9, _x10) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexport var getInterestSuggestions = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(token, keywords) {\n    var limit,\n        interestSuggestions,\n        response,\n        url,\n        params,\n        page,\n        _args5 = arguments;\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            limit = _args5.length > 2 && _args5[2] !== undefined ? _args5[2] : 100;\n            console.log('keywords-----', keywords);\n            interestSuggestions = [];\n            url = endpoints.FB_INTEREST_SEARCH(2.11);\n            params = {\n              interest_list: keywords,\n              type: \"adinterestsuggestion\",\n              access_token: token,\n              limit: limit\n            };\n            _context5.next = 7;\n            return axios.get(url, {\n              params: params\n            });\n\n          case 7:\n            response = _context5.sent;\n            interestSuggestions.push.apply(interestSuggestions, _toConsumableArray(response.data.data));\n            page = 0;\n\n          case 10:\n            if (!response.data.paging.next) {\n              _context5.next = 20;\n              break;\n            }\n\n            if (!(page > 5)) {\n              _context5.next = 13;\n              break;\n            }\n\n            return _context5.abrupt(\"break\", 20);\n\n          case 13:\n            _context5.next = 15;\n            return axios.get(response.data.paging.next);\n\n          case 15:\n            response = _context5.sent;\n            interestSuggestions.push.apply(interestSuggestions, _toConsumableArray(response.data.data));\n            page++;\n            _context5.next = 10;\n            break;\n\n          case 20:\n            return _context5.abrupt(\"return\", interestSuggestions);\n\n          case 21:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function getInterestSuggestions(_x11, _x12) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nexport var compileInterestSuggestions = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(token, keywords) {\n    var limit,\n        suggestions,\n        dataArray,\n        i,\n        _args6 = arguments;\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            limit = _args6.length > 2 && _args6[2] !== undefined ? _args6[2] : 100;\n\n            if (!(keywords.length > 20)) {\n              _context6.next = 18;\n              break;\n            }\n\n            suggestions = [];\n            dataArray = splitArray(keywords, 20);\n            i = 0;\n\n          case 5:\n            if (!(i < dataArray.length)) {\n              _context6.next = 17;\n              break;\n            }\n\n            _context6.t0 = suggestions.push;\n            _context6.t1 = suggestions;\n            _context6.t2 = _toConsumableArray;\n            _context6.next = 11;\n            return getInterestSuggestions(token, dataArray[i], limit);\n\n          case 11:\n            _context6.t3 = _context6.sent;\n            _context6.t4 = (0, _context6.t2)(_context6.t3);\n\n            _context6.t0.apply.call(_context6.t0, _context6.t1, _context6.t4);\n\n          case 14:\n            i++;\n            _context6.next = 5;\n            break;\n\n          case 17:\n            return _context6.abrupt(\"return\", suggestions);\n\n          case 18:\n            _context6.next = 20;\n            return getInterestSuggestions(token, keywords, limit);\n\n          case 20:\n            return _context6.abrupt(\"return\", _context6.sent);\n\n          case 21:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n\n  return function compileInterestSuggestions(_x13, _x14) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nexport var getProducts = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(shopName) {\n    var url, params, res;\n    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            url = endpoints.GET_PRODUCTS(shopName);\n            params = {\n              limit: 10\n            };\n            _context7.next = 4;\n            return axios.get(url, {\n              params: params\n            });\n\n          case 4:\n            res = _context7.sent;\n            console.log(res.data);\n\n          case 6:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n\n  return function getProducts(_x15) {\n    return _ref7.apply(this, arguments);\n  };\n}();\nexport var getAdAccounts = /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(fbId, token) {\n    var url, headers, params, res;\n    return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            url = endpoints.GET_ADACCOUNTS(fbId);\n            headers = {\n              Authorization: token\n            };\n            params = {\n              fbId: fbId\n            };\n            _context8.next = 5;\n            return axios.get(url, {\n              headers: headers,\n              params: params\n            });\n\n          case 5:\n            res = _context8.sent;\n            return _context8.abrupt(\"return\", res.data);\n\n          case 7:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8);\n  }));\n\n  return function getAdAccounts(_x16, _x17) {\n    return _ref8.apply(this, arguments);\n  };\n}();\nexport var fbPaginate = /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(page) {\n    var res;\n    return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            _context9.next = 2;\n            return axios.get(page);\n\n          case 2:\n            res = _context9.sent;\n            return _context9.abrupt(\"return\", res.data);\n\n          case 4:\n          case \"end\":\n            return _context9.stop();\n        }\n      }\n    }, _callee9);\n  }));\n\n  return function fbPaginate(_x18) {\n    return _ref9.apply(this, arguments);\n  };\n}();\nexport var getCampaigns = /*#__PURE__*/function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(accountId, token) {\n    var url, headers, res;\n    return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n      while (1) {\n        switch (_context10.prev = _context10.next) {\n          case 0:\n            url = endpoints.GET_CAMPAIGNS(accountId);\n            headers = {\n              Authorization: token\n            };\n            _context10.next = 4;\n            return axios.get(url, {\n              headers: headers\n            });\n\n          case 4:\n            res = _context10.sent;\n            return _context10.abrupt(\"return\", res.data);\n\n          case 6:\n          case \"end\":\n            return _context10.stop();\n        }\n      }\n    }, _callee10);\n  }));\n\n  return function getCampaigns(_x19, _x20) {\n    return _ref10.apply(this, arguments);\n  };\n}();\nexport var getAdsets = /*#__PURE__*/function () {\n  var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11(camaignId, token) {\n    var url, headers, res;\n    return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n      while (1) {\n        switch (_context11.prev = _context11.next) {\n          case 0:\n            url = endpoints.GET_ADSETS(camaignId);\n            headers = {\n              Authorization: token\n            };\n            _context11.next = 4;\n            return axios.get(url, {\n              headers: headers\n            });\n\n          case 4:\n            res = _context11.sent;\n            return _context11.abrupt(\"return\", res.data);\n\n          case 6:\n          case \"end\":\n            return _context11.stop();\n        }\n      }\n    }, _callee11);\n  }));\n\n  return function getAdsets(_x21, _x22) {\n    return _ref11.apply(this, arguments);\n  };\n}();\nexport var getAds = /*#__PURE__*/function () {\n  var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12(adsetId, token) {\n    var url, headers, res;\n    return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n      while (1) {\n        switch (_context12.prev = _context12.next) {\n          case 0:\n            url = endpoints.GET_ADS(adsetId);\n            headers = {\n              Authorization: token\n            };\n            _context12.next = 4;\n            return axios.get(url, {\n              headers: headers\n            });\n\n          case 4:\n            res = _context12.sent;\n            return _context12.abrupt(\"return\", res.data);\n\n          case 6:\n          case \"end\":\n            return _context12.stop();\n        }\n      }\n    }, _callee12);\n  }));\n\n  return function getAds(_x23, _x24) {\n    return _ref12.apply(this, arguments);\n  };\n}();\nexport var getInterestStats = /*#__PURE__*/function () {\n  var _ref13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee13(adId, token) {\n    var url, headers, res;\n    return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n      while (1) {\n        switch (_context13.prev = _context13.next) {\n          case 0:\n            url = endpoints.GET_STATS(adId);\n            headers = {\n              Authorization: token\n            };\n            _context13.next = 4;\n            return axios.get(url, {\n              headers: headers\n            });\n\n          case 4:\n            res = _context13.sent;\n            return _context13.abrupt(\"return\", res.data);\n\n          case 6:\n          case \"end\":\n            return _context13.stop();\n        }\n      }\n    }, _callee13);\n  }));\n\n  return function getInterestStats(_x25, _x26) {\n    return _ref13.apply(this, arguments);\n  };\n}();\nexport var userLogout = /*#__PURE__*/function () {\n  var _ref14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee14(token) {\n    var url, headers, res;\n    return _regeneratorRuntime.wrap(function _callee14$(_context14) {\n      while (1) {\n        switch (_context14.prev = _context14.next) {\n          case 0:\n            url = endpoints.LOG_OUT;\n            headers = {\n              Authorization: token\n            };\n            _context14.next = 4;\n            return axios.get(url, {\n              headers: headers\n            });\n\n          case 4:\n            res = _context14.sent;\n            console.log(\"res\", res);\n            return _context14.abrupt(\"return\", res.data);\n\n          case 7:\n          case \"end\":\n            return _context14.stop();\n        }\n      }\n    }, _callee14);\n  }));\n\n  return function userLogout(_x27) {\n    return _ref14.apply(this, arguments);\n  };\n}();\nexport var updateSearchCount = /*#__PURE__*/function () {\n  var _ref15 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee15(token) {\n    var url, headers, res;\n    return _regeneratorRuntime.wrap(function _callee15$(_context15) {\n      while (1) {\n        switch (_context15.prev = _context15.next) {\n          case 0:\n            url = endpoints.UPDATE_SEARCH_COUNT;\n            headers = {\n              Authorization: token\n            };\n            _context15.next = 4;\n            return axios.get(url, {\n              headers: headers\n            });\n\n          case 4:\n            res = _context15.sent;\n            console.log(\"count\", res);\n            return _context15.abrupt(\"return\", res.data);\n\n          case 7:\n          case \"end\":\n            return _context15.stop();\n        }\n      }\n    }, _callee15);\n  }));\n\n  return function updateSearchCount(_x28) {\n    return _ref15.apply(this, arguments);\n  };\n}();\nexport var verifyPayment = /*#__PURE__*/function () {\n  var _ref16 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee16(token, plan, ref) {\n    var url, headers, data, res;\n    return _regeneratorRuntime.wrap(function _callee16$(_context16) {\n      while (1) {\n        switch (_context16.prev = _context16.next) {\n          case 0:\n            url = endpoints.VERIFY_PAYMENT;\n            headers = {\n              Authorization: token\n            };\n            data = {\n              plan: plan,\n              ref: ref\n            };\n            _context16.next = 5;\n            return axios.post(url, data, {\n              headers: headers\n            });\n\n          case 5:\n            res = _context16.sent;\n            console.log(\"api\", res.data);\n            return _context16.abrupt(\"return\", res.data);\n\n          case 8:\n          case \"end\":\n            return _context16.stop();\n        }\n      }\n    }, _callee16);\n  }));\n\n  return function verifyPayment(_x29, _x30, _x31) {\n    return _ref16.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["/home/ben/code/million/getch-frontend-2.0/api/api.js"],"names":["axios","endpoints","splitArray","signUp","email","password","console","log","url","SIGN_UP","data","post","res","token","headers","replace","signIn","SIGN_IN","params","get","fbAuthentication","id","fbId","name","FB_AUTH","searchInterest","keyword","limit","FB_INTEREST_SEARCH","q","type","access_token","getInterestSuggestions","keywords","interestSuggestions","interest_list","response","push","page","paging","next","compileInterestSuggestions","length","suggestions","dataArray","i","getProducts","shopName","GET_PRODUCTS","getAdAccounts","GET_ADACCOUNTS","Authorization","fbPaginate","getCampaigns","accountId","GET_CAMPAIGNS","getAdsets","camaignId","GET_ADSETS","getAds","adsetId","GET_ADS","getInterestStats","adId","GET_STATS","userLogout","LOG_OUT","updateSearchCount","UPDATE_SEARCH_COUNT","verifyPayment","plan","ref","VERIFY_PAYMENT"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport endpoints from \"./endpoints\";\nimport { splitArray } from \"../utils/search\";\n\nexport const signUp = async (email, password) => {\n  console.log(\"getting\", email, password);\n  const url = endpoints.SIGN_UP;\n  console.log('url', url)\n  const data = {\n    email,\n    password,\n  };\n\n  const res = await axios.post(url, data);\n  const token = res.headers[\"x-auth\"].replace(\"Bearer \", \"\");\n  res.data[\"xToken\"] = token;\n  return res.data;\n};\n\nexport const signIn = async (email, password) => {\n  console.log(\"sign in api\");\n  const url = endpoints.SIGN_IN;\n  const params = {\n    email,\n    password,\n  };\n  console.log(\"api\", params);\n\n  const res = await axios.get(url, {\n    params,\n  });\n  const token = res.headers[\"x-auth\"].replace(\"Bearer \", \"\");\n  res.data[\"xToken\"] = token;\n  return res.data;\n};\n\nexport const fbAuthentication = async (token, id, fbId, name) => {\n  console.log(\"name api\", name);\n  const url = endpoints.FB_AUTH;\n  const params = {\n    token,\n    id,\n    fbId,\n    name,\n  };\n\n  const res = await axios.get(url, {\n    params,\n  });\n\n  console.log(\"res data\", res.data);\n\n  return res.data;\n};\n\nexport const searchInterest = async (token, keyword, limit = 500) => {\n  const url = endpoints.FB_INTEREST_SEARCH(2.11);\n  const params = {\n    q: keyword,\n    type: \"adinterest\",\n    access_token: token,\n    limit,\n  };\n  const res = await axios.get(url, {\n    params,\n  });\n  return res.data;\n};\n\nexport const getInterestSuggestions = async (token, keywords, limit = 100) => {\n  console.log('keywords-----', keywords)\n  let interestSuggestions = [];\n  let response;\n  const url = endpoints.FB_INTEREST_SEARCH(2.11);\n  \n  const params = {\n    interest_list: keywords,\n    type: \"adinterestsuggestion\",\n    access_token: token,\n    limit: limit,\n  };\n  response = await axios.get(url, {\n    params,\n  });\n  interestSuggestions.push(...response.data.data);\n  let page = 0;\n  while (response.data.paging.next) {\n    if (page > 5) {\n      break;\n    }\n    response = await axios.get(response.data.paging.next);\n    interestSuggestions.push(...response.data.data);\n    page++;\n  }\n  return interestSuggestions;\n};\n\nexport const compileInterestSuggestions = async (\n  token,\n  keywords,\n  limit = 100\n) => {\n  if (keywords.length > 20) {\n    let suggestions = [];\n    const dataArray = splitArray(keywords, 20);\n    for (let i = 0; i < dataArray.length; i++) {\n      suggestions.push(\n        ...(await getInterestSuggestions(token, dataArray[i], limit))\n      );\n    }\n    return suggestions;\n  }\n\n  return await getInterestSuggestions(token, keywords, limit);\n};\n\nexport const getProducts = async (shopName) => {\n  const url = endpoints.GET_PRODUCTS(shopName);\n  const params = {\n    limit: 10,\n  };\n  const res = await axios.get(url, {\n    params,\n  });\n\n  console.log(res.data);\n};\n\nexport const getAdAccounts = async (fbId, token) => {\n  const url = endpoints.GET_ADACCOUNTS(fbId);\n\n  const headers = {\n    Authorization: token,\n  };\n\n  const params = {\n    fbId,\n  };\n\n  const res = await axios.get(url, {\n    headers,\n    params,\n  });\n\n  return res.data;\n};\n\nexport const fbPaginate = async (page) => {\n  const res = await axios.get(page);\n  return res.data;\n};\n\nexport const getCampaigns = async (accountId, token) => {\n  const url = endpoints.GET_CAMPAIGNS(accountId);\n\n  const headers = {\n    Authorization: token,\n  };\n\n  const res = await axios.get(url, {\n    headers,\n  });\n\n  return res.data;\n};\n\nexport const getAdsets = async (camaignId, token) => {\n  const url = endpoints.GET_ADSETS(camaignId);\n\n  const headers = {\n    Authorization: token,\n  };\n\n  const res = await axios.get(url, {\n    headers,\n  });\n\n  return res.data;\n};\n\nexport const getAds = async (adsetId, token) => {\n  const url = endpoints.GET_ADS(adsetId);\n\n  const headers = {\n    Authorization: token,\n  };\n\n  const res = await axios.get(url, {\n    headers,\n  });\n\n  return res.data;\n};\n\nexport const getInterestStats = async (adId, token) => {\n  const url = endpoints.GET_STATS(adId);\n\n  const headers = {\n    Authorization: token,\n  };\n\n  const res = await axios.get(url, {\n    headers,\n  });\n\n  return res.data;\n};\n\nexport const userLogout = async (token) => {\n  const url = endpoints.LOG_OUT;\n\n  const headers = {\n    Authorization: token,\n  };\n\n  const res = await axios.get(url, {\n    headers,\n  });\n\n  console.log(\"res\", res);\n\n  return res.data;\n};\n\nexport const updateSearchCount = async (token) => {\n  const url = endpoints.UPDATE_SEARCH_COUNT;\n\n  const headers = {\n    Authorization: token,\n  };\n\n  const res = await axios.get(url, { headers });\n  console.log(\"count\", res);\n  return res.data;\n};\n\nexport const verifyPayment = async (token, plan, ref) => {\n  const url = endpoints.VERIFY_PAYMENT;\n\n  const headers = {\n    Authorization: token,\n  };\n\n  const data = {\n    plan,\n    ref,\n  };\n\n  const res = await axios.post(url, data, { headers });\n  console.log(\"api\", res.data);\n  return res.data;\n};\n"]},"metadata":{},"sourceType":"module"}