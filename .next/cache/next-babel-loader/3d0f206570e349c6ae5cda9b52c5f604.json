{"ast":null,"code":"import { takeLatest, put, all, call, select } from \"redux-saga/effects\";\nimport { searchSuccess, searchFailure, isLoading } from './search-actions';\nimport { searchInterest } from '../../api/api';\nimport { addScore, getInterestNames } from '../../utils/search';\nimport SearchActionTypes from './search-types';\nimport { getInterestList } from './search-selectors';\n\nfunction* getInterest({\n  payload\n}) {\n  try {\n    const {\n      token,\n      value,\n      limit\n    } = payload;\n    yield put(isLoading(true));\n    const data = yield searchInterest(token, value, limit);\n    const levelOne = addScore(data.data, 5);\n    const names = getInterestNames(data.data);\n    yield put(searchSuccess(levelOne));\n    yield put(isLoading(false));\n  } catch (error) {\n    yield put(isLoading(false));\n    yield put(searchFailure(error));\n  }\n}\n\nexport function* onSearchStart() {\n  yield takeLatest(SearchActionTypes.START_SEARCH, getInterest);\n}\nexport function* searchSagas() {\n  yield all([call(onSearchStart)]);\n}","map":{"version":3,"sources":["/code/ben/getch/frontend/redux/search/search-sagas.js"],"names":["takeLatest","put","all","call","select","searchSuccess","searchFailure","isLoading","searchInterest","addScore","getInterestNames","SearchActionTypes","getInterestList","getInterest","payload","token","value","limit","data","levelOne","names","error","onSearchStart","START_SEARCH","searchSagas"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,GAArB,EAA0BC,GAA1B,EAA+BC,IAA/B,EAAqCC,MAArC,QAAmD,oBAAnD;AACA,SAASC,aAAT,EAAwBC,aAAxB,EAAuCC,SAAvC,QAAwD,kBAAxD;AAEA,SAAQC,cAAR,QAA6B,eAA7B;AACA,SAAQC,QAAR,EAAkBC,gBAAlB,QAAyC,oBAAzC;AACA,OAAOC,iBAAP,MAA8B,gBAA9B;AAEA,SAAQC,eAAR,QAA8B,oBAA9B;;AAEA,UAAUC,WAAV,CAAuB;AAACC,EAAAA;AAAD,CAAvB,EAAkC;AAC9B,MAAG;AACC,UAAM;AAACC,MAAAA,KAAD;AAAQC,MAAAA,KAAR;AAAeC,MAAAA;AAAf,QAAwBH,OAA9B;AACA,UAAMb,GAAG,CAACM,SAAS,CAAC,IAAD,CAAV,CAAT;AACA,UAAMW,IAAI,GAAG,MAAMV,cAAc,CAACO,KAAD,EAAQC,KAAR,EAAeC,KAAf,CAAjC;AACA,UAAME,QAAQ,GAAGV,QAAQ,CAACS,IAAI,CAACA,IAAN,EAAY,CAAZ,CAAzB;AACA,UAAME,KAAK,GAAGV,gBAAgB,CAACQ,IAAI,CAACA,IAAN,CAA9B;AAEA,UAAMjB,GAAG,CAACI,aAAa,CAACc,QAAD,CAAd,CAAT;AACA,UAAMlB,GAAG,CAACM,SAAS,CAAC,KAAD,CAAV,CAAT;AACH,GATD,CASC,OAAMc,KAAN,EAAY;AACT,UAAMpB,GAAG,CAACM,SAAS,CAAC,KAAD,CAAV,CAAT;AACA,UAAMN,GAAG,CAACK,aAAa,CAACe,KAAD,CAAd,CAAT;AACH;AACJ;;AAED,OAAO,UAAUC,aAAV,GAA2B;AAC9B,QAAMtB,UAAU,CAACW,iBAAiB,CAACY,YAAnB,EAAiCV,WAAjC,CAAhB;AACH;AAED,OAAO,UAAUW,WAAV,GAAyB;AAC5B,QAAMtB,GAAG,CAAC,CACNC,IAAI,CAACmB,aAAD,CADE,CAAD,CAAT;AAGH","sourcesContent":["import { takeLatest, put, all, call, select } from \"redux-saga/effects\";\nimport { searchSuccess, searchFailure, isLoading } from './search-actions'\n\nimport {searchInterest} from '../../api/api'\nimport {addScore, getInterestNames} from '../../utils/search'\nimport SearchActionTypes from './search-types'\n\nimport {getInterestList} from './search-selectors'\n\nfunction* getInterest ({payload}) {\n    try{\n        const {token, value, limit} = payload\n        yield put(isLoading(true))\n        const data = yield searchInterest(token, value, limit)\n        const levelOne = addScore(data.data, 5)\n        const names = getInterestNames(data.data)\n        \n        yield put(searchSuccess(levelOne))\n        yield put(isLoading(false))\n    }catch(error){\n        yield put(isLoading(false))\n        yield put(searchFailure(error))\n    }\n}\n\nexport function* onSearchStart () {\n    yield takeLatest(SearchActionTypes.START_SEARCH, getInterest)\n}\n\nexport function* searchSagas () {\n    yield all([\n        call(onSearchStart)\n    ])\n}\n\n"]},"metadata":{},"sourceType":"module"}