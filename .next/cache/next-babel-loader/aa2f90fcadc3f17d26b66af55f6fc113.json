{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/benkissi/projects/getch/getch-frontend-2.0/pages/signup.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useRouter } from \"next/router\";\nimport Loader from \"react-loader-spinner\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport { signupStart, signinStart } from \"../redux/user/user-actions\";\n\nfunction Signin(props) {\n  var _useState = useState({\n    current: \"signup\",\n    email: \"\",\n    password: \"\",\n    error: {\n      email: null,\n      password: null,\n      isMatch: null\n    }\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var router = useRouter();\n  useEffect(function () {\n    if (props.user) {\n      router.push(\"/\");\n    }\n  }, [props.user]);\n  useEffect(function () {\n    if (props.userError) {// toast.error(`There was an error. ${props.userError.message}`, {\n      //     position: \"top-right\",\n      //     autoClose: 5000,\n      //     hideProgressBar: false,\n      //     closeOnClick: true,\n      //     pauseOnHover: true,\n      //     draggable: true\n      //   });\n    }\n  }, [props.userError]);\n  useEffect(function () {\n    if (current === \"signup\") {\n      if (!state.error.email && !state.error.password && state.error.isMatch) {\n        handleSignup({\n          email: state.email,\n          password: state.password\n        });\n      }\n    } else if (current === \"signin\") {\n      if (!state.error.email && !state.error.password) {\n        handleSignin({\n          email: state.email,\n          password: state.password\n        });\n      }\n    }\n  }, [state.error]);\n\n  var setInput = function setInput(event) {\n    console.log(event.target.name);\n    var _event$target = event.target,\n        name = _event$target.name,\n        value = _event$target.value;\n    setState(function (prevState) {\n      return _objectSpread({}, prevState, _defineProperty({}, name, value));\n    });\n  };\n\n  var handleSubmit = function handleSubmit() {\n    if (!validateEmail(state.email)) {\n      console.log(\"hshsh\");\n      setState(function (prevState) {\n        return _objectSpread({}, prevState, {\n          error: _objectSpread({}, prevState.error, {\n            email: \"Add a correct email\"\n          })\n        });\n      });\n    } else {\n      setState(function (prevState) {\n        return _objectSpread({}, prevState, {\n          error: _objectSpread({}, prevState.error, {\n            email: null\n          })\n        });\n      });\n    }\n\n    if (state.password.length < 8) {\n      console.log(\"wrong pass\");\n      setState(function (prevState) {\n        return _objectSpread({}, prevState, {\n          error: _objectSpread({}, prevState.error, {\n            password: \"Password must be longer than 7 characters\"\n          })\n        });\n      });\n    } else {\n      setState(function (prevState) {\n        return _objectSpread({}, prevState, {\n          error: _objectSpread({}, prevState.error, {\n            password: null\n          })\n        });\n      });\n    }\n\n    if (state.current == \"signup\") {\n      var isMatch = state.password === state.repeatPassword;\n      console.log(\"match\", isMatch);\n      setState(function (prevState) {\n        return _objectSpread({}, prevState, {\n          error: _objectSpread({}, prevState.error, {\n            isMatch: isMatch\n          })\n        });\n      });\n    } // if (state.current == \"signin\") {\n    //   setState((prevState) => ({\n    //     ...prevState,\n    //     error: {\n    //       ...prevState.error,\n    //       signinError: null\n    //     },\n    //   }));\n    // }\n\n  };\n\n  var handleSignup = function handleSignup(details) {\n    props.signup(details);\n  };\n\n  var handleSignin = function handleSignin(details) {\n    props.signin(details);\n  };\n\n  function validateEmail(email) {\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(email).toLowerCase());\n  }\n\n  var handleAuthChange = function handleAuthChange() {\n    if (state.current == \"signup\") {\n      console.log(\"auth change\");\n      setState(function (prevState) {\n        return _objectSpread({}, prevState, {\n          current: \"signin\"\n        });\n      });\n    }\n\n    if (state.current == \"signin\") {\n      console.log(\"auth change\");\n      setState(function (prevState) {\n        return _objectSpread({}, prevState, {\n          current: \"signup\"\n        });\n      });\n    }\n  };\n\n  var buttonText = function buttonText() {\n    if (props.loading) {\n      return __jsx(\"div\", {\n        className: \"loader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, __jsx(Loader, {\n        type: \"Bars\",\n        color: \"#fff\",\n        height: 20,\n        width: 50,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }));\n    } else if (state.current == \"signup\") {\n      return \"Sign up\";\n    } else {\n      return \"Sign in\";\n    }\n  };\n\n  var current = state.current;\n  return __jsx(\"div\", {\n    id: \"wrapper\",\n    className: \"jsx-4146696111\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, __jsx(ToastContainer, {\n    position: \"top-left\",\n    autoClose: 5000,\n    hideProgressBar: false,\n    newestOnTop: false,\n    closeOnClick: true,\n    rtl: false,\n    pauseOnVisibilityChange: true,\n    draggable: true,\n    pauseOnHover: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"jsx-4146696111\" + \" \" + \"pane\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  }, __jsx(\"img\", {\n    src: \"/images/newLogoWhite.svg\",\n    className: \"jsx-4146696111\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"jsx-4146696111\" + \" \" + \"slogan\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }, \"Find hidden Facebook interests\")), __jsx(\"div\", {\n    className: \"jsx-4146696111\" + \" \" + \"auth\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-4146696111\" + \" \" + \"details\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, __jsx(\"h3\", {\n    className: \"jsx-4146696111\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, current == \"signup\" ? \"Sign up\" : \"Sign in\"), __jsx(\"div\", {\n    className: \"jsx-4146696111\" + \" \" + \"input\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, __jsx(\"p\", {\n    style: {\n      display: state.error.email ? \"block\" : \"none\"\n    },\n    className: \"jsx-4146696111\" + \" \" + \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  }, state.error.email ? state.error.email : \"\"), __jsx(_Input, {\n    name: \"email\",\n    type: \"email\",\n    placeholder: \"email\",\n    onChange: setInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"jsx-4146696111\" + \" \" + \"input\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  }, __jsx(\"p\", {\n    style: {\n      display: state.error.password ? \"block\" : \"none\"\n    },\n    className: \"jsx-4146696111\" + \" \" + \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208\n    },\n    __self: this\n  }, state.error.password ? state.error.password : \"\"), __jsx(_Input, {\n    name: \"password\",\n    type: \"password\",\n    placeholder: \"password\",\n    onChange: setInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214\n    },\n    __self: this\n  })), current === \"signup\" ? __jsx(\"div\", {\n    className: \"jsx-4146696111\" + \" \" + \"input\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222\n    },\n    __self: this\n  }, __jsx(\"p\", {\n    style: {\n      display: state.error.isMatch === false ? \"block\" : \"none\"\n    },\n    className: \"jsx-4146696111\" + \" \" + \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223\n    },\n    __self: this\n  }, \"Passwords do not match\"), __jsx(_Input, {\n    name: \"repeatPassword\",\n    type: \"password\",\n    placeholder: \"repeat password\",\n    onChange: setInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231\n    },\n    __self: this\n  })) : \"\", __jsx(_Button, {\n    type: \"primary\",\n    style: {\n      width: \"100%\"\n    },\n    onClick: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241\n    },\n    __self: this\n  }, buttonText()), __jsx(\"div\", {\n    id: \"sub-actions\",\n    className: \"jsx-4146696111\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248\n    },\n    __self: this\n  }, __jsx(\"p\", {\n    className: \"jsx-4146696111\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249\n    },\n    __self: this\n  }, \"By signing up, you agree to our terms and conditions\"), __jsx(\"p\", {\n    className: \"jsx-4146696111\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250\n    },\n    __self: this\n  }, current === \"signup\" ? \"Have an account already? \" : \"Create an account. \", __jsx(\"span\", {\n    onClick: handleAuthChange,\n    className: \"jsx-4146696111\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254\n    },\n    __self: this\n  }, current === \"signup\" ? \"Sign in\" : \"Sign up\"))))), __jsx(_JSXStyle, {\n    id: \"4146696111\",\n    __self: this\n  }, \"#wrapper.jsx-4146696111{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;height:100vh;}.pane.jsx-4146696111{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#4e54c8;-webkit-flex:1;-ms-flex:1;flex:1;}.auth.jsx-4146696111{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex:2;-ms-flex:2;flex:2;}.details.jsx-4146696111{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:40%;}.input.jsx-4146696111{width:100%;margin:10px 0 10px 0;}.card.jsx-4146696111{color:black;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-radius:4px;width:30%;background-color:white;height:100px;}.slogan.jsx-4146696111{color:white;font-size:18px;}#sub-actions.jsx-4146696111{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;margin-top:10px;}#sub-actions.jsx-4146696111 p.jsx-4146696111{margin:0;margin-bottom:5px;}#sub-actions.jsx-4146696111 span.jsx-4146696111{color:#4e54c8;cursor:pointer;font-weight:bold;}.error.jsx-4146696111{color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2Jlbmtpc3NpL3Byb2plY3RzL2dldGNoL2dldGNoLWZyb250ZW5kLTIuMC9wYWdlcy9zaWdudXAuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBb1FrQixBQUd3QixBQU1BLEFBU0EsQUFRQSxBQVFGLEFBS0MsQUFTQSxBQUtDLEFBUUosQUFLSyxBQU1KLFNBVlEsQ0FXcEIsQ0F0Q3VCLENBS1IsQUFTRSxFQWtCQSxhQWpCakIsQUFhQSxFQUttQixHQWhDbkIsY0FpQ0EsNEJBakVhLEFBTVcsQUFTQSxBQVFBLEFBMkJBLFdBakRULENBb0NLLFlBbkNwQixNQW9DWSxVQUNhLHVCQUNWLGFBQ2YsRUFsQ3lCLEFBU0EsQUFRQSxBQTJCQSxtR0EzQ0osQUFTQSxBQVFBLEFBMkJELGtCQUNGLGdCQUNsQiwyREE3QzJCLEFBU2xCLEFBUUcsVUFDWixlQWpCUyxRQVNULHlCQVJBIiwiZmlsZSI6Ii9ob21lL2Jlbmtpc3NpL3Byb2plY3RzL2dldGNoL2dldGNoLWZyb250ZW5kLTIuMC9wYWdlcy9zaWdudXAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tIFwibmV4dC9yb3V0ZXJcIjtcbmltcG9ydCBMb2FkZXIgZnJvbSBcInJlYWN0LWxvYWRlci1zcGlubmVyXCI7XG5pbXBvcnQgeyBUb2FzdENvbnRhaW5lciwgdG9hc3QgfSBmcm9tIFwicmVhY3QtdG9hc3RpZnlcIjtcblxuaW1wb3J0IHsgQnV0dG9uLCBJbnB1dCB9IGZyb20gXCJhbnRkXCI7XG5cbmltcG9ydCB7IHNpZ251cFN0YXJ0LCBzaWduaW5TdGFydCB9IGZyb20gXCIuLi9yZWR1eC91c2VyL3VzZXItYWN0aW9uc1wiO1xuXG5mdW5jdGlvbiBTaWduaW4ocHJvcHMpIHtcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZSh7XG4gICAgY3VycmVudDogXCJzaWdudXBcIixcbiAgICBlbWFpbDogXCJcIixcbiAgICBwYXNzd29yZDogXCJcIixcbiAgICBlcnJvcjoge1xuICAgICAgZW1haWw6IG51bGwsXG4gICAgICBwYXNzd29yZDogbnVsbCxcbiAgICAgIGlzTWF0Y2g6IG51bGwsXG4gICAgfSxcbiAgfSk7XG5cbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocHJvcHMudXNlcikge1xuICAgICAgcm91dGVyLnB1c2goXCIvXCIpO1xuICAgIH1cbiAgfSwgW3Byb3BzLnVzZXJdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmKHByb3BzLnVzZXJFcnJvcil7XG4gICAgICAvLyB0b2FzdC5lcnJvcihgVGhlcmUgd2FzIGFuIGVycm9yLiAke3Byb3BzLnVzZXJFcnJvci5tZXNzYWdlfWAsIHtcbiAgICAgIC8vICAgICBwb3NpdGlvbjogXCJ0b3AtcmlnaHRcIixcbiAgICAgIC8vICAgICBhdXRvQ2xvc2U6IDUwMDAsXG4gICAgICAvLyAgICAgaGlkZVByb2dyZXNzQmFyOiBmYWxzZSxcbiAgICAgIC8vICAgICBjbG9zZU9uQ2xpY2s6IHRydWUsXG4gICAgICAvLyAgICAgcGF1c2VPbkhvdmVyOiB0cnVlLFxuICAgICAgLy8gICAgIGRyYWdnYWJsZTogdHJ1ZVxuICAgICAgLy8gICB9KTtcbiAgfVxuICB9LCBbcHJvcHMudXNlckVycm9yXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjdXJyZW50ID09PSBcInNpZ251cFwiKSB7XG4gICAgICBpZiAoIXN0YXRlLmVycm9yLmVtYWlsICYmICFzdGF0ZS5lcnJvci5wYXNzd29yZCAmJiBzdGF0ZS5lcnJvci5pc01hdGNoKSB7XG4gICAgICAgIGhhbmRsZVNpZ251cCh7IGVtYWlsOiBzdGF0ZS5lbWFpbCwgcGFzc3dvcmQ6IHN0YXRlLnBhc3N3b3JkIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY3VycmVudCA9PT0gXCJzaWduaW5cIikge1xuICAgICAgaWYgKCFzdGF0ZS5lcnJvci5lbWFpbCAmJiAhc3RhdGUuZXJyb3IucGFzc3dvcmQpIHtcbiAgICAgICAgaGFuZGxlU2lnbmluKHsgZW1haWw6IHN0YXRlLmVtYWlsLCBwYXNzd29yZDogc3RhdGUucGFzc3dvcmQgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbc3RhdGUuZXJyb3JdKTtcblxuICBjb25zdCBzZXRJbnB1dCA9IChldmVudCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKGV2ZW50LnRhcmdldC5uYW1lKTtcbiAgICBjb25zdCB7IG5hbWUsIHZhbHVlIH0gPSBldmVudC50YXJnZXQ7XG4gICAgc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4gKHtcbiAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgIFtuYW1lXTogdmFsdWUsXG4gICAgfSkpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9ICgpID0+IHtcbiAgICBpZiAoIXZhbGlkYXRlRW1haWwoc3RhdGUuZW1haWwpKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImhzaHNoXCIpO1xuICAgICAgc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4gKHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIC4uLnByZXZTdGF0ZS5lcnJvcixcbiAgICAgICAgICBlbWFpbDogXCJBZGQgYSBjb3JyZWN0IGVtYWlsXCIsXG4gICAgICAgIH0sXG4gICAgICB9KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAuLi5wcmV2U3RhdGUuZXJyb3IsXG4gICAgICAgICAgZW1haWw6IG51bGwsXG4gICAgICAgIH0sXG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlLnBhc3N3b3JkLmxlbmd0aCA8IDgpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwid3JvbmcgcGFzc1wiKTtcbiAgICAgIHNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAuLi5wcmV2U3RhdGUuZXJyb3IsXG4gICAgICAgICAgcGFzc3dvcmQ6IFwiUGFzc3dvcmQgbXVzdCBiZSBsb25nZXIgdGhhbiA3IGNoYXJhY3RlcnNcIixcbiAgICAgICAgfSxcbiAgICAgIH0pKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4gKHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIC4uLnByZXZTdGF0ZS5lcnJvcixcbiAgICAgICAgICBwYXNzd29yZDogbnVsbCxcbiAgICAgICAgfSxcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUuY3VycmVudCA9PSBcInNpZ251cFwiKSB7XG4gICAgICBjb25zdCBpc01hdGNoID0gc3RhdGUucGFzc3dvcmQgPT09IHN0YXRlLnJlcGVhdFBhc3N3b3JkO1xuICAgICAgY29uc29sZS5sb2coXCJtYXRjaFwiLCBpc01hdGNoKTtcblxuICAgICAgc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4gKHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIC4uLnByZXZTdGF0ZS5lcnJvcixcbiAgICAgICAgICBpc01hdGNoOiBpc01hdGNoLFxuICAgICAgICB9LFxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIC8vIGlmIChzdGF0ZS5jdXJyZW50ID09IFwic2lnbmluXCIpIHtcbiAgICAvLyAgIHNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XG4gICAgLy8gICAgIC4uLnByZXZTdGF0ZSxcbiAgICAvLyAgICAgZXJyb3I6IHtcbiAgICAvLyAgICAgICAuLi5wcmV2U3RhdGUuZXJyb3IsXG4gICAgLy8gICAgICAgc2lnbmluRXJyb3I6IG51bGxcbiAgICAvLyAgICAgfSxcbiAgICAvLyAgIH0pKTtcbiAgICAvLyB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2lnbnVwID0gKGRldGFpbHMpID0+IHtcbiAgICBwcm9wcy5zaWdudXAoZGV0YWlscyk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2lnbmluID0gKGRldGFpbHMpID0+IHtcbiAgICBwcm9wcy5zaWduaW4oZGV0YWlscyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gdmFsaWRhdGVFbWFpbChlbWFpbCkge1xuICAgIHZhciByZSA9IC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcXSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XG4gICAgcmV0dXJuIHJlLnRlc3QoU3RyaW5nKGVtYWlsKS50b0xvd2VyQ2FzZSgpKTtcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUF1dGhDaGFuZ2UgPSAoKSA9PiB7XG4gICAgaWYgKHN0YXRlLmN1cnJlbnQgPT0gXCJzaWdudXBcIikge1xuICAgICAgY29uc29sZS5sb2coXCJhdXRoIGNoYW5nZVwiKTtcbiAgICAgIHNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgY3VycmVudDogXCJzaWduaW5cIixcbiAgICAgIH0pKTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLmN1cnJlbnQgPT0gXCJzaWduaW5cIikge1xuICAgICAgY29uc29sZS5sb2coXCJhdXRoIGNoYW5nZVwiKTtcbiAgICAgIHNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgY3VycmVudDogXCJzaWdudXBcIixcbiAgICAgIH0pKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgYnV0dG9uVGV4dCA9ICgpID0+IHtcbiAgICBpZiAocHJvcHMubG9hZGluZykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2FkZXJcIj5cbiAgICAgICAgICA8TG9hZGVyIHR5cGU9XCJCYXJzXCIgY29sb3I9XCIjZmZmXCIgaGVpZ2h0PXsyMH0gd2lkdGg9ezUwfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9ZWxzZSBpZihzdGF0ZS5jdXJyZW50ID09IFwic2lnbnVwXCIpe1xuICAgICAgcmV0dXJuIFwiU2lnbiB1cFwiXG4gICAgfWVsc2Uge1xuICAgICAgcmV0dXJuIFwiU2lnbiBpblwiXG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHsgY3VycmVudCB9ID0gc3RhdGU7XG4gIHJldHVybiAoXG4gICAgPGRpdiBpZD1cIndyYXBwZXJcIj5cbiAgICAgICA8VG9hc3RDb250YWluZXJcbiAgICAgICAgICBwb3NpdGlvbj1cInRvcC1sZWZ0XCJcbiAgICAgICAgICBhdXRvQ2xvc2U9ezUwMDB9XG4gICAgICAgICAgaGlkZVByb2dyZXNzQmFyPXtmYWxzZX1cbiAgICAgICAgICBuZXdlc3RPblRvcD17ZmFsc2V9XG4gICAgICAgICAgY2xvc2VPbkNsaWNrXG4gICAgICAgICAgcnRsPXtmYWxzZX1cbiAgICAgICAgICBwYXVzZU9uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgICAgIGRyYWdnYWJsZVxuICAgICAgICAgIHBhdXNlT25Ib3ZlclxuICAgICAgICAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lXCI+XG4gICAgICAgIDxpbWcgc3JjPVwiL2ltYWdlcy9uZXdMb2dvV2hpdGUuc3ZnXCIgLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzbG9nYW5cIj5GaW5kIGhpZGRlbiBGYWNlYm9vayBpbnRlcmVzdHM8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhdXRoXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGV0YWlsc1wiPlxuICAgICAgICAgIDxoMz57Y3VycmVudCA9PSBcInNpZ251cFwiID8gXCJTaWduIHVwXCIgOiBcIlNpZ24gaW5cIn08L2gzPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5wdXRcIj5cbiAgICAgICAgICAgIDxwXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImVycm9yXCJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgZGlzcGxheTogc3RhdGUuZXJyb3IuZW1haWwgPyBcImJsb2NrXCIgOiBcIm5vbmVcIiB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7c3RhdGUuZXJyb3IuZW1haWwgPyBzdGF0ZS5lcnJvci5lbWFpbCA6IFwiXCJ9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgbmFtZT1cImVtYWlsXCJcbiAgICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJlbWFpbFwiXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXtzZXRJbnB1dH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbnB1dFwiPlxuICAgICAgICAgICAgPHBcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZXJyb3JcIlxuICAgICAgICAgICAgICBzdHlsZT17eyBkaXNwbGF5OiBzdGF0ZS5lcnJvci5wYXNzd29yZCA/IFwiYmxvY2tcIiA6IFwibm9uZVwiIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtzdGF0ZS5lcnJvci5wYXNzd29yZCA/IHN0YXRlLmVycm9yLnBhc3N3b3JkIDogXCJcIn1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICBuYW1lPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3NldElucHV0fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7Y3VycmVudCA9PT0gXCJzaWdudXBcIiA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5wdXRcIj5cbiAgICAgICAgICAgICAgPHBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJlcnJvclwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHN0YXRlLmVycm9yLmlzTWF0Y2ggPT09IGZhbHNlID8gXCJibG9ja1wiIDogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFBhc3N3b3JkcyBkbyBub3QgbWF0Y2hcbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICBuYW1lPVwicmVwZWF0UGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJyZXBlYXQgcGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtzZXRJbnB1dH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICBcIlwiXG4gICAgICAgICAgKX1cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogXCIxMDAlXCIgfX1cbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVN1Ym1pdH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7YnV0dG9uVGV4dCgpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDxkaXYgaWQ9XCJzdWItYWN0aW9uc1wiPlxuICAgICAgICAgICAgPHA+Qnkgc2lnbmluZyB1cCwgeW91IGFncmVlIHRvIG91ciB0ZXJtcyBhbmQgY29uZGl0aW9uczwvcD5cbiAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICB7Y3VycmVudCA9PT0gXCJzaWdudXBcIlxuICAgICAgICAgICAgICAgID8gXCJIYXZlIGFuIGFjY291bnQgYWxyZWFkeT8gXCJcbiAgICAgICAgICAgICAgICA6IFwiQ3JlYXRlIGFuIGFjY291bnQuIFwifVxuICAgICAgICAgICAgICA8c3BhbiBvbkNsaWNrPXtoYW5kbGVBdXRoQ2hhbmdlfT5cbiAgICAgICAgICAgICAgICB7Y3VycmVudCA9PT0gXCJzaWdudXBcIiA/IFwiU2lnbiBpblwiIDogXCJTaWduIHVwXCJ9XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgI3dyYXBwZXIge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgaGVpZ2h0OiAxMDB2aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5wYW5lIHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNGU1NGM4O1xuICAgICAgICAgIGZsZXg6IDE7XG4gICAgICAgIH1cblxuICAgICAgICAuYXV0aCB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgZmxleDogMjtcbiAgICAgICAgfVxuXG4gICAgICAgIC5kZXRhaWxzIHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICB3aWR0aDogNDAlO1xuICAgICAgICB9XG5cbiAgICAgICAgLmlucHV0IHtcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICBtYXJnaW46IDEwcHggMCAxMHB4IDA7XG4gICAgICAgIH1cblxuICAgICAgICAuY2FyZCB7XG4gICAgICAgICAgY29sb3I6IGJsYWNrO1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICAgIHdpZHRoOiAzMCU7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgICAgICAgaGVpZ2h0OiAxMDBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5zbG9nYW4ge1xuICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICBmb250LXNpemU6IDE4cHg7XG4gICAgICAgIH1cblxuICAgICAgICAjc3ViLWFjdGlvbnMge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgbWFyZ2luLXRvcDogMTBweDtcbiAgICAgICAgfVxuXG4gICAgICAgICNzdWItYWN0aW9ucyBwIHtcbiAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogNXB4O1xuICAgICAgICB9XG5cbiAgICAgICAgI3N1Yi1hY3Rpb25zIHNwYW4ge1xuICAgICAgICAgIGNvbG9yOiAjNGU1NGM4O1xuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5lcnJvciB7XG4gICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgfVxuICAgICAgYH08L3N0eWxlPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5TaWduaW4uTGF5b3V0ID0gKHByb3BzKSA9PiA8ZGl2Pntwcm9wcy5jaGlsZHJlbn08L2Rpdj47XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZSkgPT4gKHtcbiAgdXNlcjogc3RhdGUudXNlci5jdXJyZW50VXNlcixcbiAgbG9hZGluZzogc3RhdGUudXNlci5sb2FkaW5nLFxuICB1c2VyRXJyb3I6IHN0YXRlLnVzZXIuZXJyb3Jcbn0pO1xuXG5jb25zdCBtYXBEaXNwYXRjaFRvUHJvcHMgPSAoZGlzcGF0Y2gpID0+ICh7XG4gIHNpZ251cDogKGRldGFpbHMpID0+IGRpc3BhdGNoKHNpZ251cFN0YXJ0KGRldGFpbHMpKSxcbiAgc2lnbmluOiAoZGV0YWlscykgPT4gZGlzcGF0Y2goc2lnbmluU3RhcnQoZGV0YWlscykpLFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKFNpZ25pbik7XG4iXX0= */\\n/*@ sourceURL=/home/benkissi/projects/getch/getch-frontend-2.0/pages/signup.js */\"));\n}\n\nSignin.Layout = function (props) {\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339\n    },\n    __self: this\n  }, props.children);\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user.currentUser,\n    loading: state.user.loading,\n    userError: state.user.error\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    signup: function signup(details) {\n      return dispatch(signupStart(details));\n    },\n    signin: function signin(details) {\n      return dispatch(signinStart(details));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Signin);","map":{"version":3,"sources":["/home/benkissi/projects/getch/getch-frontend-2.0/pages/signup.js"],"names":["useState","useEffect","connect","useRouter","Loader","ToastContainer","toast","signupStart","signinStart","Signin","props","current","email","password","error","isMatch","state","setState","router","user","push","userError","handleSignup","handleSignin","setInput","event","console","log","target","name","value","prevState","handleSubmit","validateEmail","length","repeatPassword","details","signup","signin","re","test","String","toLowerCase","handleAuthChange","buttonText","loading","display","width","Layout","children","mapStateToProps","currentUser","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useRouter } from \"next/router\";\nimport Loader from \"react-loader-spinner\";\nimport { ToastContainer, toast } from \"react-toastify\";\n\nimport { Button, Input } from \"antd\";\n\nimport { signupStart, signinStart } from \"../redux/user/user-actions\";\n\nfunction Signin(props) {\n  const [state, setState] = useState({\n    current: \"signup\",\n    email: \"\",\n    password: \"\",\n    error: {\n      email: null,\n      password: null,\n      isMatch: null,\n    },\n  });\n\n  const router = useRouter();\n\n  useEffect(() => {\n    if (props.user) {\n      router.push(\"/\");\n    }\n  }, [props.user]);\n\n  useEffect(() => {\n    if(props.userError){\n      // toast.error(`There was an error. ${props.userError.message}`, {\n      //     position: \"top-right\",\n      //     autoClose: 5000,\n      //     hideProgressBar: false,\n      //     closeOnClick: true,\n      //     pauseOnHover: true,\n      //     draggable: true\n      //   });\n  }\n  }, [props.userError])\n\n  useEffect(() => {\n    if (current === \"signup\") {\n      if (!state.error.email && !state.error.password && state.error.isMatch) {\n        handleSignup({ email: state.email, password: state.password });\n      }\n    } else if (current === \"signin\") {\n      if (!state.error.email && !state.error.password) {\n        handleSignin({ email: state.email, password: state.password });\n      }\n    }\n  }, [state.error]);\n\n  const setInput = (event) => {\n    console.log(event.target.name);\n    const { name, value } = event.target;\n    setState((prevState) => ({\n      ...prevState,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = () => {\n    if (!validateEmail(state.email)) {\n      console.log(\"hshsh\");\n      setState((prevState) => ({\n        ...prevState,\n        error: {\n          ...prevState.error,\n          email: \"Add a correct email\",\n        },\n      }));\n    } else {\n      setState((prevState) => ({\n        ...prevState,\n        error: {\n          ...prevState.error,\n          email: null,\n        },\n      }));\n    }\n\n    if (state.password.length < 8) {\n      console.log(\"wrong pass\");\n      setState((prevState) => ({\n        ...prevState,\n        error: {\n          ...prevState.error,\n          password: \"Password must be longer than 7 characters\",\n        },\n      }));\n    } else {\n      setState((prevState) => ({\n        ...prevState,\n        error: {\n          ...prevState.error,\n          password: null,\n        },\n      }));\n    }\n\n    if (state.current == \"signup\") {\n      const isMatch = state.password === state.repeatPassword;\n      console.log(\"match\", isMatch);\n\n      setState((prevState) => ({\n        ...prevState,\n        error: {\n          ...prevState.error,\n          isMatch: isMatch,\n        },\n      }));\n    }\n\n    // if (state.current == \"signin\") {\n    //   setState((prevState) => ({\n    //     ...prevState,\n    //     error: {\n    //       ...prevState.error,\n    //       signinError: null\n    //     },\n    //   }));\n    // }\n  };\n\n  const handleSignup = (details) => {\n    props.signup(details);\n  };\n\n  const handleSignin = (details) => {\n    props.signin(details);\n  };\n\n  function validateEmail(email) {\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(email).toLowerCase());\n  }\n\n  const handleAuthChange = () => {\n    if (state.current == \"signup\") {\n      console.log(\"auth change\");\n      setState((prevState) => ({\n        ...prevState,\n        current: \"signin\",\n      }));\n    }\n    if (state.current == \"signin\") {\n      console.log(\"auth change\");\n      setState((prevState) => ({\n        ...prevState,\n        current: \"signup\",\n      }));\n    }\n  };\n\n  const buttonText = () => {\n    if (props.loading) {\n      return (\n        <div className=\"loader\">\n          <Loader type=\"Bars\" color=\"#fff\" height={20} width={50} />\n        </div>\n      )\n    }else if(state.current == \"signup\"){\n      return \"Sign up\"\n    }else {\n      return \"Sign in\"\n    }\n  };\n\n  const { current } = state;\n  return (\n    <div id=\"wrapper\">\n       <ToastContainer\n          position=\"top-left\"\n          autoClose={5000}\n          hideProgressBar={false}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnVisibilityChange\n          draggable\n          pauseOnHover\n        />\n      <div className=\"pane\">\n        <img src=\"/images/newLogoWhite.svg\" />\n        <div className=\"slogan\">Find hidden Facebook interests</div>\n      </div>\n      <div className=\"auth\">\n        <div className=\"details\">\n          <h3>{current == \"signup\" ? \"Sign up\" : \"Sign in\"}</h3>\n          <div className=\"input\">\n            <p\n              className=\"error\"\n              style={{ display: state.error.email ? \"block\" : \"none\" }}\n            >\n              {state.error.email ? state.error.email : \"\"}\n            </p>\n            <Input\n              name=\"email\"\n              type=\"email\"\n              placeholder=\"email\"\n              onChange={setInput}\n            />\n          </div>\n          <div className=\"input\">\n            <p\n              className=\"error\"\n              style={{ display: state.error.password ? \"block\" : \"none\" }}\n            >\n              {state.error.password ? state.error.password : \"\"}\n            </p>\n            <Input\n              name=\"password\"\n              type=\"password\"\n              placeholder=\"password\"\n              onChange={setInput}\n            />\n          </div>\n          {current === \"signup\" ? (\n            <div className=\"input\">\n              <p\n                className=\"error\"\n                style={{\n                  display: state.error.isMatch === false ? \"block\" : \"none\",\n                }}\n              >\n                Passwords do not match\n              </p>\n              <Input\n                name=\"repeatPassword\"\n                type=\"password\"\n                placeholder=\"repeat password\"\n                onChange={setInput}\n              />\n            </div>\n          ) : (\n            \"\"\n          )}\n          <Button\n            type=\"primary\"\n            style={{ width: \"100%\" }}\n            onClick={handleSubmit}\n          >\n            {buttonText()}\n          </Button>\n          <div id=\"sub-actions\">\n            <p>By signing up, you agree to our terms and conditions</p>\n            <p>\n              {current === \"signup\"\n                ? \"Have an account already? \"\n                : \"Create an account. \"}\n              <span onClick={handleAuthChange}>\n                {current === \"signup\" ? \"Sign in\" : \"Sign up\"}\n              </span>\n            </p>\n          </div>\n        </div>\n      </div>\n      <style jsx>{`\n        #wrapper {\n          display: flex;\n          width: 100%;\n          height: 100vh;\n        }\n\n        .pane {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          background-color: #4e54c8;\n          flex: 1;\n        }\n\n        .auth {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          flex: 2;\n        }\n\n        .details {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          width: 40%;\n        }\n\n        .input {\n          width: 100%;\n          margin: 10px 0 10px 0;\n        }\n\n        .card {\n          color: black;\n          display: flex;\n          border-radius: 4px;\n          width: 30%;\n          background-color: white;\n          height: 100px;\n        }\n\n        .slogan {\n          color: white;\n          font-size: 18px;\n        }\n\n        #sub-actions {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          text-align: center;\n          margin-top: 10px;\n        }\n\n        #sub-actions p {\n          margin: 0;\n          margin-bottom: 5px;\n        }\n\n        #sub-actions span {\n          color: #4e54c8;\n          cursor: pointer;\n          font-weight: bold;\n        }\n\n        .error {\n          color: red;\n        }\n      `}</style>\n    </div>\n  );\n}\n\nSignin.Layout = (props) => <div>{props.children}</div>;\n\nconst mapStateToProps = (state) => ({\n  user: state.user.currentUser,\n  loading: state.user.loading,\n  userError: state.user.error\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  signup: (details) => dispatch(signupStart(details)),\n  signin: (details) => dispatch(signinStart(details)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Signin);\n"]},"metadata":{},"sourceType":"module"}