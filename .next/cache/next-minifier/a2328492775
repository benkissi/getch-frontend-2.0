{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{kfiF:function(t,n,e){window,t.exports=function(t){var n={};function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&n&&\"string\"!=typeof t)for(var a in t)e.d(r,a,function(n){return t[n]}.bind(null,a));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p=\"\",e(e.s=47)}([function(t,n,e){\"use strict\";e.r(n),e.d(n,\"__extends\",(function(){return a})),e.d(n,\"__assign\",(function(){return i})),e.d(n,\"__rest\",(function(){return o})),e.d(n,\"__decorate\",(function(){return u})),e.d(n,\"__param\",(function(){return s})),e.d(n,\"__metadata\",(function(){return c})),e.d(n,\"__awaiter\",(function(){return l})),e.d(n,\"__generator\",(function(){return f})),e.d(n,\"__exportStar\",(function(){return h})),e.d(n,\"__values\",(function(){return p})),e.d(n,\"__read\",(function(){return d})),e.d(n,\"__spread\",(function(){return v})),e.d(n,\"__spreadArrays\",(function(){return g})),e.d(n,\"__await\",(function(){return y})),e.d(n,\"__asyncGenerator\",(function(){return m})),e.d(n,\"__asyncDelegator\",(function(){return M})),e.d(n,\"__asyncValues\",(function(){return x})),e.d(n,\"__makeTemplateObject\",(function(){return b})),e.d(n,\"__importStar\",(function(){return _})),e.d(n,\"__importDefault\",(function(){return w})),e.d(n,\"__classPrivateFieldGet\",(function(){return P})),e.d(n,\"__classPrivateFieldSet\",(function(){return A}));var r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)};function a(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var i=function(){return(i=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t}).apply(this,arguments)};function o(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&\"function\"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(t);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(e[r[a]]=t[r[a]])}return e}function u(t,n,e,r){var a,i=arguments.length,o=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(t,n,e,r);else for(var u=t.length-1;u>=0;u--)(a=t[u])&&(o=(i<3?a(o):i>3?a(n,e,o):a(n,e))||o);return i>3&&o&&Object.defineProperty(n,e,o),o}function s(t,n){return function(e,r){n(e,r,t)}}function c(t,n){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(t,n)}function l(t,n,e,r){return new(e||(e=Promise))((function(a,i){function o(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,u)}s((r=r.apply(t,n||[])).next())}))}function f(t,n){var e,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(e)throw new TypeError(\"Generator is already executing.\");for(;o;)try{if(e=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=n.call(t,o)}catch(t){i=[6,t],r=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function h(t,n){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}function p(t){var n=\"function\"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&\"number\"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function d(t,n){var e=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,a,i=e.call(t),o=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(t){a={error:t}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}function v(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(d(arguments[n]));return t}function g(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;var r=Array(t),a=0;for(n=0;n<e;n++)for(var i=arguments[n],o=0,u=i.length;o<u;o++,a++)r[a]=i[o];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function m(t,n,e){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var r,a=e.apply(t,n||[]),i=[];return r={},o(\"next\"),o(\"throw\"),o(\"return\"),r[Symbol.asyncIterator]=function(){return this},r;function o(t){a[t]&&(r[t]=function(n){return new Promise((function(e,r){i.push([t,n,e,r])>1||u(t,n)}))})}function u(t,n){try{(e=a[t](n)).value instanceof y?Promise.resolve(e.value.v).then(s,c):l(i[0][2],e)}catch(t){l(i[0][3],t)}var e}function s(t){u(\"next\",t)}function c(t){u(\"throw\",t)}function l(t,n){t(n),i.shift(),i.length&&u(i[0][0],i[0][1])}}function M(t){var n,e;return n={},r(\"next\"),r(\"throw\",(function(t){throw t})),r(\"return\"),n[Symbol.iterator]=function(){return this},n;function r(r,a){n[r]=t[r]?function(n){return(e=!e)?{value:y(t[r](n)),done:\"return\"===r}:a?a(n):n}:a}}function x(t){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=p(t),n={},r(\"next\"),r(\"throw\"),r(\"return\"),n[Symbol.asyncIterator]=function(){return this},n);function r(e){n[e]=t[e]&&function(n){return new Promise((function(r,a){!function(t,n,e,r){Promise.resolve(r).then((function(n){t({value:n,done:e})}),n)}(r,a,(n=t[e](n)).done,n.value)}))}}}function b(t,n){return Object.defineProperty?Object.defineProperty(t,\"raw\",{value:n}):t.raw=n,t}function _(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}function w(t){return t&&t.__esModule?t:{default:t}}function P(t,n){if(!n.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return n.get(t)}function A(t,n,e){if(!n.has(t))throw new TypeError(\"attempted to set private field on non-instance\");return n.set(t,e),e}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.sub=n.mul=void 0,n.create=function(){var t=new r.ARRAY_TYPE(9);return r.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},n.fromMat4=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t},n.clone=function(t){var n=new r.ARRAY_TYPE(9);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},n.fromValues=function(t,n,e,a,i,o,u,s,c){var l=new r.ARRAY_TYPE(9);return l[0]=t,l[1]=n,l[2]=e,l[3]=a,l[4]=i,l[5]=o,l[6]=u,l[7]=s,l[8]=c,l},n.set=function(t,n,e,r,a,i,o,u,s,c){return t[0]=n,t[1]=e,t[2]=r,t[3]=a,t[4]=i,t[5]=o,t[6]=u,t[7]=s,t[8]=c,t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.transpose=function(t,n){if(t===n){var e=n[1],r=n[2],a=n[5];t[1]=n[3],t[2]=n[6],t[3]=e,t[5]=n[7],t[6]=r,t[7]=a}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t},n.invert=function(t,n){var e=n[0],r=n[1],a=n[2],i=n[3],o=n[4],u=n[5],s=n[6],c=n[7],l=n[8],f=l*o-u*c,h=-l*i+u*s,p=c*i-o*s,d=e*f+r*h+a*p;return d?(d=1/d,t[0]=f*d,t[1]=(-l*r+a*c)*d,t[2]=(u*r-a*o)*d,t[3]=h*d,t[4]=(l*e-a*s)*d,t[5]=(-u*e+a*i)*d,t[6]=p*d,t[7]=(-c*e+r*s)*d,t[8]=(o*e-r*i)*d,t):null},n.adjoint=function(t,n){var e=n[0],r=n[1],a=n[2],i=n[3],o=n[4],u=n[5],s=n[6],c=n[7],l=n[8];return t[0]=o*l-u*c,t[1]=a*c-r*l,t[2]=r*u-a*o,t[3]=u*s-i*l,t[4]=e*l-a*s,t[5]=a*i-e*u,t[6]=i*c-o*s,t[7]=r*s-e*c,t[8]=e*o-r*i,t},n.determinant=function(t){var n=t[0],e=t[1],r=t[2],a=t[3],i=t[4],o=t[5],u=t[6],s=t[7],c=t[8];return n*(c*i-o*s)+e*(-c*a+o*u)+r*(s*a-i*u)},n.multiply=a,n.translate=function(t,n,e){var r=n[0],a=n[1],i=n[2],o=n[3],u=n[4],s=n[5],c=n[6],l=n[7],f=n[8],h=e[0],p=e[1];return t[0]=r,t[1]=a,t[2]=i,t[3]=o,t[4]=u,t[5]=s,t[6]=h*r+p*o+c,t[7]=h*a+p*u+l,t[8]=h*i+p*s+f,t},n.rotate=function(t,n,e){var r=n[0],a=n[1],i=n[2],o=n[3],u=n[4],s=n[5],c=n[6],l=n[7],f=n[8],h=Math.sin(e),p=Math.cos(e);return t[0]=p*r+h*o,t[1]=p*a+h*u,t[2]=p*i+h*s,t[3]=p*o-h*r,t[4]=p*u-h*a,t[5]=p*s-h*i,t[6]=c,t[7]=l,t[8]=f,t},n.scale=function(t,n,e){var r=e[0],a=e[1];return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=a*n[3],t[4]=a*n[4],t[5]=a*n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},n.fromTranslation=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=n[0],t[7]=n[1],t[8]=1,t},n.fromRotation=function(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=-e,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=n[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromMat2d=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t},n.fromQuat=function(t,n){var e=n[0],r=n[1],a=n[2],i=n[3],o=e+e,u=r+r,s=a+a,c=e*o,l=r*o,f=r*u,h=a*o,p=a*u,d=a*s,v=i*o,g=i*u,y=i*s;return t[0]=1-f-d,t[3]=l-y,t[6]=h+g,t[1]=l+y,t[4]=1-c-d,t[7]=p-v,t[2]=h-g,t[5]=p+v,t[8]=1-c-f,t},n.normalFromMat4=function(t,n){var e=n[0],r=n[1],a=n[2],i=n[3],o=n[4],u=n[5],s=n[6],c=n[7],l=n[8],f=n[9],h=n[10],p=n[11],d=n[12],v=n[13],g=n[14],y=n[15],m=e*u-r*o,M=e*s-a*o,x=e*c-i*o,b=r*s-a*u,_=r*c-i*u,w=a*c-i*s,P=l*v-f*d,A=l*g-h*d,O=l*y-p*d,C=f*g-h*v,S=f*y-p*v,E=h*y-p*g,k=m*E-M*S+x*C+b*O-_*A+w*P;return k?(k=1/k,t[0]=(u*E-s*S+c*C)*k,t[1]=(s*O-o*E-c*A)*k,t[2]=(o*S-u*O+c*P)*k,t[3]=(a*S-r*E-i*C)*k,t[4]=(e*E-a*O+i*A)*k,t[5]=(r*O-e*S-i*P)*k,t[6]=(v*w-g*_+y*b)*k,t[7]=(g*x-d*w-y*M)*k,t[8]=(d*_-v*x+y*m)*k,t):null},n.projection=function(t,n,e){return t[0]=2/n,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/e,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},n.str=function(t){return\"mat3(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\", \"+t[4]+\", \"+t[5]+\", \"+t[6]+\", \"+t[7]+\", \"+t[8]+\")\"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},n.add=function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t[8]=n[8]+e[8],t},n.subtract=i,n.multiplyScalar=function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*e,t},n.multiplyScalarAndAdd=function(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t[4]=n[4]+e[4]*r,t[5]=n[5]+e[5]*r,t[6]=n[6]+e[6]*r,t[7]=n[7]+e[7]*r,t[8]=n[8]+e[8]*r,t},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]},n.equals=function(t,n){var e=t[0],a=t[1],i=t[2],o=t[3],u=t[4],s=t[5],c=t[6],l=t[7],f=t[8],h=n[0],p=n[1],d=n[2],v=n[3],g=n[4],y=n[5],m=n[6],M=n[7],x=n[8];return Math.abs(e-h)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(a-p)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(i-d)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-v)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(u-g)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(s-y)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(c-m)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(l-M)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(f-x)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(x))};var r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}(e(23));function a(t,n,e){var r=n[0],a=n[1],i=n[2],o=n[3],u=n[4],s=n[5],c=n[6],l=n[7],f=n[8],h=e[0],p=e[1],d=e[2],v=e[3],g=e[4],y=e[5],m=e[6],M=e[7],x=e[8];return t[0]=h*r+p*o+d*c,t[1]=h*a+p*u+d*l,t[2]=h*i+p*s+d*f,t[3]=v*r+g*o+y*c,t[4]=v*a+g*u+y*l,t[5]=v*i+g*s+y*f,t[6]=m*r+M*o+x*c,t[7]=m*a+M*u+x*l,t[8]=m*i+M*s+x*f,t}function i(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t[6]=n[6]-e[6],t[7]=n[7]-e[7],t[8]=n[8]-e[8],t}n.mul=a,n.sub=i},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.getPixelRatio=function(){return window?window.devicePixelRatio:1},n.distance=function(t,n,e,r){var a=t-e,i=n-r;return Math.sqrt(a*a+i*i)},n.inBox=function(t,n,e,r,a,i){return a>=t&&a<=t+e&&i>=n&&i<=n+r};var r=null;n.getOffScreenContext=function(){if(!r){var t=document.createElement(\"canvas\");t.width=1,t.height=1,r=t.getContext(\"2d\")}return r},n.intersectRect=function(t,n){return!(n.minX>t.maxX||n.maxX<t.minX||n.minY>t.maxY||n.maxY<t.minY)},n.mergeRegion=function(t,n){return t&&n?{minX:Math.min(t.minX,n.minX),minY:Math.min(t.minY,n.minY),maxX:Math.max(t.maxX,n.maxX),maxY:Math.max(t.maxY,n.maxY)}:t||n},n.isSamePoint=function(t,n){return t[0]===n[0]&&t[1]===n[1]};var a=e(50);n.isNil=a.default;var i=e(27);n.isString=i.default;var o=e(51);n.isFunction=o.default;var u=e(15);n.isArray=u.default;var s=e(28);n.each=s.default;var c=e(29);n.toRadian=c.default;var l=e(30);n.mod=l.default;var f=e(53);n.isNumberEqual=f.default;var h=e(54);n.requestAnimationFrame=h.default;var p=e(55);n.clearAnimationFrame=p.default},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(0),a=e(10),i=e(2),o=e(9),u=e(57),s=e(7),c=e(26),l=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.getDefaultAttrs=function(){var n=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},n),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},n.prototype.getShapeBase=function(){return s},n.prototype.getGroupBase=function(){return c.default},n.prototype.onCanvasChange=function(t){o.refreshElement(this,t)},n.prototype.calculateBBox=function(){var t=this.get(\"type\"),n=this.getHitLineWidth(),e=u.getBBoxMethod(t)(this),r=n/2,a=e.x-r,i=e.y-r,o=e.x+e.width+r,s=e.y+e.height+r;return{x:a,minX:a,y:i,minY:i,width:e.width+n,height:e.height+n,maxX:o,maxY:s}},n.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},n.prototype.isStroke=function(){return!!this.attrs.stroke},n.prototype._applyClip=function(t,n){n&&(t.save(),o.applyAttrsToContext(t,n),n.createPath(t),t.restore(),t.clip(),n._afterDraw())},n.prototype.draw=function(t,n){var e=this.getClip();if(n){var r=e?o.getMergedRegion([this,e]):this.getCanvasBBox();if(!i.intersectRect(n,r))return}t.save(),o.applyAttrsToContext(t,this),this._applyClip(t,this.getClip()),this.drawPath(t),t.restore(),this._afterDraw()},n.prototype._afterDraw=function(){this.set(\"cacheCanvasBBox\",this.getCanvasBBox()),this.set(\"hasChanged\",!1)},n.prototype.skipDraw=function(){this.set(\"cacheCanvasBBox\",null),this.set(\"hasChanged\",!1)},n.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},n.prototype.fill=function(t){t.fill()},n.prototype.stroke=function(t){t.stroke()},n.prototype.strokeAndFill=function(t){var n=this.attrs,e=n.lineWidth,r=n.opacity,a=n.strokeOpacity,o=n.fillOpacity;this.isFill()&&(i.isNil(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.isStroke()&&e>0&&(i.isNil(a)||1===a||(t.globalAlpha=a),this.stroke(t)),this.afterDrawPath(t)},n.prototype.createPath=function(t){},n.prototype.afterDrawPath=function(t){},n.prototype.isInShape=function(t,n){var e=this.isStroke(),r=this.isFill(),a=this.getHitLineWidth();return this.isInStrokeOrPath(t,n,e,r,a)},n.prototype.isInStrokeOrPath=function(t,n,e,r,a){return!1},n.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},n}(a.AbstractShape);n.default=l},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.forEach=n.sqrLen=n.sqrDist=n.dist=n.div=n.mul=n.sub=n.len=void 0,n.create=i,n.clone=function(t){var n=new a.ARRAY_TYPE(2);return n[0]=t[0],n[1]=t[1],n},n.fromValues=function(t,n){var e=new a.ARRAY_TYPE(2);return e[0]=t,e[1]=n,e},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t},n.set=function(t,n,e){return t[0]=n,t[1]=e,t},n.add=function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t},n.subtract=o,n.multiply=u,n.divide=s,n.ceil=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t},n.floor=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t},n.min=function(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t},n.max=function(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t},n.round=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t},n.scale=function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t},n.scaleAndAdd=function(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t},n.distance=c,n.squaredDistance=l,n.length=f,n.squaredLength=h,n.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t},n.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t},n.normalize=function(t,n){var e=n[0],r=n[1],a=e*e+r*r;return a>0&&(a=1/Math.sqrt(a),t[0]=n[0]*a,t[1]=n[1]*a),t},n.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]},n.cross=function(t,n,e){var r=n[0]*e[1]-n[1]*e[0];return t[0]=t[1]=0,t[2]=r,t},n.lerp=function(t,n,e,r){var a=n[0],i=n[1];return t[0]=a+r*(e[0]-a),t[1]=i+r*(e[1]-i),t},n.random=function(t,n){n=n||1;var e=2*a.RANDOM()*Math.PI;return t[0]=Math.cos(e)*n,t[1]=Math.sin(e)*n,t},n.transformMat2=function(t,n,e){var r=n[0],a=n[1];return t[0]=e[0]*r+e[2]*a,t[1]=e[1]*r+e[3]*a,t},n.transformMat2d=function(t,n,e){var r=n[0],a=n[1];return t[0]=e[0]*r+e[2]*a+e[4],t[1]=e[1]*r+e[3]*a+e[5],t},n.transformMat3=function(t,n,e){var r=n[0],a=n[1];return t[0]=e[0]*r+e[3]*a+e[6],t[1]=e[1]*r+e[4]*a+e[7],t},n.transformMat4=function(t,n,e){var r=n[0],a=n[1];return t[0]=e[0]*r+e[4]*a+e[12],t[1]=e[1]*r+e[5]*a+e[13],t},n.rotate=function(t,n,e,r){var a=n[0]-e[0],i=n[1]-e[1],o=Math.sin(r),u=Math.cos(r);return t[0]=a*u-i*o+e[0],t[1]=a*o+i*u+e[1],t},n.angle=function(t,n){var e=t[0],r=t[1],a=n[0],i=n[1],o=e*e+r*r;o>0&&(o=1/Math.sqrt(o));var u=a*a+i*i;u>0&&(u=1/Math.sqrt(u));var s=(e*a+r*i)*o*u;return s>1?0:s<-1?Math.PI:Math.acos(s)},n.str=function(t){return\"vec2(\"+t[0]+\", \"+t[1]+\")\"},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]},n.equals=function(t,n){var e=t[0],r=t[1],i=n[0],o=n[1];return Math.abs(e-i)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(r-o)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))};var r,a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}(e(23));function i(){var t=new a.ARRAY_TYPE(2);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t}function u(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t}function s(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t}function c(t,n){var e=n[0]-t[0],r=n[1]-t[1];return Math.sqrt(e*e+r*r)}function l(t,n){var e=n[0]-t[0],r=n[1]-t[1];return e*e+r*r}function f(t){var n=t[0],e=t[1];return Math.sqrt(n*n+e*e)}function h(t){var n=t[0],e=t[1];return n*n+e*e}n.len=f,n.sub=o,n.mul=u,n.div=s,n.dist=c,n.sqrDist=l,n.sqrLen=h,n.forEach=(r=i(),function(t,n,e,a,i,o){var u,s=void 0;for(n||(n=2),e||(e=0),u=a?Math.min(a*n+e,t.length):t.length,s=e;s<u;s+=n)r[0]=t[s],r[1]=t[s+1],i(r,r,o),t[s]=r[0],t[s+1]=r[1];return t})},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.distance=function(t,n,e,r){var a=t-e,i=n-r;return Math.sqrt(a*a+i*i)},n.isNumberEqual=function(t,n){return Math.abs(t-n)<.001},n.getBBoxByArray=function(t,n){var e=Math.min.apply(null,t),r=Math.min.apply(null,n);return{x:e,y:r,width:Math.max.apply(null,t)-e,height:Math.max.apply(null,n)-r}},n.piMod=function(t){return(t+2*Math.PI)%(2*Math.PI)}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(5),a=e(65);n.default={box:function(t,n,e,r){var a=Math.min(t,e),i=Math.max(t,e),o=Math.min(n,r);return{x:a,y:o,width:i-a,height:Math.max(n,r)-o}},length:function(t,n,e,a){return r.distance(t,n,e,a)},pointAt:function(t,n,e,r,a){return{x:(1-a)*t+a*e,y:(1-a)*n+a*r}},pointDistance:function(t,n,e,a,i,o){var u=(e-t)*(i-t)+(a-n)*(o-n);return u<0?r.distance(t,n,i,o):u>(e-t)*(e-t)+(a-n)*(a-n)?r.distance(e,a,i,o):this.pointToLine(t,n,e,a,i,o)},pointToLine:function(t,n,e,r,i,o){var u=[e-t,r-n];if(a.exactEquals(u,[0,0]))return Math.sqrt((i-t)*(i-t)+(o-n)*(o-n));var s=[-u[1],u[0]];a.normalize(s,s);var c=[i-t,o-n];return Math.abs(a.dot(c,s))},tangentAngle:function(t,n,e,r){return Math.atan2(r-n,e-t)}}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(3);n.Base=r.default;var a=e(76);n.Circle=a.default;var i=e(77);n.Ellipse=i.default;var o=e(78);n.Image=o.default;var u=e(79);n.Line=u.default;var s=e(80);n.Marker=s.default;var c=e(82);n.Path=c.default;var l=e(88);n.Polygon=l.default;var f=e(89);n.Polyline=f.default;var h=e(92);n.Rect=h.default;var p=e(95);n.Text=p.default},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(20);n.default=function(t){return Array.isArray?Array.isArray(t):r.default(t,\"Array\")}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(18),a=e(31),i=e(56),o=e(2),u=e(16),s={fill:\"fillStyle\",stroke:\"strokeStyle\",opacity:\"globalAlpha\"};function c(t){var n;if(t.destroyed)n=t._cacheCanvasBBox;else{var e=t.get(\"cacheCanvasBBox\"),r=t.getCanvasBBox();n=o.mergeRegion(e,r)}return n}n.applyAttrsToContext=function(t,n){var e=n.attr();for(var i in e){var o=e[i],u=s[i]?s[i]:i;\"matrix\"===u&&o?t.transform(o[0],o[1],o[3],o[4],o[6],o[7]):\"lineDash\"===u&&t.setLineDash?r.isArray(o)&&t.setLineDash(o):(\"strokeStyle\"===u||\"fillStyle\"===u?o=a.parseStyle(t,n,o):\"globalAlpha\"===u&&(o*=t.globalAlpha),t[u]=o)}},n.drawChildren=function(t,n,e){for(var r=0;r<n.length;r++){var a=n[r];a.get(\"visible\")?a.draw(t,e):a.skipDraw()}},n.drawPath=function(t,n,e,r){var a=e.path,o=e.startArrow,s=e.endArrow,c=[0,0],l=[0,0],f={dx:0,dy:0};n.beginPath();for(var h=0;h<a.length;h++){var p=a[h],d=p[0];if(0===h&&o&&o.d){var v=t.getStartTangent();f=u.getShortenOffset(v[0][0],v[0][1],v[1][0],v[1][1],o.d)}else h===a.length-2&&\"Z\"===a[h+1][0]&&s&&s.d?\"Z\"===a[h+1][0]&&(v=t.getEndTangent(),f=u.getShortenOffset(v[0][0],v[0][1],v[1][0],v[1][1],s.d)):h===a.length-1&&s&&s.d&&\"Z\"!==a[0]&&(v=t.getEndTangent(),f=u.getShortenOffset(v[0][0],v[0][1],v[1][0],v[1][1],s.d));var g=f.dx,y=f.dy;switch(d){case\"M\":n.moveTo(p[1]-g,p[2]-y),l=[p[1],p[2]];break;case\"L\":n.lineTo(p[1]-g,p[2]-y);break;case\"Q\":n.quadraticCurveTo(p[1],p[2],p[3]-g,p[4]-y);break;case\"C\":n.bezierCurveTo(p[1],p[2],p[3],p[4],p[5]-g,p[6]-y);break;case\"A\":var m=void 0;r?(m=r[h])||(m=i.default(c,p),r[h]=m):m=i.default(c,p);var M=m.cx,x=m.cy,b=m.rx,_=m.ry,w=m.startAngle,P=m.endAngle,A=m.xRotation,O=m.sweepFlag;if(n.ellipse)n.ellipse(M,x,b,_,A,w,P,1-O);else{var C=b>_?b:_,S=b>_?1:b/_,E=b>_?_/b:1;n.translate(M,x),n.rotate(A),n.scale(S,E),n.arc(0,0,C,w,P,1-O),n.scale(1/S,1/E),n.rotate(-A),n.translate(-M,-x)}break;case\"Z\":n.closePath()}if(\"Z\"===d)c=l;else{var k=p.length;c=[p[k-2],p[k-1]]}}},n.refreshElement=function(t,n){var e=t.get(\"canvas\");e&&(\"remove\"===n&&(t._cacheCanvasBBox=t.get(\"cacheCanvasBBox\")),t.get(\"hasChanged\")||(e.refreshElement(t,n,e),e.get(\"autoDraw\")&&e.draw(),t.set(\"hasChanged\",!0)))},n.getRefreshRegion=c,n.getMergedRegion=function(t){if(!t.length)return null;var n=[],e=[],a=[],i=[];return r.each(t,(function(t){var r=c(t);r&&(n.push(r.minX),e.push(r.minY),a.push(r.maxX),i.push(r.maxY))})),{minX:Math.min.apply(null,n),minY:Math.min.apply(null,e),maxX:Math.max.apply(null,a),maxY:Math.max.apply(null,i)}}},function(t,n,e){\"use strict\";e.r(n);var r={};e.r(r),e.d(r,\"catmullRomToBezier\",(function(){return S})),e.d(r,\"fillPath\",(function(){return U})),e.d(r,\"fillPathByDiff\",(function(){return J})),e.d(r,\"formatPath\",(function(){return nt})),e.d(r,\"intersection\",(function(){return G})),e.d(r,\"parsePathArray\",(function(){return B})),e.d(r,\"parsePathString\",(function(){return C})),e.d(r,\"pathToAbsolute\",(function(){return k})),e.d(r,\"pathToCurve\",(function(){return R})),e.d(r,\"rectPath\",(function(){return X}));var a={};e.r(a),e.d(a,\"easeLinear\",(function(){return tn})),e.d(a,\"easeQuad\",(function(){return rn})),e.d(a,\"easeQuadIn\",(function(){return nn})),e.d(a,\"easeQuadOut\",(function(){return en})),e.d(a,\"easeQuadInOut\",(function(){return rn})),e.d(a,\"easeCubic\",(function(){return un})),e.d(a,\"easeCubicIn\",(function(){return an})),e.d(a,\"easeCubicOut\",(function(){return on})),e.d(a,\"easeCubicInOut\",(function(){return un})),e.d(a,\"easePoly\",(function(){return ln})),e.d(a,\"easePolyIn\",(function(){return sn})),e.d(a,\"easePolyOut\",(function(){return cn})),e.d(a,\"easePolyInOut\",(function(){return ln})),e.d(a,\"easeSin\",(function(){return vn})),e.d(a,\"easeSinIn\",(function(){return pn})),e.d(a,\"easeSinOut\",(function(){return dn})),e.d(a,\"easeSinInOut\",(function(){return vn})),e.d(a,\"easeExp\",(function(){return mn})),e.d(a,\"easeExpIn\",(function(){return gn})),e.d(a,\"easeExpOut\",(function(){return yn})),e.d(a,\"easeExpInOut\",(function(){return mn})),e.d(a,\"easeCircle\",(function(){return bn})),e.d(a,\"easeCircleIn\",(function(){return Mn})),e.d(a,\"easeCircleOut\",(function(){return xn})),e.d(a,\"easeCircleInOut\",(function(){return bn})),e.d(a,\"easeBounce\",(function(){return Pn})),e.d(a,\"easeBounceIn\",(function(){return wn})),e.d(a,\"easeBounceOut\",(function(){return Pn})),e.d(a,\"easeBounceInOut\",(function(){return An})),e.d(a,\"easeBack\",(function(){return Sn})),e.d(a,\"easeBackIn\",(function(){return On})),e.d(a,\"easeBackOut\",(function(){return Cn})),e.d(a,\"easeBackInOut\",(function(){return Sn})),e.d(a,\"easeElastic\",(function(){return Tn})),e.d(a,\"easeElasticIn\",(function(){return kn})),e.d(a,\"easeElasticOut\",(function(){return Tn})),e.d(a,\"easeElasticInOut\",(function(){return jn}));var i=function(t){return null!==t&&\"function\"!=typeof t&&isFinite(t.length)},o={}.toString,u=function(t,n){return o.call(t)===\"[object \"+n+\"]\"},s=function(t){return Array.isArray?Array.isArray(t):u(t,\"Array\")},c=function(t){var n=typeof t;return null!==t&&\"object\"===n||\"function\"===n},l=function(t,n){if(t)if(s(t))for(var e=0,r=t.length;e<r&&!1!==n(t[e],e);e++);else if(c(t))for(var a in t)if(t.hasOwnProperty(a)&&!1===n(t[a],a))break},f=function(t){return u(t,\"Function\")};Object.keys;var h=function(t){return\"object\"==typeof t&&null!==t},p=Array.prototype,d=(p.splice,p.indexOf,Array.prototype.splice,function(t){return u(t,\"String\")});Object.prototype.hasOwnProperty;var v=function(t){return u(t,\"Number\")};function g(t,n){for(var e in n)n.hasOwnProperty(e)&&\"constructor\"!==e&&void 0!==n[e]&&(t[e]=n[e])}Number.isInteger&&Number.isInteger,Math.PI,parseInt,Math.PI,Object.values,Object.prototype;var y=function(t){if(\"object\"!=typeof t||null===t)return t;var n;if(s(t)){n=[];for(var e=0,r=t.length;e<r;e++)\"object\"==typeof t[e]&&null!=t[e]?n[e]=y(t[e]):n[e]=t[e]}else for(var a in n={},t)\"object\"==typeof t[a]&&null!=t[a]?n[a]=y(t[a]):n[a]=t[a];return n},m=y;Object.prototype.hasOwnProperty;var M=function(t,n){if(t===n)return!0;if(!t||!n)return!1;if(d(t)||d(n))return!1;if(i(t)||i(n)){if(t.length!==n.length)return!1;for(var e=!0,r=0;r<t.length&&(e=M(t[r],n[r]));r++);return e}if(h(t)||h(n)){var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(e=!0,r=0;r<a.length&&(e=M(t[a[r]],n[a[r]]));r++);return e}return!1},x=M,b=(Object.prototype.hasOwnProperty,{}),_=function(t){return b[t=t||\"g\"]?b[t]+=1:b[t]=1,t+b[t]},w=function(){};!function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,n){var e=this.map[t];return void 0===e?n:e},t.prototype.set=function(t,n){this.map[t]=n},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}();var P=\"\\t\\n\\v\\f\\r \\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029\",A=new RegExp(\"([a-z])[\"+P+\",]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\"+P+\"]*,?[\"+P+\"]*)+)\",\"ig\"),O=new RegExp(\"(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[\"+P+\"]*,?[\"+P+\"]*\",\"ig\"),C=function(t){if(!t)return null;if(s(t))return t;var n={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},e=[];return String(t).replace(A,(function(r,a,i){var o=[],u=a.toLowerCase();if(i.replace(O,(function(t,n){n&&o.push(+n)})),\"m\"===u&&o.length>2&&(e.push([a].concat(o.splice(0,2))),u=\"l\",a=\"m\"===a?\"l\":\"L\"),\"o\"===u&&1===o.length&&e.push([a,o[0]]),\"r\"===u)e.push([a].concat(o));else for(;o.length>=n[u]&&(e.push([a].concat(o.splice(0,n[u]))),n[u]););return t})),e},S=function(t,n){for(var e=[],r=0,a=t.length;a-2*!n>r;r+=2){var i=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];n?r?a-4===r?i[3]={x:+t[0],y:+t[1]}:a-2===r&&(i[2]={x:+t[0],y:+t[1]},i[3]={x:+t[2],y:+t[3]}):i[0]={x:+t[a-2],y:+t[a-1]}:a-4===r?i[3]=i[2]:r||(i[0]={x:+t[r],y:+t[r+1]}),e.push([\"C\",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y])}return e},E=function(t,n,e,r,a){var i=[];if(null===a&&null===r&&(r=e),t=+t,n=+n,e=+e,r=+r,null!==a){var o=Math.PI/180,u=t+e*Math.cos(-r*o),s=t+e*Math.cos(-a*o);i=[[\"M\",u,n+e*Math.sin(-r*o)],[\"A\",e,e,0,+(a-r>180),0,s,n+e*Math.sin(-a*o)]]}else i=[[\"M\",t,n],[\"m\",0,-r],[\"a\",e,r,0,1,1,0,2*r],[\"a\",e,r,0,1,1,0,-2*r],[\"z\"]];return i},k=function(t){if(!(t=C(t))||!t.length)return[[\"M\",0,0]];var n,e,r=[],a=0,i=0,o=0,u=0,s=0;\"M\"===t[0][0]&&(o=a=+t[0][1],u=i=+t[0][2],s++,r[0]=[\"M\",a,i]);for(var c=3===t.length&&\"M\"===t[0][0]&&\"R\"===t[1][0].toUpperCase()&&\"Z\"===t[2][0].toUpperCase(),l=void 0,f=void 0,h=s,p=t.length;h<p;h++){if(r.push(l=[]),(n=(f=t[h])[0])!==n.toUpperCase())switch(l[0]=n.toUpperCase(),l[0]){case\"A\":l[1]=f[1],l[2]=f[2],l[3]=f[3],l[4]=f[4],l[5]=f[5],l[6]=+f[6]+a,l[7]=+f[7]+i;break;case\"V\":l[1]=+f[1]+i;break;case\"H\":l[1]=+f[1]+a;break;case\"R\":for(var d=2,v=(e=[a,i].concat(f.slice(1))).length;d<v;d++)e[d]=+e[d]+a,e[++d]=+e[d]+i;r.pop(),r=r.concat(S(e,c));break;case\"O\":r.pop(),(e=E(a,i,f[1],f[2])).push(e[0]),r=r.concat(e);break;case\"U\":r.pop(),r=r.concat(E(a,i,f[1],f[2],f[3])),l=[\"U\"].concat(r[r.length-1].slice(-2));break;case\"M\":o=+f[1]+a,u=+f[2]+i;break;default:for(d=1,v=f.length;d<v;d++)l[d]=+f[d]+(d%2?a:i)}else if(\"R\"===n)e=[a,i].concat(f.slice(1)),r.pop(),r=r.concat(S(e,c)),l=[\"R\"].concat(f.slice(-2));else if(\"O\"===n)r.pop(),(e=E(a,i,f[1],f[2])).push(e[0]),r=r.concat(e);else if(\"U\"===n)r.pop(),r=r.concat(E(a,i,f[1],f[2],f[3])),l=[\"U\"].concat(r[r.length-1].slice(-2));else for(var g=0,y=f.length;g<y;g++)l[g]=f[g];if(\"O\"!==(n=n.toUpperCase()))switch(l[0]){case\"Z\":a=+o,i=+u;break;case\"H\":a=l[1];break;case\"V\":i=l[1];break;case\"M\":o=l[l.length-2],u=l[l.length-1];break;default:a=l[l.length-2],i=l[l.length-1]}}return r},T=function(t,n,e,r){return[t,n,e,r,e,r]},j=function(t,n,e,r,a,i){return[1/3*t+2/3*e,1/3*n+2/3*r,1/3*a+2/3*e,1/3*i+2/3*r,a,i]},I=function(t,n,e,r,a,i,o,u,s,c){e===r&&(e+=1);var l,f,h,p,d,v=120*Math.PI/180,g=Math.PI/180*(+a||0),y=[],m=function(t,n,e){return{x:t*Math.cos(e)-n*Math.sin(e),y:t*Math.sin(e)+n*Math.cos(e)}};if(c)f=c[0],h=c[1],p=c[2],d=c[3];else{t=(l=m(t,n,-g)).x,n=l.y,u=(l=m(u,s,-g)).x,s=l.y,t===u&&n===s&&(u+=1,s+=1);var M=(t-u)/2,x=(n-s)/2,b=M*M/(e*e)+x*x/(r*r);b>1&&(e*=b=Math.sqrt(b),r*=b);var _=e*e,w=r*r,P=(i===o?-1:1)*Math.sqrt(Math.abs((_*w-_*x*x-w*M*M)/(_*x*x+w*M*M)));p=P*e*x/r+(t+u)/2,d=P*-r*M/e+(n+s)/2,f=Math.asin(((n-d)/r).toFixed(9)),h=Math.asin(((s-d)/r).toFixed(9)),f=t<p?Math.PI-f:f,h=u<p?Math.PI-h:h,f<0&&(f=2*Math.PI+f),h<0&&(h=2*Math.PI+h),o&&f>h&&(f-=2*Math.PI),!o&&h>f&&(h-=2*Math.PI)}var A=h-f;if(Math.abs(A)>v){var O=h,C=u,S=s;h=f+v*(o&&h>f?1:-1),u=p+e*Math.cos(h),s=d+r*Math.sin(h),y=I(u,s,e,r,a,0,o,C,S,[h,O,p,d])}A=h-f;var E=Math.cos(f),k=Math.sin(f),T=Math.cos(h),j=Math.sin(h),R=Math.tan(A/4),D=4/3*e*R,B=4/3*r*R,q=[t,n],N=[t+D*k,n-B*E],F=[u+D*j,s-B*T],Y=[u,s];if(N[0]=2*q[0]-N[0],N[1]=2*q[1]-N[1],c)return[N,F,Y].concat(y);for(var L=[],X=0,z=(y=[N,F,Y].concat(y).join().split(\",\")).length;X<z;X++)L[X]=X%2?m(y[X-1],y[X],g).y:m(y[X],y[X+1],g).x;return L},R=function(t,n){var e,r=k(t),a=n&&k(n),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=[],s=[],c=\"\",l=\"\",f=function(t,n,e){var r,a;if(!t)return[\"C\",n.x,n.y,n.x,n.y,n.x,n.y];switch(!(t[0]in{T:1,Q:1})&&(n.qx=n.qy=null),t[0]){case\"M\":n.X=t[1],n.Y=t[2];break;case\"A\":t=[\"C\"].concat(I.apply(0,[n.x,n.y].concat(t.slice(1))));break;case\"S\":\"C\"===e||\"S\"===e?(r=2*n.x-n.bx,a=2*n.y-n.by):(r=n.x,a=n.y),t=[\"C\",r,a].concat(t.slice(1));break;case\"T\":\"Q\"===e||\"T\"===e?(n.qx=2*n.x-n.qx,n.qy=2*n.y-n.qy):(n.qx=n.x,n.qy=n.y),t=[\"C\"].concat(j(n.x,n.y,n.qx,n.qy,t[1],t[2]));break;case\"Q\":n.qx=t[1],n.qy=t[2],t=[\"C\"].concat(j(n.x,n.y,t[1],t[2],t[3],t[4]));break;case\"L\":t=[\"C\"].concat(T(n.x,n.y,t[1],t[2]));break;case\"H\":t=[\"C\"].concat(T(n.x,n.y,t[1],n.y));break;case\"V\":t=[\"C\"].concat(T(n.x,n.y,n.x,t[1]));break;case\"Z\":t=[\"C\"].concat(T(n.x,n.y,n.X,n.Y))}return t},h=function(t,n){if(t[n].length>7){t[n].shift();for(var i=t[n];i.length;)u[n]=\"A\",a&&(s[n]=\"A\"),t.splice(n++,0,[\"C\"].concat(i.splice(0,6)));t.splice(n,1),e=Math.max(r.length,a&&a.length||0)}},p=function(t,n,i,o,u){t&&n&&\"M\"===t[u][0]&&\"M\"!==n[u][0]&&(n.splice(u,0,[\"M\",o.x,o.y]),i.bx=0,i.by=0,i.x=t[u][1],i.y=t[u][2],e=Math.max(r.length,a&&a.length||0))};e=Math.max(r.length,a&&a.length||0);for(var d=0;d<e;d++){r[d]&&(c=r[d][0]),\"C\"!==c&&(u[d]=c,d&&(l=u[d-1])),r[d]=f(r[d],i,l),\"A\"!==u[d]&&\"C\"===c&&(u[d]=\"C\"),h(r,d),a&&(a[d]&&(c=a[d][0]),\"C\"!==c&&(s[d]=c,d&&(l=s[d-1])),a[d]=f(a[d],o,l),\"A\"!==s[d]&&\"C\"===c&&(s[d]=\"C\"),h(a,d)),p(r,a,i,o,d),p(a,r,o,i,d);var v=r[d],g=a&&a[d],y=v.length,m=a&&g.length;i.x=v[y-2],i.y=v[y-1],i.bx=parseFloat(v[y-4])||i.x,i.by=parseFloat(v[y-3])||i.y,o.bx=a&&(parseFloat(g[m-4])||o.x),o.by=a&&(parseFloat(g[m-3])||o.y),o.x=a&&g[m-2],o.y=a&&g[m-1]}return a?[r,a]:r},D=/,?([a-z]),?/gi,B=function(t){return t.join(\",\").replace(D,\"$1\")},q=function(t,n,e,r,a){return t*(t*(-3*n+9*e-9*r+3*a)+6*n-12*e+6*r)-3*n+3*e},N=function(t,n,e,r,a,i,o,u,s){null===s&&(s=1);for(var c=(s=s>1?1:s<0?0:s)/2,l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,p=0;p<12;p++){var d=c*l[p]+c,v=q(d,t,e,a,o),g=q(d,n,r,i,u),y=v*v+g*g;h+=f[p]*Math.sqrt(y)}return c*h},F=function(t,n,e,r,a,i,o,u){for(var s,c,l,f,h=[],p=[[],[]],d=0;d<2;++d)if(0===d?(c=6*t-12*e+6*a,s=-3*t+9*e-9*a+3*o,l=3*e-3*t):(c=6*n-12*r+6*i,s=-3*n+9*r-9*i+3*u,l=3*r-3*n),Math.abs(s)<1e-12){if(Math.abs(c)<1e-12)continue;(f=-l/c)>0&&f<1&&h.push(f)}else{var v=c*c-4*l*s,g=Math.sqrt(v);if(!(v<0)){var y=(-c+g)/(2*s);y>0&&y<1&&h.push(y);var m=(-c-g)/(2*s);m>0&&m<1&&h.push(m)}}for(var M,x=h.length,b=x;x--;)M=1-(f=h[x]),p[0][x]=M*M*M*t+3*M*M*f*e+3*M*f*f*a+f*f*f*o,p[1][x]=M*M*M*n+3*M*M*f*r+3*M*f*f*i+f*f*f*u;return p[0][b]=t,p[1][b]=n,p[0][b+1]=o,p[1][b+1]=u,p[0].length=p[1].length=b+2,{min:{x:Math.min.apply(0,p[0]),y:Math.min.apply(0,p[1])},max:{x:Math.max.apply(0,p[0]),y:Math.max.apply(0,p[1])}}},Y=function(t,n,e,r,a,i,o,u){if(!(Math.max(t,e)<Math.min(a,o)||Math.min(t,e)>Math.max(a,o)||Math.max(n,r)<Math.min(i,u)||Math.min(n,r)>Math.max(i,u))){var s=(t-e)*(i-u)-(n-r)*(a-o);if(s){var c=((t*r-n*e)*(a-o)-(t-e)*(a*u-i*o))/s,l=((t*r-n*e)*(i-u)-(n-r)*(a*u-i*o))/s,f=+c.toFixed(2),h=+l.toFixed(2);if(!(f<+Math.min(t,e).toFixed(2)||f>+Math.max(t,e).toFixed(2)||f<+Math.min(a,o).toFixed(2)||f>+Math.max(a,o).toFixed(2)||h<+Math.min(n,r).toFixed(2)||h>+Math.max(n,r).toFixed(2)||h<+Math.min(i,u).toFixed(2)||h>+Math.max(i,u).toFixed(2)))return{x:c,y:l}}}},L=function(t,n,e){return n>=t.x&&n<=t.x+t.width&&e>=t.y&&e<=t.y+t.height},X=function(t,n,e,r,a){if(a)return[[\"M\",+t+ +a,n],[\"l\",e-2*a,0],[\"a\",a,a,0,0,1,a,a],[\"l\",0,r-2*a],[\"a\",a,a,0,0,1,-a,a],[\"l\",2*a-e,0],[\"a\",a,a,0,0,1,-a,-a],[\"l\",0,2*a-r],[\"a\",a,a,0,0,1,a,-a],[\"z\"]];var i=[[\"M\",t,n],[\"l\",e,0],[\"l\",0,r],[\"l\",-e,0],[\"z\"]];return i.parsePathArray=B,i},z=function(t,n,e,r){return null===t&&(t=n=e=r=0),null===n&&(n=t.y,e=t.width,r=t.height,t=t.x),{x:t,y:n,width:e,w:e,height:r,h:r,x2:t+e,y2:n+r,cx:t+e/2,cy:n+r/2,r1:Math.min(e,r)/2,r2:Math.max(e,r)/2,r0:Math.sqrt(e*e+r*r)/2,path:X(t,n,e,r),vb:[t,n,e,r].join(\" \")}},H=function(t,n,e,r,a,i,o,u){s(t)||(t=[t,n,e,r,a,i,o,u]);var c=F.apply(null,t);return z(c.min.x,c.min.y,c.max.x-c.min.x,c.max.y-c.min.y)},Q=function(t,n,e,r,a,i,o,u,s){var c=1-s,l=Math.pow(c,3),f=Math.pow(c,2),h=s*s,p=h*s,d=t+2*s*(e-t)+h*(a-2*e+t),v=n+2*s*(r-n)+h*(i-2*r+n),g=e+2*s*(a-e)+h*(o-2*a+e),y=r+2*s*(i-r)+h*(u-2*i+r);return{x:l*t+3*f*s*e+3*c*s*s*a+p*o,y:l*n+3*f*s*r+3*c*s*s*i+p*u,m:{x:d,y:v},n:{x:g,y:y},start:{x:c*t+s*e,y:c*n+s*r},end:{x:c*a+s*o,y:c*i+s*u},alpha:90-180*Math.atan2(d-g,v-y)/Math.PI}},V=function(t,n,e){if(!function(t,n){return t=z(t),n=z(n),L(n,t.x,t.y)||L(n,t.x2,t.y)||L(n,t.x,t.y2)||L(n,t.x2,t.y2)||L(t,n.x,n.y)||L(t,n.x2,n.y)||L(t,n.x,n.y2)||L(t,n.x2,n.y2)||(t.x<n.x2&&t.x>n.x||n.x<t.x2&&n.x>t.x)&&(t.y<n.y2&&t.y>n.y||n.y<t.y2&&n.y>t.y)}(H(t),H(n)))return e?0:[];for(var r=~~(N.apply(0,t)/8),a=~~(N.apply(0,n)/8),i=[],o=[],u={},s=e?0:[],c=0;c<r+1;c++){var l=Q.apply(0,t.concat(c/r));i.push({x:l.x,y:l.y,t:c/r})}for(c=0;c<a+1;c++)l=Q.apply(0,n.concat(c/a)),o.push({x:l.x,y:l.y,t:c/a});for(c=0;c<r;c++)for(var f=0;f<a;f++){var h=i[c],p=i[c+1],d=o[f],v=o[f+1],g=Math.abs(p.x-h.x)<.001?\"y\":\"x\",y=Math.abs(v.x-d.x)<.001?\"y\":\"x\",m=Y(h.x,h.y,p.x,p.y,d.x,d.y,v.x,v.y);if(m){if(u[m.x.toFixed(4)]===m.y.toFixed(4))continue;u[m.x.toFixed(4)]=m.y.toFixed(4);var M=h.t+Math.abs((m[g]-h[g])/(p[g]-h[g]))*(p.t-h.t),x=d.t+Math.abs((m[y]-d[y])/(v[y]-d[y]))*(v.t-d.t);M>=0&&M<=1&&x>=0&&x<=1&&(e?s+=1:s.push({x:m.x,y:m.y,t1:M,t2:x}))}}return s},G=function(t,n){return function(t,n,e){var r,a,i,o,u,s,c,l,f,h;t=R(t),n=R(n);for(var p=[],d=0,v=t.length;d<v;d++){var g=t[d];if(\"M\"===g[0])r=u=g[1],a=s=g[2];else{\"C\"===g[0]?(f=[r,a].concat(g.slice(1)),r=f[6],a=f[7]):(f=[r,a,r,a,u,s,u,s],r=u,a=s);for(var y=0,m=n.length;y<m;y++){var M=n[y];if(\"M\"===M[0])i=c=M[1],o=l=M[2];else{\"C\"===M[0]?(h=[i,o].concat(M.slice(1)),i=h[6],o=h[7]):(h=[i,o,i,o,c,l,c,l],i=c,o=l);for(var x=V(f,h,e),b=0,_=x.length;b<_;b++)x[b].segment1=d,x[b].segment2=y,x[b].bez1=f,x[b].bez2=h;p=p.concat(x)}}}}return p}(t,n)};function Z(t,n){var e=[],r=[];return t.length&&function t(n,a){if(1===n.length)e.push(n[0]),r.push(n[0]);else{for(var i=[],o=0;o<n.length-1;o++)0===o&&e.push(n[0]),o===n.length-2&&r.push(n[o+1]),i[o]=[(1-a)*n[o][0]+a*n[o+1][0],(1-a)*n[o][1]+a*n[o+1][1]];t(i,a)}}(t,n),{left:e,right:r.reverse()}}var U=function(t,n){if(1===t.length)return t;var e=t.length-1,r=n.length-1,a=e/r,i=[];if(1===t.length&&\"M\"===t[0][0]){for(var o=0;o<r-e;o++)t.push(t[0]);return t}for(o=0;o<r;o++){var u=Math.floor(a*o);i[u]=(i[u]||0)+1}var s=i.reduce((function(n,r,a){return a===e?n.concat(t[e]):n.concat(function(t,n,e){if(1===e)return[[].concat(t)];var r=[];if(\"L\"===n[0]||\"C\"===n[0]||\"Q\"===n[0])r=r.concat(function(t,n,e){var r=[[t[1],t[2]]];e=e||2;var a=[];\"A\"===n[0]?(r.push(n[6]),r.push(n[7])):\"C\"===n[0]?(r.push([n[1],n[2]]),r.push([n[3],n[4]]),r.push([n[5],n[6]])):\"S\"===n[0]||\"Q\"===n[0]?(r.push([n[1],n[2]]),r.push([n[3],n[4]])):r.push([n[1],n[2]]);for(var i=r,o=1/e,u=0;u<e-1;u++){var s=Z(i,o/(1-o*u));a.push(s.left),i=s.right}return a.push(i),a.map((function(t){var n=[];return 4===t.length&&(n.push(\"C\"),n=n.concat(t[2])),t.length>=3&&(3===t.length&&n.push(\"Q\"),n=n.concat(t[1])),2===t.length&&n.push(\"L\"),n.concat(t[t.length-1])}))}(t,n,e));else{var a=[].concat(t);\"M\"===a[0]&&(a[0]=\"L\");for(var i=0;i<=e-1;i++)r.push(a)}return r}(t[a],t[a+1],r))}),[]);return s.unshift(t[0]),\"Z\"!==n[r]&&\"z\"!==n[r]||s.push(\"Z\"),s},W=function(t,n){if(t.length!==n.length)return!1;var e=!0;return l(t,(function(t,r){if(t!==n[r])return e=!1,!1})),e};function $(t,n,e){var r=null,a=e;return n<a&&(a=n,r=\"add\"),t<a&&(a=t,r=\"del\"),{type:r,min:a}}var J=function(t,n){var e=function(t,n){var e,r,a=t.length,i=n.length,o=0;if(0===a||0===i)return null;for(var u=[],s=0;s<=a;s++)u[s]=[],u[s][0]={min:s};for(var c=0;c<=i;c++)u[0][c]={min:c};for(s=1;s<=a;s++)for(e=t[s-1],c=1;c<=i;c++){r=n[c-1],o=W(e,r)?0:1;var l=u[s-1][c].min+1,f=u[s][c-1].min+1,h=u[s-1][c-1].min+o;u[s][c]=$(l,f,h)}return u}(t,n),r=t.length,a=n.length,i=[],o=1,u=1;if(e[r][a]!==r){for(var s=1;s<=r;s++){var c=e[s][s].min;u=s;for(var l=o;l<=a;l++)e[s][l].min<c&&(c=e[s][l].min,u=l);o=u,e[s][o].type&&i.push({index:s-1,type:e[s][o].type})}for(s=i.length-1;s>=0;s--)o=i[s].index,\"add\"===i[s].type?t.splice(o,0,[].concat(t[o])):t.splice(o,1)}var f=a-(r=t.length);if(r<a)for(s=0;s<f;s++)\"z\"===t[r-1][0]||\"Z\"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t};function K(t,n,e){for(var r,a=[].concat(t),i=1/(e+1),o=tt(n)[0],u=1;u<=e;u++)i*=u,0===(r=Math.floor(t.length*i))?a.unshift([o[0]*i+t[r][0]*(1-i),o[1]*i+t[r][1]*(1-i)]):a.splice(r,0,[o[0]*i+t[r][0]*(1-i),o[1]*i+t[r][1]*(1-i)]);return a}function tt(t){var n=[];switch(t[0]){case\"M\":case\"L\":n.push([t[1],t[2]]);break;case\"A\":n.push([t[6],t[7]]);break;case\"Q\":n.push([t[3],t[4]]),n.push([t[1],t[2]]);break;case\"T\":n.push([t[1],t[2]]);break;case\"C\":n.push([t[5],t[6]]),n.push([t[1],t[2]]),n.push([t[3],t[4]]);break;case\"S\":n.push([t[3],t[4]]),n.push([t[1],t[2]]);break;case\"H\":case\"V\":n.push([t[1],t[1]])}return n}var nt=function(t,n){if(t.length<=1)return t;for(var e,r=0;r<n.length;r++)if(t[r][0]!==n[r][0])switch(e=tt(t[r]),n[r][0]){case\"M\":t[r]=[\"M\"].concat(e[0]);break;case\"L\":t[r]=[\"L\"].concat(e[0]);break;case\"A\":t[r]=[].concat(n[r]),t[r][6]=e[0][0],t[r][7]=e[0][1];break;case\"Q\":if(e.length<2){if(!(r>0)){t[r]=n[r];break}e=K(e,t[r-1],1)}t[r]=[\"Q\"].concat(e.reduce((function(t,n){return t.concat(n)}),[]));break;case\"T\":t[r]=[\"T\"].concat(e[0]);break;case\"C\":if(e.length<3){if(!(r>0)){t[r]=n[r];break}e=K(e,t[r-1],2)}t[r]=[\"C\"].concat(e.reduce((function(t,n){return t.concat(n)}),[]));break;case\"S\":if(e.length<2){if(!(r>0)){t[r]=n[r];break}e=K(e,t[r-1],1)}t[r]=[\"S\"].concat(e.reduce((function(t,n){return t.concat(n)}),[]));break;default:t[r]=n[r]}return t},et=function(){function t(t,n){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=n,this.timeStamp=n.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return\"[Event (type=\"+this.type+\")]\"},t.prototype.save=function(){},t.prototype.restore=function(){},t}(),rt=function(t,n){return(rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)};function at(t,n){function e(){this.constructor=t}rt(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var it=e(44),ot=e.n(it),ut=(e(11),e(19)),st=e.n(ut),ct=e(12),lt=e.n(ct),ft=e(13),ht=e.n(ft),pt=(e(8),e(21)),dt=e.n(pt),vt=e(14),gt=e.n(vt),yt=e(22),mt=e.n(yt);function Mt(t,n){var e=t.indexOf(n);-1!==e&&t.splice(e,1)}var xt=\"undefined\"!=typeof window&&void 0!==window.document,bt=function(t){function n(n){var e=t.call(this)||this;e.destroyed=!1;var r=e.getDefaultCfg();return e.cfg=dt()(r,n),e}return at(n,t),n.prototype.getDefaultCfg=function(){return{}},n.prototype.get=function(t){return this.cfg[t]},n.prototype.set=function(t,n){this.cfg[t]=n},n.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},n}(ot.a),_t=e(1);_t.translate=function(t,n,e){var r=new Array(9);return _t.fromTranslation(r,e),_t.multiply(t,r,n)},_t.rotate=function(t,n,e){var r=new Array(9);return _t.fromRotation(r,e),_t.multiply(t,r,n)},_t.scale=function(t,n,e){var r=new Array(9);return _t.fromScaling(r,e),_t.multiply(t,r,n)},_t.transform=function(t,n){for(var e=[].concat(t),r=0,a=n.length;r<a;r++){var i=n[r];switch(i[0]){case\"t\":_t.translate(e,e,[i[1],i[2]]);break;case\"s\":_t.scale(e,e,[i[1],i[2]]);break;case\"r\":_t.rotate(e,e,i[1])}}return e};var wt=_t,Pt=e(4);Pt.angle=function(t,n){var e=Pt.dot(t,n)/(Pt.length(t)*Pt.length(n));return Math.acos(function(t,n,e){return t<n?n:t>e?e:t}(e,-1,1))},Pt.direction=function(t,n){return t[0]*n[1]-n[0]*t[1]},Pt.angleTo=function(t,n,e){var r=Pt.angle(t,n),a=Pt.direction(t,n)>=0;return e?a?2*Math.PI-r:r:a?r:2*Math.PI-r},Pt.vertical=function(t,n,e){return e?(t[0]=n[1],t[1]=-1*n[0]):(t[0]=-1*n[1],t[1]=n[0]),t},e(45);var At=function(t,n){var e=t?m(t):[1,0,0,0,1,0,0,0,1];return l(n,(function(t){switch(t[0]){case\"t\":wt.translate(e,e,[t[1],t[2]]);break;case\"s\":wt.scale(e,e,[t[1],t[2]]);break;case\"r\":wt.rotate(e,e,t[1]);break;case\"m\":wt.multiply(e,e,t[1]);break;default:return!1}})),e};function Ot(t,n){var e=[],r=t[0],a=t[1],i=t[2],o=t[3],u=t[4],s=t[5],c=t[6],l=t[7],f=t[8],h=n[0],p=n[1],d=n[2],v=n[3],g=n[4],y=n[5],m=n[6],M=n[7],x=n[8];return e[0]=h*r+p*o+d*c,e[1]=h*a+p*u+d*l,e[2]=h*i+p*s+d*f,e[3]=v*r+g*o+y*c,e[4]=v*a+g*u+y*l,e[5]=v*i+g*s+y*f,e[6]=m*r+M*o+x*c,e[7]=m*a+M*u+x*l,e[8]=m*i+M*s+x*f,e}function Ct(t,n){var e=[],r=n[0],a=n[1];return e[0]=t[0]*r+t[3]*a+t[6],e[1]=t[1]*r+t[4]*a+t[7],e}var St=[\"zIndex\",\"capture\",\"visible\",\"type\"],Et=[\"repeat\"];function kt(t,n){var e={},r=n.attrs;for(var a in t)e[a]=r[a];return e}function Tt(t,n){var e={},r=n.attr();return l(t,(function(t,n){-1!==Et.indexOf(n)||x(r[n],t)||(e[n]=t)})),e}function jt(t,n){if(n.onFrame)return t;var e=n.startTime,r=n.delay,a=n.duration,i=Object.prototype.hasOwnProperty;return l(t,(function(t){e+r<t.startTime+t.delay+t.duration&&a>t.delay&&l(n.toAttrs,(function(n,e){i.call(t.toAttrs,e)&&(delete t.toAttrs[e],delete t.fromAttrs[e])}))})),t}var It=function(t){function n(n){var e=t.call(this,n)||this;e.attrs={};var r=e.getDefaultAttrs();return function(t,n,e,r){n&&g(t,n),e&&g(t,e),r&&g(t,r)}(r,n.attrs),e.attrs=r,e.initAttrs(r),e.initAnimate(),e}return at(n,t),n.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},n.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},n.prototype.onCanvasChange=function(t){},n.prototype.initAttrs=function(t){},n.prototype.initAnimate=function(){this.set(\"animable\",!0),this.set(\"animating\",!1)},n.prototype.isGroup=function(){return!1},n.prototype.getParent=function(){return this.get(\"parent\")},n.prototype.getCanvas=function(){return this.get(\"canvas\")},n.prototype.attr=function(){for(var t,n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=n[0],a=n[1];if(!r)return this.attrs;if(c(r)){for(var i in r)this.setAttr(i,r[i]);return this.afterAttrsChange(r),this}return 2===n.length?(this.setAttr(r,a),this.afterAttrsChange(((t={})[r]=a,t)),this):this.attrs[r]},n.prototype.isClipped=function(t,n){var e=this.getClip();return e&&!e.isHit(t,n)},n.prototype.setAttr=function(t,n){var e=this.attrs[t];e!==n&&(this.attrs[t]=n,this.onAttrChange(t,n,e))},n.prototype.onAttrChange=function(t,n,e){\"matrix\"===t&&this.set(\"totalMatrix\",null)},n.prototype.afterAttrsChange=function(t){this.onCanvasChange(\"attr\")},n.prototype.show=function(){return this.set(\"visible\",!0),this.onCanvasChange(\"show\"),this},n.prototype.hide=function(){return this.set(\"visible\",!1),this.onCanvasChange(\"hide\"),this},n.prototype.setZIndex=function(t){this.set(\"zIndex\",t);var n=this.getParent();return n&&n.sort(),this},n.prototype.toFront=function(){var t=this.getParent();if(t){var n=t.getChildren(),e=(this.get(\"el\"),n.indexOf(this));n.splice(e,1),n.push(this),this.onCanvasChange(\"zIndex\")}},n.prototype.toBack=function(){var t=this.getParent();if(t){var n=t.getChildren(),e=(this.get(\"el\"),n.indexOf(this));n.splice(e,1),n.unshift(this),this.onCanvasChange(\"zIndex\")}},n.prototype.remove=function(t){void 0===t&&(t=!0);var n=this.getParent();n?(Mt(n.getChildren(),this),n.get(\"clearing\")||this.onCanvasChange(\"remove\")):this.onCanvasChange(\"remove\"),t&&this.destroy()},n.prototype.resetMatrix=function(){this.attr(\"matrix\",this.getDefaultMatrix()),this.onCanvasChange(\"matrix\")},n.prototype.getMatrix=function(){return this.attr(\"matrix\")},n.prototype.setMatrix=function(t){this.attr(\"matrix\",t),this.onCanvasChange(\"matrix\")},n.prototype.getTotalMatrix=function(){var t=this.get(\"totalMatrix\");if(!t){var n=this.attr(\"matrix\"),e=this.get(\"parentMatrix\");t=e&&n?Ot(e,n):n||e,this.set(\"totalMatrix\",t)}return t},n.prototype.applyMatrix=function(t){var n,e=this.attr(\"matrix\");n=t&&e?Ot(t,e):e||t,this.set(\"totalMatrix\",n),this.set(\"parentMatrix\",t)},n.prototype.getDefaultMatrix=function(){return null},n.prototype.applyToMatrix=function(t){var n=this.attr(\"matrix\");return n?Ct(n,t):t},n.prototype.invertFromMatrix=function(t){var n,e,r,a,i,o,u,s,c,l,f,h,p,d,v,g=this.attr(\"matrix\");return g?Ct((e=[],r=(n=g)[0],a=n[1],i=n[2],o=n[3],u=n[4],s=n[5],c=n[6],l=n[7],(v=r*(h=(f=n[8])*u-s*l)+a*(p=-f*o+s*c)+i*(d=l*o-u*c))?(v=1/v,e[0]=h*v,e[1]=(-f*a+i*l)*v,e[2]=(s*a-i*u)*v,e[3]=p*v,e[4]=(f*r-i*c)*v,e[5]=(-s*r+i*o)*v,e[6]=d*v,e[7]=(-l*r+a*c)*v,e[8]=(u*r-a*o)*v,e):null),t):t},n.prototype.setClip=function(t){var n=this.getCanvas(),e=null;if(t){var r=this.getShapeBase()[function(t){var n=function(t){return function(t){return null==t}(t)?\"\":t.toString()}(t);return n.charAt(0).toUpperCase()+n.substring(1)}(t.type)];r&&(e=new r({type:t.type,isClipShape:!0,attrs:t.attrs,canvas:n}))}return this.set(\"clipShape\",e),this.onCanvasChange(\"clip\"),e},n.prototype.getClip=function(){return this.get(\"clipShape\")||null},n.prototype.clone=function(){var t=this,n=this.attrs,e={};l(n,(function(t,r){s(n[r])?e[r]=function(t){for(var n=[],e=0;e<t.length;e++)s(t[e])?n.push([].concat(t[e])):n.push(t[e]);return n}(n[r]):e[r]=n[r]}));var r=new(0,this.constructor)({attrs:e});return l(St,(function(n){r.set(n,t.get(n))})),r},n.prototype.destroy=function(){this.destroyed||(this.attrs={},t.prototype.destroy.call(this))},n.prototype.isAnimatePaused=function(){return this.get(\"_pause\").isPaused},n.prototype.animate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.set(\"animating\",!0);var e=this.get(\"timeline\");e||(e=this.get(\"canvas\").get(\"timeline\"),this.set(\"timeline\",e));var r=this.get(\"animations\")||[];e.timer||e.initTimer();var a,i,o,u,s,l=t[0],h=t[1],p=t[2],d=void 0===p?\"easeLinear\":p,g=t[3],y=void 0===g?w:g,m=t[4],M=void 0===m?0:m;f(l)?(a=l,l={}):c(l)&&l.onFrame&&(a=l.onFrame,i=l.repeat),c(h)?(h=(s=h).duration,d=s.easing||\"easeLinear\",M=s.delay||0,i=s.repeat||i||!1,y=s.callback||w,o=s.pauseCallback||w,u=s.resumeCallback||w):(v(y)&&(M=y,y=null),f(d)?(y=d,d=\"easeLinear\"):d=d||\"easeLinear\");var x=Tt(l,this),b={fromAttrs:kt(x,this),toAttrs:x,duration:h,easing:d,repeat:i,callback:y,pauseCallback:o,resumeCallback:u,delay:M,startTime:e.getTime(),id:_(),onFrame:a,pathFormatted:!1};r.length>0?r=jt(r,b):e.addAnimator(this),r.push(b),this.set(\"animations\",r),this.set(\"_pause\",{isPaused:!1})},n.prototype.stopAnimate=function(t){var n=this;void 0===t&&(t=!0);var e=this.get(\"animations\");l(e,(function(e){t&&(e.onFrame?n.attr(e.onFrame(1)):n.attr(e.toAttrs)),e.callback&&e.callback()})),this.set(\"animating\",!1),this.set(\"animations\",[])},n.prototype.pauseAnimate=function(){var t=this.get(\"timeline\"),n=this.get(\"animations\");return l(n,(function(t){t.pauseCallback&&t.pauseCallback()})),this.set(\"_pause\",{isPaused:!0,pauseTime:t.getTime()}),this},n.prototype.resumeAnimate=function(){var t=this.get(\"timeline\").getTime(),n=this.get(\"animations\"),e=this.get(\"_pause\").pauseTime;return l(n,(function(n){n.startTime=n.startTime+(t-e),n._paused=!1,n._pauseTime=null,n.resumeCallback&&n.resumeCallback()})),this.set(\"_pause\",{isPaused:!1}),this.set(\"animations\",n),this},n.prototype.emitDelegation=function(t,n){for(var e=n.propagationPath,r=this.getEvents(),a=0;a<e.length;a++){var i=e[a],o=i.get(\"name\");if(o){var u=o+\":\"+t;(r[u]||r[\"*\"])&&(n.name=u,n.currentTarget=i,n.delegateTarget=this,n.delegateObject=i.get(\"delegateObject\"),this.emit(u,n))}}},n.prototype.translate=function(t,n){void 0===t&&(t=0),void 0===n&&(n=0);var e=this.getMatrix(),r=At(e,[[\"t\",t,n]]);return this.setMatrix(r),this},n.prototype.move=function(t,n){var e=this.attr(\"x\")||0,r=this.attr(\"y\")||0;return this.translate(t-e,n-r),this},n.prototype.moveTo=function(t,n){return this.move(t,n)},n.prototype.scale=function(t,n){var e=this.getMatrix(),r=At(e,[[\"s\",t,n||t]]);return this.setMatrix(r),this},n.prototype.rotate=function(t){var n=this.getMatrix(),e=At(n,[[\"r\",t]]);return this.setMatrix(e),this},n.prototype.rotateAtStart=function(t){var n=this.attr(),e=n.x,r=n.y,a=this.getMatrix(),i=At(a,[[\"t\",-e,-r],[\"r\",t],[\"t\",e,r]]);return this.setMatrix(i),this},n.prototype.rotateAtPoint=function(t,n,e){var r=this.getMatrix(),a=At(r,[[\"t\",-t,-n],[\"r\",e],[\"t\",t,n]]);return this.setMatrix(a),this},n}(bt),Rt={};function Dt(t){return t.get(\"visible\")&&t.get(\"capture\")}var Bt,qt,Nt=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return at(n,t),n.prototype.isCanvas=function(){return!1},n.prototype.getBBox=function(){var t=1/0,n=-1/0,e=1/0,r=-1/0,a=[],i=[],o=this.getChildren().filter((function(t){return t.get(\"visible\")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return o.length>0?(gt()(o,(function(t){var n=t.getBBox();a.push(n.minX,n.maxX),i.push(n.minY,n.maxY)})),t=Math.min.apply(null,a),n=Math.max.apply(null,a),e=Math.min.apply(null,i),r=Math.max.apply(null,i)):(t=0,n=0,e=0,r=0),{x:t,y:e,minX:t,minY:e,maxX:n,maxY:r,width:n-t,height:r-e}},n.prototype.getCanvasBBox=function(){var t=1/0,n=-1/0,e=1/0,r=-1/0,a=[],i=[],o=this.getChildren().filter((function(t){return t.get(\"visible\")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return o.length>0?(gt()(o,(function(t){var n=t.getCanvasBBox();a.push(n.minX,n.maxX),i.push(n.minY,n.maxY)})),t=Math.min.apply(null,a),n=Math.max.apply(null,a),e=Math.min.apply(null,i),r=Math.max.apply(null,i)):(t=0,n=0,e=0,r=0),{x:t,y:e,minX:t,minY:e,maxX:n,maxY:r,width:n-t,height:r-e}},n.prototype.getDefaultCfg=function(){var n=t.prototype.getDefaultCfg.call(this);return n.children=[],n},n.prototype.onAttrChange=function(n,e,r){if(t.prototype.onAttrChange.call(this,n,e,r),\"matrix\"===n){var a=this.getTotalMatrix();this._applyChildrenMarix(a)}},n.prototype.applyMatrix=function(n){var e=this.getTotalMatrix();t.prototype.applyMatrix.call(this,n);var r=this.getTotalMatrix();r!==e&&this._applyChildrenMarix(r)},n.prototype._applyChildrenMarix=function(t){var n=this.getChildren();gt()(n,(function(n){n.applyMatrix(t)}))},n.prototype.addShape=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=t[0],r=t[1];ht()(e)?r=e:r.type=e;var a=Rt[r.type];a||(a=mt()(r.type),Rt[r.type]=a);var i=this.getShapeBase(),o=new i[a](r);return this.add(o),o},n.prototype.addGroup=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e,r=t[0],a=t[1];if(st()(r))e=new r(a||{parent:this});else{var i=r||{},o=this.getGroupBase();e=new o(i)}return this.add(e),e},n.prototype.getCanvas=function(){return this.isCanvas()?this:this.get(\"canvas\")},n.prototype.getShape=function(t,n,e){if(!Dt(this))return null;var r,a=this.getChildren();if(this.isCanvas())r=this._findShape(a,t,n,e);else{var i=[t,n,1];i=this.invertFromMatrix(i),this.isClipped(i[0],i[1])||(r=this._findShape(a,i[0],i[1],e))}return r},n.prototype._findShape=function(t,n,e,r){for(var a=null,i=t.length-1;i>=0;i--){var o=t[i];if(Dt(o)&&(o.isGroup()?a=o.getShape(n,e,r):o.isHit(n,e)&&(a=o)),a)break}return a},n.prototype.add=function(t){var n=this.getCanvas(),e=this.getChildren(),r=this.get(\"timeline\"),a=t.getParent();a&&function(t,n,e){void 0===e&&(e=!0),e?n.destroy():(n.set(\"parent\",null),n.set(\"canvas\",null)),Mt(t.getChildren(),n)}(a,t,!1),t.set(\"parent\",this),n&&function t(n,e){if(n.set(\"canvas\",e),n.isGroup()){var r=n.get(\"children\");r.length&&r.forEach((function(n){t(n,e)}))}}(t,n),r&&function t(n,e){if(n.set(\"timeline\",e),n.isGroup()){var r=n.get(\"children\");r.length&&r.forEach((function(n){t(n,e)}))}}(t,r),e.push(t),function(t){t.isGroup()?(t.isEntityGroup()||t.get(\"children\").length)&&t.onCanvasChange(\"add\"):t.onCanvasChange(\"add\")}(t),this._applyElementMatrix(t)},n.prototype._applyElementMatrix=function(t){var n=this.getTotalMatrix();n&&t.applyMatrix(n)},n.prototype.getChildren=function(){return this.get(\"children\")},n.prototype.sort=function(){var t,n=this.getChildren();gt()(n,(function(t,n){return t._INDEX=n,t})),n.sort((t=function(t,n){return t.get(\"zIndex\")-n.get(\"zIndex\")},function(n,e){var r=t(n,e);return 0===r?n._INDEX-e._INDEX:r})),this.onCanvasChange(\"sort\")},n.prototype.clear=function(){if(this.set(\"clearing\",!0),!this.destroyed){for(var t=this.getChildren(),n=t.length-1;n>=0;n--)t[n].destroy();this.set(\"children\",[]),this.onCanvasChange(\"clear\"),this.set(\"clearing\",!1)}},n.prototype.destroy=function(){this.get(\"destroyed\")||(this.clear(),t.prototype.destroy.call(this))},n.prototype.getFirst=function(){return this.getChildByIndex(0)},n.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},n.prototype.getChildByIndex=function(t){return this.getChildren()[t]},n.prototype.getCount=function(){return this.getChildren().length},n.prototype.contain=function(t){return this.getChildren().indexOf(t)>-1},n.prototype.removeChild=function(t,n){void 0===n&&(n=!0),this.contain(t)&&t.remove(n)},n.prototype.findAll=function(t){var n=[],e=this.getChildren();return gt()(e,(function(e){t(e)&&n.push(e),e.isGroup()&&(n=n.concat(e.findAll(t)))})),n},n.prototype.find=function(t){var n=null,e=this.getChildren();return gt()(e,(function(e){if(t(e)?n=e:e.isGroup()&&(n=e.find(t)),n)return!1})),n},n.prototype.findById=function(t){return this.find((function(n){return n.get(\"id\")===t}))},n.prototype.findByClassName=function(t){return this.find((function(n){return n.get(\"className\")===t}))},n.prototype.findAllByName=function(t){return this.findAll((function(n){return n.get(\"name\")===t}))},n}(It),Ft=0,Yt=0,Lt=0,Xt=0,zt=0,Ht=0,Qt=\"object\"==typeof performance&&performance.now?performance:Date,Vt=\"object\"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Gt(){return zt||(Vt(Zt),zt=Qt.now()+Ht)}function Zt(){zt=0}function Ut(){this._call=this._time=this._next=null}function Wt(t,n,e){var r=new Ut;return r.restart(t,n,e),r}function $t(){zt=(Xt=Qt.now())+Ht,Ft=Yt=0;try{!function(){Gt(),++Ft;for(var t,n=Bt;n;)(t=zt-n._time)>=0&&n._call.call(null,t),n=n._next;--Ft}()}finally{Ft=0,function(){for(var t,n,e=Bt,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Bt=n);qt=t,Kt(r)}(),zt=0}}function Jt(){var t=Qt.now(),n=t-Xt;n>1e3&&(Ht-=n,Xt=t)}function Kt(t){Ft||(Yt&&(Yt=clearTimeout(Yt)),t-zt>24?(t<1/0&&(Yt=setTimeout($t,t-Qt.now()-Ht)),Lt&&(Lt=clearInterval(Lt))):(Lt||(Xt=Qt.now(),Lt=setInterval(Jt,1e3)),Ft=1,Vt($t)))}function tn(t){return+t}function nn(t){return t*t}function en(t){return t*(2-t)}function rn(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function an(t){return t*t*t}function on(t){return--t*t*t+1}function un(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Ut.prototype=Wt.prototype={constructor:Ut,restart:function(t,n,e){if(\"function\"!=typeof t)throw new TypeError(\"callback is not a function\");e=(null==e?Gt():+e)+(null==n?0:+n),this._next||qt===this||(qt?qt._next=this:Bt=this,qt=this),this._call=t,this._time=e,Kt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Kt())}};var sn=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(3),cn=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),ln=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),fn=Math.PI,hn=fn/2;function pn(t){return 1-Math.cos(t*hn)}function dn(t){return Math.sin(t*hn)}function vn(t){return(1-Math.cos(fn*t))/2}function gn(t){return Math.pow(2,10*t-10)}function yn(t){return 1-Math.pow(2,-10*t)}function mn(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Mn(t){return 1-Math.sqrt(1-t*t)}function xn(t){return Math.sqrt(1- --t*t)}function bn(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var _n=7.5625;function wn(t){return 1-Pn(1-t)}function Pn(t){return(t=+t)<4/11?_n*t*t:t<8/11?_n*(t-=6/11)*t+.75:t<10/11?_n*(t-=9/11)*t+.9375:_n*(t-=21/22)*t+63/64}function An(t){return((t*=2)<=1?1-Pn(1-t):Pn(t-1)+1)/2}var On=function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e}(1.70158),Cn=function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(1.70158),Sn=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(1.70158),En=2*Math.PI,kn=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=En);function a(t){return n*Math.pow(2,10*--t)*Math.sin((r-t)/e)}return a.amplitude=function(n){return t(n,e*En)},a.period=function(e){return t(n,e)},a}(1,.3),Tn=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=En);function a(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/e)}return a.amplitude=function(n){return t(n,e*En)},a.period=function(e){return t(n,e)},a}(1,.3),jn=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=En);function a(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((r-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((r+t)/e))/2}return a.amplitude=function(n){return t(n,e*En)},a.period=function(e){return t(n,e)},a}(1,.3),In=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function Rn(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Dn(){}var Bn=\"\\\\s*([+-]?\\\\d+)\\\\s*\",qn=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",Nn=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",Fn=/^#([0-9a-f]{3,8})$/,Yn=new RegExp(\"^rgb\\\\(\"+[Bn,Bn,Bn]+\"\\\\)$\"),Ln=new RegExp(\"^rgb\\\\(\"+[Nn,Nn,Nn]+\"\\\\)$\"),Xn=new RegExp(\"^rgba\\\\(\"+[Bn,Bn,Bn,qn]+\"\\\\)$\"),zn=new RegExp(\"^rgba\\\\(\"+[Nn,Nn,Nn,qn]+\"\\\\)$\"),Hn=new RegExp(\"^hsl\\\\(\"+[qn,Nn,Nn]+\"\\\\)$\"),Qn=new RegExp(\"^hsla\\\\(\"+[qn,Nn,Nn,qn]+\"\\\\)$\"),Vn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Gn(){return this.rgb().formatHex()}function Zn(){return this.rgb().formatRgb()}function Un(t){var n,e;return t=(t+\"\").trim().toLowerCase(),(n=Fn.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Wn(n):3===e?new Kn(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?new Kn(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?new Kn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Yn.exec(t))?new Kn(n[1],n[2],n[3],1):(n=Ln.exec(t))?new Kn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Xn.exec(t))?$n(n[1],n[2],n[3],n[4]):(n=zn.exec(t))?$n(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Hn.exec(t))?re(n[1],n[2]/100,n[3]/100,1):(n=Qn.exec(t))?re(n[1],n[2]/100,n[3]/100,n[4]):Vn.hasOwnProperty(t)?Wn(Vn[t]):\"transparent\"===t?new Kn(NaN,NaN,NaN,0):null}function Wn(t){return new Kn(t>>16&255,t>>8&255,255&t,1)}function $n(t,n,e,r){return r<=0&&(t=n=e=NaN),new Kn(t,n,e,r)}function Jn(t,n,e,r){return 1===arguments.length?function(t){return t instanceof Dn||(t=Un(t)),t?new Kn((t=t.rgb()).r,t.g,t.b,t.opacity):new Kn}(t):new Kn(t,n,e,null==r?1:r)}function Kn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function te(){return\"#\"+ee(this.r)+ee(this.g)+ee(this.b)}function ne(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?\"rgb(\":\"rgba(\")+Math.max(0,Math.min(255,Math.round(this.r)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.g)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?\")\":\", \"+t+\")\")}function ee(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?\"0\":\"\")+t.toString(16)}function re(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new ie(t,n,e,r)}function ae(t){if(t instanceof ie)return new ie(t.h,t.s,t.l,t.opacity);if(t instanceof Dn||(t=Un(t)),!t)return new ie;if(t instanceof ie)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,a=Math.min(n,e,r),i=Math.max(n,e,r),o=NaN,u=i-a,s=(i+a)/2;return u?(o=n===i?(e-r)/u+6*(e<r):e===i?(r-n)/u+2:(n-e)/u+4,u/=s<.5?i+a:2-i-a,o*=60):u=s>0&&s<1?0:o,new ie(o,u,s,t.opacity)}function ie(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function oe(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function ue(t,n,e,r,a){var i=t*t,o=i*t;return((1-3*t+3*i-o)*n+(4-6*i+3*o)*e+(1+3*t+3*i-3*o)*r+o*a)/6}In(Dn,Un,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Gn,formatHex:Gn,formatHsl:function(){return ae(this).formatHsl()},formatRgb:Zn,toString:Zn}),In(Kn,Jn,Rn(Dn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Kn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Kn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:te,formatHex:te,formatRgb:ne,toString:ne})),In(ie,(function(t,n,e,r){return 1===arguments.length?ae(t):new ie(t,n,e,null==r?1:r)}),Rn(Dn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ie(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ie(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,a=2*e-r;return new Kn(oe(t>=240?t-240:t+120,a,r),oe(t,a,r),oe(t<120?t+240:t-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?\"hsl(\":\"hsla(\")+(this.h||0)+\", \"+100*(this.s||0)+\"%, \"+100*(this.l||0)+\"%\"+(1===t?\")\":\", \"+t+\")\")}}));var se=function(t){return function(){return t}};function ce(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):se(isNaN(t)?n:t)}var le=function t(n){var e=function(t){return 1==(t=+t)?ce:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):se(isNaN(n)?e:n)}}(n);function r(t,n){var r=e((t=Jn(t)).r,(n=Jn(n)).r),a=e(t.g,n.g),i=e(t.b,n.b),o=ce(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=a(n),t.b=i(n),t.opacity=o(n),t+\"\"}}return r.gamma=t,r}(1);function fe(t){return function(n){var e,r,a=n.length,i=new Array(a),o=new Array(a),u=new Array(a);for(e=0;e<a;++e)r=Jn(n[e]),i[e]=r.r||0,o[e]=r.g||0,u[e]=r.b||0;return i=t(i),o=t(o),u=t(u),r.opacity=1,function(t){return r.r=i(t),r.g=o(t),r.b=u(t),r+\"\"}}}fe((function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),a=t[r],i=t[r+1],o=r>0?t[r-1]:2*a-i,u=r<n-1?t[r+2]:2*i-a;return ue((e-r/n)*n,o,a,i,u)}})),fe((function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),a=t[(r+n-1)%n],i=t[r%n],o=t[(r+1)%n],u=t[(r+2)%n];return ue((e-r/n)*n,a,i,o,u)}}));var he=function(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,a=n.slice();return function(i){for(e=0;e<r;++e)a[e]=t[e]*(1-i)+n[e]*i;return a}};function pe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function de(t,n){var e,r=n?n.length:0,a=t?Math.min(r,t.length):0,i=new Array(a),o=new Array(r);for(e=0;e<a;++e)i[e]=be(t[e],n[e]);for(;e<r;++e)o[e]=n[e];return function(t){for(e=0;e<a;++e)o[e]=i[e](t);return o}}var ve=function(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}},ge=function(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}},ye=function(t,n){var e,r={},a={};for(e in null!==t&&\"object\"==typeof t||(t={}),null!==n&&\"object\"==typeof n||(n={}),n)e in t?r[e]=be(t[e],n[e]):a[e]=n[e];return function(t){for(e in r)a[e]=r[e](t);return a}},me=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,Me=new RegExp(me.source,\"g\"),xe=function(t,n){var e,r,a,i=me.lastIndex=Me.lastIndex=0,o=-1,u=[],s=[];for(t+=\"\",n+=\"\";(e=me.exec(t))&&(r=Me.exec(n));)(a=r.index)>i&&(a=n.slice(i,a),u[o]?u[o]+=a:u[++o]=a),(e=e[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,s.push({i:o,x:ge(e,r)})),i=Me.lastIndex;return i<n.length&&(a=n.slice(i),u[o]?u[o]+=a:u[++o]=a),u.length<2?s[0]?function(t){return function(n){return t(n)+\"\"}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join(\"\")})},be=function(t,n){var e,r=typeof n;return null==n||\"boolean\"===r?se(n):(\"number\"===r?ge:\"string\"===r?(e=Un(n))?(n=e,le):xe:n instanceof Un?le:n instanceof Date?ve:pe(n)?he:Array.isArray(n)?de:\"function\"!=typeof n.valueOf&&\"function\"!=typeof n.toString||isNaN(n)?ye:ge)(t,n)},_e=[1,0,0,0,1,0,0,0,1];function we(t,n,e){var r,i=n.startTime;if(e<i+n.delay||n._paused)return!1;var o=n.duration,u=n.easing;if(e=e-i-n.delay,n.repeat)r=e%o/o,r=a[u](r);else{if(!((r=e/o)<1))return n.onFrame?t.attr(n.onFrame(1)):t.attr(n.toAttrs),!0;r=a[u](r)}if(n.onFrame){var s=n.onFrame(r);t.attr(s)}else!function(t,n,e){var r={},a=n.fromAttrs,i=n.toAttrs;if(!t.destroyed){var o,u,s,c;for(var l in i)if(!x(a[l],i[l]))if(\"path\"===l){var h=i[l],p=a[l];h.length>p.length?(h=C(i[l]),p=C(a[l]),p=J(p,h),p=nt(p,h),n.fromAttrs.path=p,n.toAttrs.path=h):n.pathFormatted||(h=C(i[l]),p=C(a[l]),p=nt(p,h),n.fromAttrs.path=p,n.toAttrs.path=h,n.pathFormatted=!0),r[l]=[];for(var d=0;d<h.length;d++){for(var g=h[d],y=p[d],m=[],M=0;M<g.length;M++)v(g[M])&&y&&v(y[M])?(o=be(y[M],g[M]),m.push(o(e))):m.push(g[M]);r[l].push(m)}}else if(\"matrix\"===l){var b=(s=a[l]||_e,(pe(c=i[l]||_e)?he:de)(s,c))(e);r[l]=b}else[\"fill\",\"stroke\",\"fillStyle\",\"strokeStyle\"].includes(l)&&(u=i[l],/^[r,R,L,l]{1}[\\s]*\\(/.test(u))?r[l]=i[l]:f(i[l])||(o=be(a[l],i[l]),r[l]=o(e));t.attr(r)}}(t,n,r);return!1}var Pe=function(){function t(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return t.prototype.initTimer=function(){var t,n,e,r=this;this.timer=Wt((function(a){if(r.current=a,r.animators.length>0){for(var i=r.animators.length-1;i>=0;i--)if((t=r.animators[i]).destroyed)r.removeAnimator(i);else{if(!t.isAnimatePaused())for(var o=(n=t.get(\"animations\")).length-1;o>=0;o--)e=n[o],we(t,e,a)&&(n.splice(o,1),e.callback&&e.callback());0===n.length&&r.removeAnimator(i)}r.canvas.get(\"autoDraw\")||r.canvas.draw()}}))},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach((function(n){n.stopAnimate(t)})),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}(),Ae=function(t){function n(n){var e=t.call(this,n)||this;return e.initContainer(),e.initDom(),e.initEvents(),e.initTimeline(),e}return at(n,t),n.prototype.getDefaultCfg=function(){var n=t.prototype.getDefaultCfg.call(this);return n.cursor=\"default\",n},n.prototype.initContainer=function(){var t=this.get(\"container\");lt()(t)&&(t=document.getElementById(t),this.set(\"container\",t))},n.prototype.initDom=function(){var t=this.createDom();this.set(\"el\",t),this.get(\"container\").appendChild(t),this.setDOMSize(this.get(\"width\"),this.get(\"height\"))},n.prototype.initEvents=function(){},n.prototype.initTimeline=function(){var t=new Pe(this);this.set(\"timeline\",t)},n.prototype.setDOMSize=function(t,n){var e=this.get(\"el\");xt&&(e.style.width=t+\"px\",e.style.height=n+\"px\")},n.prototype.changeSize=function(t,n){this.setDOMSize(t,n),this.set(\"width\",t),this.set(\"height\",n),this.onCanvasChange(\"changeSize\")},n.prototype.getRenderer=function(){return this.get(\"renderer\")},n.prototype.getCursor=function(){return this.get(\"cursor\")},n.prototype.setCursor=function(t){this.set(\"cursor\",t);var n=this.get(\"el\");xt&&n&&(n.style.cursor=t)},n.prototype.getPointByClient=function(t,n){var e=this.get(\"el\").getBoundingClientRect();return{x:t-e.left,y:n-e.top}},n.prototype.getClientByPoint=function(t,n){var e=this.get(\"el\").getBoundingClientRect();return{x:t+e.left,y:n+e.top}},n.prototype.draw=function(){},n.prototype.removeDom=function(){var t=this.get(\"el\");t.parentNode.removeChild(t)},n.prototype.clearEvents=function(){},n.prototype.isCanvas=function(){return!0},n.prototype.getParent=function(){return null},n.prototype.destroy=function(){var n=this.get(\"timeline\");this.get(\"destroyed\")||(this.clear(),n&&n.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))},n}(Nt),Oe=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return at(n,t),n.prototype.isGroup=function(){return!0},n.prototype.isEntityGroup=function(){return!1},n.prototype.clone=function(){for(var n=t.prototype.clone.call(this),e=this.getChildren(),r=0;r<e.length;r++){var a=e[r];n.add(a.clone())}return n},n}(Nt),Ce=function(t){function n(n){return t.call(this,n)||this}return at(n,t),n.prototype._isInBBox=function(t,n){var e=this.getBBox();return e.minX<=t&&e.maxX>=t&&e.minY<=n&&e.maxY>=n},n.prototype.afterAttrsChange=function(n){t.prototype.afterAttrsChange.call(this,n),this.clearCacheBBox()},n.prototype.getBBox=function(){var t=this.get(\"bbox\");return t||(t=this.calculateBBox(),this.set(\"bbox\",t)),t},n.prototype.getCanvasBBox=function(){var t=this.get(\"canvasBox\");return t||(t=this.calculateCanvasBBox(),this.set(\"canvasBox\",t)),t},n.prototype.applyMatrix=function(n){t.prototype.applyMatrix.call(this,n),this.set(\"canvasBox\",null)},n.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),n=this.getTotalMatrix(),e=t.minX,r=t.minY,a=t.maxX,i=t.maxY;if(n){var o=Ct(n,[t.minX,t.minY]),u=Ct(n,[t.maxX,t.minY]),s=Ct(n,[t.minX,t.maxY]),c=Ct(n,[t.maxX,t.maxY]);e=Math.min(o[0],u[0],s[0],c[0]),a=Math.max(o[0],u[0],s[0],c[0]),r=Math.min(o[1],u[1],s[1],c[1]),i=Math.max(o[1],u[1],s[1],c[1])}var l=this.attrs;if(l.shadowColor){var f=l.shadowBlur,h=void 0===f?0:f,p=l.shadowOffsetX,d=void 0===p?0:p,v=l.shadowOffsetY,g=void 0===v?0:v,y=e-h+d,m=a+h+d,M=r-h+g,x=i+h+g;e=Math.min(e,y),a=Math.max(a,m),r=Math.min(r,M),i=Math.max(i,x)}return{x:e,y:r,minX:e,minY:r,maxX:a,maxY:i,width:a-e,height:i-r}},n.prototype.clearCacheBBox=function(){this.set(\"bbox\",null),this.set(\"canvasBox\",null)},n.prototype.isClipShape=function(){return this.get(\"isClipShape\")},n.prototype.isInShape=function(t,n){return!1},n.prototype.isOnlyHitBox=function(){return!1},n.prototype.isHit=function(t,n){var e=[t,n,1],r=(e=this.invertFromMatrix(e))[0],a=e[1],i=this._isInBBox(r,a);return this.isOnlyHitBox()?i:!(!i||this.isClipped(r,a))&&this.isInShape(r,a)},n}(It);e.d(n,\"version\",(function(){return Se})),e.d(n,\"Event\",(function(){return et})),e.d(n,\"Base\",(function(){return bt})),e.d(n,\"AbstractCanvas\",(function(){return Ae})),e.d(n,\"AbstractGroup\",(function(){return Oe})),e.d(n,\"AbstractShape\",(function(){return Ce})),e.d(n,\"PathUtil\",(function(){return r}));var Se=e(48).version},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.default=function(t){return null==t}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(20);n.default=function(t){return r.default(t,\"String\")}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.default=function(t){var n=typeof t;return null!==t&&\"object\"===n||\"function\"===n}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(8),a=e(13);n.default=function(t,n){if(t)if(r.default(t))for(var e=0,i=t.length;e<i&&!1!==n(t[e],e);e++);else if(a.default(t))for(var o in t)if(t.hasOwnProperty(o)&&!1===n(t[o],o))break}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(24);n.default=function(t){return Array.isArray?Array.isArray(t):r.default(t,\"Array\")}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(0),a=e(7),i=Math.PI,o=Math.sin,u=Math.cos,s=Math.atan2,c=i/3;function l(t,n,e,r,a,l,f){var h,p,d,v,g,y,m,M=n.arrowLength||10,x=n.arrowAngle?n.arrowAngle*i/180:c;m=s(r-l,e-a),g=Math.abs(n.lineWidth*u(m))/2,y=Math.abs(n.lineWidth*o(m))/2,f&&(g=-g,y=-y),h=a+M*u(m+x/2),p=l+M*o(m+x/2),d=a+M*u(m-x/2),v=l+M*o(m-x/2),t.beginPath(),t.moveTo(h-g,p-y),t.lineTo(a-g,l-y),t.lineTo(d-g,v-y),t.moveTo(a-g,l-y),t.lineTo(a+g,l+y),t.moveTo(a,l),t.stroke()}function f(t,n,e,i,s,c,l){var f=n.startArrow,h=n.endArrow,p=n.fill,d=n.stroke,v=l?f:h,g=v.d,y=v.fill,m=v.stroke,M=r.__rest(v,[\"d\",\"fill\",\"stroke\"]),x=s-e,b=c-i,_=Math.atan2(b,x);g&&(s-=u(_)*g,c-=o(_)*g);var w=new a.Path({type:\"path\",attrs:r.__assign(r.__assign({},M),{fill:y||p||d,stroke:m||d})});t.save(),t.translate(s,c),t.rotate(_),w.draw(t),t.restore()}n.getShortenOffset=function(t,n,e,r,a){var i=Math.atan2(r-n,e-t);return{dx:u(i)*a,dy:o(i)*a}},n.addStartArrow=function(t,n,e,r,a,i){\"object\"==typeof n.startArrow?f(t,n,e,r,a,i,!0):n.startArrow&&l(t,n,e,r,a,i,!0)},n.addEndArrow=function(t,n,e,r,a,i){\"object\"==typeof n.endArrow?f(t,n,e,r,a,i,!1):n.endArrow&&l(t,n,e,r,a,i,!1)}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(6);n.default=function(t,n,e,a,i,o,u){var s=Math.min(t,e),c=Math.max(t,e),l=Math.min(n,a),f=Math.max(n,a),h=i/2;return o>=s-h&&o<=c+h&&u>=l-h&&u<=f+h&&r.default.pointToLine(t,n,e,a,o,u)<=i/2}},function(t,n,e){\"use strict\";e.r(n);var r=function(t){return null!==t&&\"function\"!=typeof t&&isFinite(t.length)},a=function(t,n){return!!r(t)&&t.indexOf(n)>-1},i={}.toString,o=function(t,n){return i.call(t)===\"[object \"+n+\"]\"},u=function(t){return Array.isArray?Array.isArray(t):o(t,\"Array\")},s=function(t){var n=typeof t;return null!==t&&\"object\"===n||\"function\"===n},c=function(t,n){if(t)if(u(t))for(var e=0,r=t.length;e<r&&!1!==n(t[e],e);e++);else if(s(t))for(var a in t)if(t.hasOwnProperty(a)&&!1===n(t[a],a))break},l=function(t,n){if(!r(t))return t;var e=[];return c(t,(function(t,r){n(t,r)&&e.push(t)})),e},f=function(t,n){return void 0===n&&(n=[]),l(t,(function(t){return!a(n,t)}))},h=function(t){return o(t,\"Function\")},p=function(t){return null==t},d=Object.keys?function(t){return Object.keys(t)}:function(t){var n=[];return c(t,(function(e,r){h(t)&&\"prototype\"===r||n.push(r)})),n},v=function(t,n){var e=d(n),r=e.length;if(p(t))return!r;for(var a=0;a<r;a+=1){var i=e[a];if(n[i]!==t[i]||!(i in t))return!1}return!0},g=function(t){return\"object\"==typeof t&&null!==t},y=function(t){if(!g(t)||!o(t,\"Object\"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n},m=function(t,n){if(!u(t))return null;var e;if(h(n)&&(e=n),y(n)&&(e=function(t){return v(t,n)}),e)for(var r=0;r<t.length;r+=1)if(e(t[r]))return t[r];return null},M=function(t,n,e){void 0===e&&(e=0);for(var r=e;r<t.length;r++)if(n(t[r],r))return r;return-1},x=function(t,n){for(var e=null,r=0;r<t.length;r++){var a=t[r][n];if(!p(a)){e=u(a)?a[0]:a;break}}return e},b=function(t){if(!u(t))return[];for(var n=[],e=0;e<t.length;e++)n=n.concat(t[e]);return n},_=function(t,n){if(void 0===n&&(n=[]),u(t))for(var e=0;e<t.length;e+=1)_(t[e],n);else n.push(t);return n},w=_,P=function(t){if(!(t=l(t,(function(t){return!isNaN(t)}))).length)return{min:0,max:0};if(u(t[0])){for(var n=[],e=0;e<t.length;e++)n=n.concat(t[e]);t=n}var r=Math.max.apply(null,t);return{min:Math.min.apply(null,t),max:r}},A=Array.prototype,O=A.splice,C=A.indexOf,S=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];for(var r=0;r<n.length;r++)for(var a=n[r],i=-1;(i=C.call(t,a))>-1;)O.call(t,i,1);return t},E=Array.prototype.splice,k=function(t,n){if(!r(t))return[];for(var e=t?n.length:0,a=e-1;e--;){var i=void 0,o=n[e];e!==a&&o===i||(i=o,E.call(t,o,1))}return t},T=function(t,n,e){if(!u(t)&&!y(t))return t;var r=e;return c(t,(function(t,e){r=n(r,t,e)})),r},j=function(t,n){var e=[];if(!r(t))return e;for(var a=-1,i=[],o=t.length;++a<o;){var u=t[a];n(u,a,t)&&(e.push(u),i.push(a))}return k(t,i),e},I=function(t){return o(t,\"String\")},R=function(t,n){var e;if(h(n))e=function(t,e){return n(t)-n(e)};else{var r=[];I(n)?r.push(n):u(n)&&(r=n),e=function(t,n){for(var e=0;e<r.length;e+=1){var a=r[e];if(t[a]>n[a])return 1;if(t[a]<n[a])return-1}return 0}}return t.sort(e),t},D=function(t){var n=[];return c(t,(function(t){a(n,t)||n.push(t)})),n},B=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return D([].concat.apply([],t))},q=function(t,n){var e=[],r={};return t.forEach((function(t){var a=t[n];p(a)||(u(a)||(a=[a]),c(a,(function(t){r[t]||(e.push(t),r[t]=!0)})))})),e};function N(t){if(r(t))return t[0]}function F(t){if(r(t))return t[t.length-1]}var Y=function(t,n){return!(!u(t)&&!I(t))&&t[0]===n},L=function(t,n){return!(!u(t)&&!I(t))&&t[t.length-1]===n},X=function(t,n){for(var e=0;e<t.length;e++)if(!n(t[e],e))return!1;return!0},z=function(t,n){for(var e=0;e<t.length;e++)if(n(t[e],e))return!0;return!1},H=Object.prototype.hasOwnProperty,Q=function(t,n){if(!n||!u(t))return{};var e,r={},a=h(n)?n:function(t){return t[n]};return c(t,(function(t){e=a(t),H.call(r,e)?r[e].push(t):r[e]=[t]})),r},V=function(t,n){if(!n)return{0:t};if(!h(n)){var e=u(n)?n:n.replace(/\\s+/g,\"\").split(\"*\");n=function(t){for(var n=\"_\",r=0,a=e.length;r<a;r++)n+=t[e[r]]&&t[e[r]].toString();return n}}return Q(t,n)},G=function(t,n){if(!n)return[t];var e=V(t,n),r=[];for(var a in e)r.push(e[a]);return r},Z=function(t,n){return t[\"_wrap_\"+n]},U=function(t,n){if(t[\"_wrap_\"+n])return t[\"_wrap_\"+n];var e=function(e){t[n](e)};return t[\"_wrap_\"+n]=e,e},W={},$=function(t){var n=W[t];if(!n){for(var e=t.toString(16),r=e.length;r<6;r++)e=\"0\"+e;n=\"#\"+e,W[t]=n}return n},J=function(t){var n=0,e=0,r=0,a=0;return u(t)?1===t.length?n=e=r=a=t[0]:2===t.length?(n=r=t[0],e=a=t[1]):3===t.length?(n=t[0],e=a=t[1],r=t[2]):(n=t[0],e=t[1],r=t[2],a=t[3]):n=e=r=a=t,{r1:n,r2:e,r3:r,r4:a}},K=function(t,n,e){return t<n?n:t>e?e:t},tt=function(t,n){var e=n.toString(),r=e.indexOf(\".\");if(-1===r)return Math.round(t);var a=e.substr(r+1).length;return a>20&&(a=20),parseFloat(t.toFixed(a))},nt=function(t){return o(t,\"Number\")},et=function(t){return nt(t)&&t%1!=0},rt=function(t){return nt(t)&&t%2==0},at=Number.isInteger?Number.isInteger:function(t){return nt(t)&&t%1==0},it=function(t){return nt(t)&&t<0};function ot(t,n,e){return void 0===e&&(e=1e-5),Math.abs(t-n)<e}var ut=function(t){return nt(t)&&t%2!=0},st=function(t){return nt(t)&&t>0},ct=function(t,n){if(u(t)){var e,r,a=t[0];return e=h(n)?n(t[0]):t[0][n],c(t,(function(t){(r=h(n)?n(t):t[n])>e&&(a=t,e=r)})),a}},lt=function(t,n){if(u(t)){var e,r,a=t[0];return e=h(n)?n(t[0]):t[0][n],c(t,(function(t){(r=h(n)?n(t):t[n])<e&&(a=t,e=r)})),a}},ft=function(t,n){return(t%n+n)%n},ht=180/Math.PI,pt=function(t){return ht*t},dt=parseInt,vt=Math.PI/180,gt=function(t){return vt*t},yt=c,mt=function(t,n){return t.hasOwnProperty(n)},Mt=mt,xt=Object.values?function(t){return Object.values(t)}:function(t){var n=[];return c(t,(function(e,r){h(t)&&\"prototype\"===r||n.push(e)})),n},bt=function(t,n){return a(xt(t),n)},_t=function(t){return p(t)?\"\":t.toString()},wt=function(t){return _t(t).toLowerCase()},Pt=function(t){var n=_t(t);return n.charAt(0).toLowerCase()+n.substring(1)},At=function(t,n){return t&&n?t.replace(/\\\\?\\{([^{}]+)\\}/g,(function(t,e){return\"\\\\\"===t.charAt(0)?t.slice(1):void 0===n[e]?\"\":n[e]})):t},Ot=function(t){return _t(t).toUpperCase()},Ct=function(t){var n=_t(t);return n.charAt(0).toUpperCase()+n.substring(1)},St={}.toString,Et=function(t){return St.call(t).replace(/^\\[object /,\"\").replace(/]$/,\"\")},kt=function(t){return o(t,\"Arguments\")},Tt=function(t){return o(t,\"Boolean\")},jt=function(t){return o(t,\"Date\")},It=function(t){return o(t,\"Error\")},Rt=function(t){return nt(t)&&isFinite(t)},Dt=function(t){return null===t},Bt=Object.prototype,qt=function(t){var n=t&&t.constructor;return t===(\"function\"==typeof n&&n.prototype||Bt)},Nt=function(t){return o(t,\"RegExp\")},Ft=function(t){return void 0===t},Yt=function(t){return t instanceof Element||t instanceof HTMLDocument};function Lt(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}function Xt(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}function zt(t,n){for(var e in n)n.hasOwnProperty(e)&&\"constructor\"!==e&&void 0!==n[e]&&(t[e]=n[e])}function Ht(t,n,e,r){return n&&zt(t,n),e&&zt(t,e),r&&zt(t,r),t}var Qt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var e=t[0],r=1;r<t.length;r++){var a=t[r];h(a)&&(a=a.prototype),Ht(e.prototype,a)}},Vt=function(t){if(\"object\"!=typeof t||null===t)return t;var n;if(u(t)){n=[];for(var e=0,r=t.length;e<r;e++)\"object\"==typeof t[e]&&null!=t[e]?n[e]=Vt(t[e]):n[e]=t[e]}else for(var a in n={},t)\"object\"==typeof t[a]&&null!=t[a]?n[a]=Vt(t[a]):n[a]=t[a];return n},Gt=Vt,Zt=function(t,n,e){var r;return function(){var a=this,i=arguments,o=function(){r=null,e||t.apply(a,i)},u=e&&!r;clearTimeout(r),r=setTimeout(o,n),u&&t.apply(a,i)}},Ut=function(t,n){if(!h(t))throw new TypeError(\"Expected a function\");var e=function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var i=n?n.apply(this,r):r[0],o=e.cache;if(o.has(i))return o.get(i);var u=t.apply(this,r);return o.set(i,u),u};return e.cache=new Map,e};function Wt(t,n,e,r){for(var a in e=e||0,r=r||5,n)if(n.hasOwnProperty(a)){var i=n[a];null!==i&&y(i)?(y(t[a])||(t[a]={}),e<r?Wt(t[a],i,e+1,r):t[a]=n[a]):u(i)?(t[a]=[],t[a]=t[a].concat(i)):void 0!==i&&(t[a]=i)}}var $t=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];for(var r=0;r<n.length;r+=1)Wt(t,n[r]);return t},Jt=function(t,n,e,r){h(n)||(e=n,n=t,t=function(){});var a=Object.create?function(t,n){return Object.create(t,{constructor:{value:n}})}:function(t,n){function e(){}e.prototype=t;var r=new e;return r.constructor=n,r},i=a(n.prototype,t);return t.prototype=Ht(i,t.prototype),t.superclass=a(n.prototype,n),Ht(i,e),Ht(t,r),t},Kt=function(t,n){if(!r(t))return-1;var e=Array.prototype.indexOf;if(e)return e.call(t,n);for(var a=-1,i=0;i<t.length;i++)if(t[i]===n){a=i;break}return a},tn=Object.prototype.hasOwnProperty,nn=function(t){if(p(t))return!0;if(r(t))return!t.length;var n=Et(t);if(\"Map\"===n||\"Set\"===n)return!t.size;if(qt(t))return!Object.keys(t).length;for(var e in t)if(tn.call(t,e))return!1;return!0},en=function(t,n){if(t===n)return!0;if(!t||!n)return!1;if(I(t)||I(n))return!1;if(r(t)||r(n)){if(t.length!==n.length)return!1;for(var e=!0,a=0;a<t.length&&(e=en(t[a],n[a]));a++);return e}if(g(t)||g(n)){var i=Object.keys(t),o=Object.keys(n);if(i.length!==o.length)return!1;for(e=!0,a=0;a<i.length&&(e=en(t[i[a]],n[i[a]]));a++);return e}return!1},rn=en,an=function(t,n,e){return h(e)?!!e(t,n):rn(t,n)},on=function(t,n){if(!r(t))return t;var e=[];return c(t,(function(t,r){e.push(n(t,r))})),e},un=function(t){return t},sn=function(t,n){void 0===n&&(n=un);var e={};return s(t)&&!p(t)&&Object.keys(t).forEach((function(r){e[r]=n(t[r],r)})),e},cn=function(t,n,e){for(var r=0,a=I(n)?n.split(\".\"):n;t&&r<a.length;)t=t[a[r++]];return void 0===t||r<a.length?e:t},ln=function(t,n,e){var r=t,a=I(n)?n.split(\".\"):n;return a.forEach((function(t,n){n<a.length-1?(s(r[t])||(r[t]=nt(a[n+1])?[]:{}),r=r[t]):r[t]=e})),t},fn=Object.prototype.hasOwnProperty,hn=function(t,n){if(null===t||!y(t))return{};var e={};return c(n,(function(n){fn.call(t,n)&&(e[n]=t[n])})),e},pn=function(t,n,e){var r,a,i,o,u=0;e||(e={});var s=function(){u=!1===e.leading?0:Date.now(),r=null,o=t.apply(a,i),r||(a=i=null)},c=function(){var c=Date.now();u||!1!==e.leading||(u=c);var l=n-(c-u);return a=this,i=arguments,l<=0||l>n?(r&&(clearTimeout(r),r=null),u=c,o=t.apply(a,i),r||(a=i=null)):r||!1===e.trailing||(r=setTimeout(s,l)),o};return c.cancel=function(){clearTimeout(r),u=0,r=a=i=null},c},dn=function(t){return r(t)?Array.prototype.slice.call(t):[]},vn={},gn=function(t){return vn[t=t||\"g\"]?vn[t]+=1:vn[t]=1,t+vn[t]},yn=function(){},mn=function(t){return t};function Mn(t){return p(t)?0:r(t)?t.length:Object.keys(t).length}var xn=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,n){var e=this.map[t];return void 0===e?n:e},t.prototype.set=function(t,n){this.map[t]=n},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}();e.d(n,\"contains\",(function(){return a})),e.d(n,\"includes\",(function(){return a})),e.d(n,\"difference\",(function(){return f})),e.d(n,\"find\",(function(){return m})),e.d(n,\"findIndex\",(function(){return M})),e.d(n,\"firstValue\",(function(){return x})),e.d(n,\"flatten\",(function(){return b})),e.d(n,\"flattenDeep\",(function(){return w})),e.d(n,\"getRange\",(function(){return P})),e.d(n,\"pull\",(function(){return S})),e.d(n,\"pullAt\",(function(){return k})),e.d(n,\"reduce\",(function(){return T})),e.d(n,\"remove\",(function(){return j})),e.d(n,\"sortBy\",(function(){return R})),e.d(n,\"union\",(function(){return B})),e.d(n,\"uniq\",(function(){return D})),e.d(n,\"valuesOfKey\",(function(){return q})),e.d(n,\"head\",(function(){return N})),e.d(n,\"last\",(function(){return F})),e.d(n,\"startsWith\",(function(){return Y})),e.d(n,\"endsWith\",(function(){return L})),e.d(n,\"filter\",(function(){return l})),e.d(n,\"every\",(function(){return X})),e.d(n,\"some\",(function(){return z})),e.d(n,\"group\",(function(){return G})),e.d(n,\"groupBy\",(function(){return Q})),e.d(n,\"groupToMap\",(function(){return V})),e.d(n,\"getWrapBehavior\",(function(){return Z})),e.d(n,\"wrapBehavior\",(function(){return U})),e.d(n,\"number2color\",(function(){return $})),e.d(n,\"parseRadius\",(function(){return J})),e.d(n,\"clamp\",(function(){return K})),e.d(n,\"fixedBase\",(function(){return tt})),e.d(n,\"isDecimal\",(function(){return et})),e.d(n,\"isEven\",(function(){return rt})),e.d(n,\"isInteger\",(function(){return at})),e.d(n,\"isNegative\",(function(){return it})),e.d(n,\"isNumberEqual\",(function(){return ot})),e.d(n,\"isOdd\",(function(){return ut})),e.d(n,\"isPositive\",(function(){return st})),e.d(n,\"maxBy\",(function(){return ct})),e.d(n,\"minBy\",(function(){return lt})),e.d(n,\"mod\",(function(){return ft})),e.d(n,\"toDegree\",(function(){return pt})),e.d(n,\"toInteger\",(function(){return dt})),e.d(n,\"toRadian\",(function(){return gt})),e.d(n,\"forIn\",(function(){return yt})),e.d(n,\"has\",(function(){return mt})),e.d(n,\"hasKey\",(function(){return Mt})),e.d(n,\"hasValue\",(function(){return bt})),e.d(n,\"keys\",(function(){return d})),e.d(n,\"isMatch\",(function(){return v})),e.d(n,\"values\",(function(){return xt})),e.d(n,\"lowerCase\",(function(){return wt})),e.d(n,\"lowerFirst\",(function(){return Pt})),e.d(n,\"substitute\",(function(){return At})),e.d(n,\"upperCase\",(function(){return Ot})),e.d(n,\"upperFirst\",(function(){return Ct})),e.d(n,\"getType\",(function(){return Et})),e.d(n,\"isArguments\",(function(){return kt})),e.d(n,\"isArray\",(function(){return u})),e.d(n,\"isArrayLike\",(function(){return r})),e.d(n,\"isBoolean\",(function(){return Tt})),e.d(n,\"isDate\",(function(){return jt})),e.d(n,\"isError\",(function(){return It})),e.d(n,\"isFunction\",(function(){return h})),e.d(n,\"isFinite\",(function(){return Rt})),e.d(n,\"isNil\",(function(){return p})),e.d(n,\"isNull\",(function(){return Dt})),e.d(n,\"isNumber\",(function(){return nt})),e.d(n,\"isObject\",(function(){return s})),e.d(n,\"isObjectLike\",(function(){return g})),e.d(n,\"isPlainObject\",(function(){return y})),e.d(n,\"isPrototype\",(function(){return qt})),e.d(n,\"isRegExp\",(function(){return Nt})),e.d(n,\"isString\",(function(){return I})),e.d(n,\"isType\",(function(){return o})),e.d(n,\"isUndefined\",(function(){return Ft})),e.d(n,\"isElement\",(function(){return Yt})),e.d(n,\"requestAnimationFrame\",(function(){return Lt})),e.d(n,\"clearAnimationFrame\",(function(){return Xt})),e.d(n,\"augment\",(function(){return Qt})),e.d(n,\"clone\",(function(){return Gt})),e.d(n,\"debounce\",(function(){return Zt})),e.d(n,\"memoize\",(function(){return Ut})),e.d(n,\"deepMix\",(function(){return $t})),e.d(n,\"each\",(function(){return c})),e.d(n,\"extend\",(function(){return Jt})),e.d(n,\"indexOf\",(function(){return Kt})),e.d(n,\"isEmpty\",(function(){return nn})),e.d(n,\"isEqual\",(function(){return rn})),e.d(n,\"isEqualWith\",(function(){return an})),e.d(n,\"map\",(function(){return on})),e.d(n,\"mapValues\",(function(){return sn})),e.d(n,\"mix\",(function(){return Ht})),e.d(n,\"assign\",(function(){return Ht})),e.d(n,\"get\",(function(){return cn})),e.d(n,\"set\",(function(){return ln})),e.d(n,\"pick\",(function(){return hn})),e.d(n,\"throttle\",(function(){return pn})),e.d(n,\"toArray\",(function(){return dn})),e.d(n,\"toString\",(function(){return _t})),e.d(n,\"uniqueId\",(function(){return gn})),e.d(n,\"noop\",(function(){return yn})),e.d(n,\"identity\",(function(){return mn})),e.d(n,\"size\",(function(){return Mn})),e.d(n,\"Cache\",(function(){return xn}))},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(20);n.default=function(t){return r.default(t,\"Function\")}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r={}.toString;n.default=function(t,n){return r.call(t)===\"[object \"+n+\"]\"}},function(t,n,e){\"use strict\";function r(t,n){for(var e in n)n.hasOwnProperty(e)&&\"constructor\"!==e&&void 0!==n[e]&&(t[e]=n[e])}Object.defineProperty(n,\"__esModule\",{value:!0}),n.default=function(t,n,e,a){return n&&r(t,n),e&&r(t,e),a&&r(t,a),t}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(49);n.default=function(t){var n=r.default(t);return n.charAt(0).toUpperCase()+n.substring(1)}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.setMatrixArrayType=function(t){n.ARRAY_TYPE=t},n.toRadian=function(t){return t*a},n.equals=function(t,n){return Math.abs(t-n)<=r*Math.max(1,Math.abs(t),Math.abs(n))};var r=n.EPSILON=1e-6;n.ARRAY_TYPE=\"undefined\"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random;var a=Math.PI/180},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r={}.toString;n.default=function(t,n){return r.call(t)===\"[object \"+n+\"]\"}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(5),a=e(6),i=e(35);function o(t,n,e,r,a){var i=1-a;return i*i*i*t+3*n*a*i*i+3*e*a*a*i+r*a*a*a}function u(t,n,e,r,a){var i=1-a;return 3*(i*i*(n-t)+2*i*a*(e-n)+a*a*(r-e))}function s(t,n,e,a){var i,o,u,s=-3*t+9*n-9*e+3*a,c=6*t-12*n+6*e,l=3*n-3*t,f=[];if(r.isNumberEqual(s,0))r.isNumberEqual(c,0)||(i=-l/c)>=0&&i<=1&&f.push(i);else{var h=c*c-4*s*l;r.isNumberEqual(h,0)?f.push(-c/(2*s)):h>0&&(o=(-c-(u=Math.sqrt(h)))/(2*s),(i=(-c+u)/(2*s))>=0&&i<=1&&f.push(i),o>=0&&o<=1&&f.push(o))}return f}function c(t,n,e,r,i,u,s,c,l){var f=o(t,e,i,s,l),h=o(n,r,u,c,l),p=a.default.pointAt(t,n,e,r,l),d=a.default.pointAt(e,r,i,u,l),v=a.default.pointAt(i,u,s,c,l),g=a.default.pointAt(p.x,p.y,d.x,d.y,l),y=a.default.pointAt(d.x,d.y,v.x,v.y,l);return[[t,n,p.x,p.y,g.x,g.y,f,h],[f,h,y.x,y.y,v.x,v.y,s,c]]}n.default={extrema:s,box:function(t,n,e,a,i,u,c,l){for(var f=[t,c],h=[n,l],p=s(t,e,i,c),d=s(n,a,u,l),v=0;v<p.length;v++)f.push(o(t,e,i,c,p[v]));for(v=0;v<d.length;v++)h.push(o(n,a,u,l,d[v]));return r.getBBoxByArray(f,h)},length:function(t,n,e,r,a,o,u,s){return function t(n,e,r,a,o,u,s,l,f){if(0===f)return i.snapLength([n,r,o,s],[e,a,u,l]);var h=c(n,e,r,a,o,u,s,l,.5),p=h[0],d=h[1];return p.push(f-1),d.push(f-1),t.apply(null,p)+t.apply(null,d)}(t,n,e,r,a,o,u,s,3)},nearestPoint:function(t,n,e,r,a,u,s,c,l,f){return i.nearestPoint([t,e,a,s],[n,r,u,c],l,f,o)},pointDistance:function(t,n,e,a,i,o,u,s,c,l){var f=this.nearestPoint(t,n,e,a,i,o,u,s,c,l);return r.distance(f.x,f.y,c,l)},interpolationAt:o,pointAt:function(t,n,e,r,a,i,u,s,c){return{x:o(t,e,a,u,c),y:o(n,r,i,s,c)}},divide:function(t,n,e,r,a,i,o,u,s){return c(t,n,e,r,a,i,o,u,s)},tangentAngle:function(t,n,e,a,i,o,s,c,l){var f=u(t,e,i,s,l),h=u(n,a,o,c,l);return r.piMod(Math.atan2(h,f))}}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(0),a=e(10),i=e(7),o=e(9),u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.onCanvasChange=function(t){o.refreshElement(this,t)},n.prototype.getShapeBase=function(){return i},n.prototype.getGroupBase=function(){return n},n.prototype._applyClip=function(t,n){n&&(t.save(),o.applyAttrsToContext(t,n),n.createPath(t),t.restore(),t.clip(),n._afterDraw())},n.prototype.draw=function(t,n){var e=this.getChildren();e.length&&(t.save(),o.applyAttrsToContext(t,this),this._applyClip(t,this.getClip()),o.drawChildren(t,e,n),t.restore()),this.set(\"cacheCanvasBBox\",this.getCanvasBBox()),this.set(\"hasChanged\",!1)},n.prototype.skipDraw=function(){this.set(\"cacheCanvasBBox\",null),this.set(\"hasChanged\",!1)},n}(a.AbstractGroup);n.default=u},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(24);n.default=function(t){return r.default(t,\"String\")}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(15),a=e(52);n.default=function(t,n){if(t)if(r.default(t))for(var e=0,i=t.length;e<i&&!1!==n(t[e],e);e++);else if(a.default(t))for(var o in t)if(t.hasOwnProperty(o)&&!1===n(t[o],o))break}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=Math.PI/180;n.default=function(t){return r*t}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.default=function(t,n){return(t%n+n)%n}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(2),a=/^l\\s*\\(\\s*([\\d.]+)\\s*\\)\\s*(.*)/i,i=/^r\\s*\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*\\)\\s*(.*)/i,o=/^p\\s*\\(\\s*([axyn])\\s*\\)\\s*(.*)/i,u=/[\\d.]+:(#[^\\s]+|[^\\)]+\\))/gi;function s(t,n){var e=t.match(u);r.each(e,(function(t){var e=t.split(\":\");n.addColorStop(e[0],e[1])}))}function c(t,n,e){var r,i,o=a.exec(e),u=parseFloat(o[1])%360*(Math.PI/180),c=o[2],l=n.getBBox();u>=0&&u<.5*Math.PI?(r={x:l.minX,y:l.minY},i={x:l.maxX,y:l.maxY}):.5*Math.PI<=u&&u<Math.PI?(r={x:l.maxX,y:l.minY},i={x:l.minX,y:l.maxY}):Math.PI<=u&&u<1.5*Math.PI?(r={x:l.maxX,y:l.maxY},i={x:l.minX,y:l.minY}):(r={x:l.minX,y:l.maxY},i={x:l.maxX,y:l.minY});var f=Math.tan(u),h=f*f,p=(i.x-r.x+f*(i.y-r.y))/(h+1)+r.x,d=f*(i.x-r.x+f*(i.y-r.y))/(h+1)+r.y,v=t.createLinearGradient(r.x,r.y,p,d);return s(c,v),v}function l(t,n,e){var r=i.exec(e),a=parseFloat(r[1]),o=parseFloat(r[2]),c=parseFloat(r[3]),l=r[4];if(0===c){var f=l.match(u);return f[f.length-1].split(\":\")[1]}var h=n.getBBox(),p=h.maxX-h.minX,d=h.maxY-h.minY,v=Math.sqrt(p*p+d*d)/2,g=t.createRadialGradient(h.minX+p*a,h.minY+d*o,0,h.minX+p/2,h.minY+d/2,c*v);return s(l,g),g}function f(t,n,e){if(n.get(\"patternSource\")&&n.get(\"patternSource\")===e)return n.get(\"pattern\");var r,a,i=o.exec(e),u=i[1],s=i[2];function c(){r=t.createPattern(a,u),n.set(\"pattern\",r),n.set(\"patternSource\",e)}switch(u){case\"a\":u=\"repeat\";break;case\"x\":u=\"repeat-x\";break;case\"y\":u=\"repeat-y\";break;case\"n\":u=\"no-repeat\";break;default:u=\"no-repeat\"}return a=new Image,s.match(/^data:/i)||(a.crossOrigin=\"Anonymous\"),a.src=s,a.complete?c():(a.onload=c,a.src=a.src),r}n.parseLineGradient=c,n.parseRadialGradient=l,n.parsePattern=f,n.parseStyle=function(t,n,e){if(r.isString(e)){if(\"(\"===e[1]||\"(\"===e[2]){if(\"l\"===e[0])return c(t,n,e);if(\"r\"===e[0])return l(t,n,e);if(\"p\"===e[0])return f(t,n,e)}return e}},n.parseRadius=function(t){var n=0,e=0,a=0,i=0;return r.isArray(t)?1===t.length?n=e=a=i=t[0]:2===t.length?(n=a=t[0],e=i=t[1]):3===t.length?(n=t[0],e=i=t[1],a=t[2]):(n=t[0],e=t[1],a=t[2],i=t[3]):n=e=a=i=t,[n,e,a,i]}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(33),a=e(63);function i(t,n){return n?n-t:.14*t}n.getTextHeight=function(t,n,e){var a=1;return r.isString(t)&&(a=t.split(\"\\n\").length),a>1?n*a+i(n,e)*(a-1):n},n.getLineSpaceing=i,n.getTextWidth=function(t,n){var e=a.getOffScreenContext(),i=0;if(r.isNil(t)||\"\"===t)return i;if(e.save(),e.font=n,r.isString(t)&&t.includes(\"\\n\")){var o=t.split(\"\\n\");r.each(o,(function(t){var n=e.measureText(t).width;i<n&&(i=n)}))}else i=e.measureText(t).width;return e.restore(),i},n.assembleFont=function(t){var n=t.fontSize,e=t.fontFamily,r=t.fontWeight;return[t.fontStyle,t.fontVariant,r,n+\"px\",e].join(\" \").trim()}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.removeFromArray=function(t,n){var e=t.indexOf(n);-1!==e&&t.splice(e,1)},n.isBrowser=\"undefined\"!=typeof window&&void 0!==window.document;var r=e(11);n.isNil=r.default;var a=e(19);n.isFunction=a.default;var i=e(12);n.isString=i.default;var o=e(13);n.isObject=o.default;var u=e(8);n.isArray=u.default;var s=e(21);n.mix=s.default;var c=e(14);n.each=c.default;var l=e(22);n.upperFirst=l.default},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(6),a=e(5),i=e(35);function o(t,n,e,r){var a=1-r;return a*a*t+2*r*a*n+r*r*e}function u(t,n,e){var r=t+e-2*n;if(a.isNumberEqual(r,0))return[.5];var i=(t-n)/r;return i<=1&&i>=0?[i]:[]}function s(t,n,e,r){return 2*(1-r)*(n-t)+2*r*(e-n)}function c(t,n,e,a,i,u,s){var c=o(t,e,i,s),l=o(n,a,u,s),f=r.default.pointAt(t,n,e,a,s),h=r.default.pointAt(e,a,i,u,s);return[[t,n,f.x,f.y,c,l],[c,l,h.x,h.y,i,u]]}n.default={box:function(t,n,e,r,i,s){var c=u(t,e,i)[0],l=u(n,r,s)[0],f=[t,i],h=[n,s];return void 0!==c&&f.push(o(t,e,i,c)),void 0!==l&&h.push(o(n,r,s,l)),a.getBBoxByArray(f,h)},length:function(t,n,e,r,i,o){return function t(n,e,r,i,o,u,s){if(0===s)return(a.distance(n,e,r,i)+a.distance(r,i,o,u)+a.distance(n,e,o,u))/2;var l=c(n,e,r,i,o,u,.5),f=l[0],h=l[1];return f.push(s-1),h.push(s-1),t.apply(null,f)+t.apply(null,h)}(t,n,e,r,i,o,3)},nearestPoint:function(t,n,e,r,a,u,s,c){return i.nearestPoint([t,e,a],[n,r,u],s,c,o)},pointDistance:function(t,n,e,r,i,o,u,s){var c=this.nearestPoint(t,n,e,r,i,o,u,s);return a.distance(c.x,c.y,u,s)},interpolationAt:o,pointAt:function(t,n,e,r,a,i,u){return{x:o(t,e,a,u),y:o(n,r,i,u)}},divide:function(t,n,e,r,a,i,o){return c(t,n,e,r,a,i,o)},tangentAngle:function(t,n,e,r,i,o,u){var c=s(t,e,i,u),l=s(n,r,o,u),f=Math.atan2(l,c);return a.piMod(f)}}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(5);n.nearestPoint=function(t,n,e,a,i){for(var o,u=.005,s=1/0,c=[e,a],l=0;l<=20;l++){var f=.05*l,h=[i.apply(null,t.concat([f])),i.apply(null,n.concat([f]))];(g=r.distance(c[0],c[1],h[0],h[1]))<s&&(o=f,s=g)}if(0===o)return{x:t[0],y:n[0]};if(1===o){var p=t.length;return{x:t[p-1],y:n[p-1]}}for(s=1/0,l=0;l<32&&!(u<1e-4);l++){var d=o-u,v=o+u,g=(h=[i.apply(null,t.concat([d])),i.apply(null,n.concat([d]))],r.distance(c[0],c[1],h[0],h[1]));if(d>=0&&g<s)o=d,s=g;else{var y=[i.apply(null,t.concat([v])),i.apply(null,n.concat([v]))],m=r.distance(c[0],c[1],y[0],y[1]);v<=1&&m<s?(o=v,s=m):u*=.5}}return{x:i.apply(null,t.concat([o])),y:i.apply(null,n.concat([o]))}},n.snapLength=function(t,n){for(var e=0,a=t.length,i=0;i<a;i++){var o=t[i],u=n[i],s=t[(i+1)%a],c=n[(i+1)%a];e+=r.distance(o,u,s,c)}return e/2}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(70),a=e(71);function i(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function o(t,n){return i(t)*i(n)?(t[0]*n[0]+t[1]*n[1])/(i(t)*i(n)):1}function u(t,n){return(t[0]*n[1]<t[1]*n[0]?-1:1)*Math.acos(o(t,n))}function s(t,n){return t[0]===n[0]&&t[1]===n[1]}n.isSamePoint=s,n.default=function(t,n){var e=n[1],i=n[2],c=r.default(a.default(n[3]),2*Math.PI),l=n[4],f=n[5],h=t[0],p=t[1],d=n[6],v=n[7],g=Math.cos(c)*(h-d)/2+Math.sin(c)*(p-v)/2,y=-1*Math.sin(c)*(h-d)/2+Math.cos(c)*(p-v)/2,m=g*g/(e*e)+y*y/(i*i);m>1&&(e*=Math.sqrt(m),i*=Math.sqrt(m));var M=e*e*(y*y)+i*i*(g*g),x=M?Math.sqrt((e*e*(i*i)-M)/M):1;l===f&&(x*=-1),isNaN(x)&&(x=0);var b=i?x*e*y/i:0,_=e?x*-i*g/e:0,w=(h+d)/2+Math.cos(c)*b-Math.sin(c)*_,P=(p+v)/2+Math.sin(c)*b+Math.cos(c)*_,A=[(g-b)/e,(y-_)/i],O=[(-1*g-b)/e,(-1*y-_)/i],C=u([1,0],A),S=u(A,O);return o(A,O)<=-1&&(S=Math.PI),o(A,O)>=1&&(S=0),0===f&&S>0&&(S-=2*Math.PI),1===f&&S<0&&(S+=2*Math.PI),{cx:w,cy:P,rx:s(t,[d,v])?0:e,ry:s(t,[d,v])?0:i,startAngle:C,endAngle:C+S,xRotation:c,arcFlag:l,sweepFlag:f}}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(81),a=/[a-z]/;function i(t,n){return[n[0]+(n[0]-t[0]),n[1]+(n[1]-t[1])]}n.default=function(t){var n=r.default(t);if(!n||!n.length)return[[\"M\",0,0]];for(var e=!1,o=0;o<n.length;o++){var u=n[o][0];if(a.test(u)||[\"V\",\"H\",\"T\",\"S\"].indexOf(u)>=0){e=!0;break}}if(!e)return n;var s=[],c=0,l=0,f=0,h=0,p=0,d=n[0];\"M\"!==d[0]&&\"m\"!==d[0]||(f=c=+d[1],h=l=+d[2],p++,s[0]=[\"M\",c,l]),o=p;for(var v=n.length;o<v;o++){var g=n[o],y=s[o-1],m=[],M=(u=g[0]).toUpperCase();if(u!==M)switch(m[0]=M,M){case\"A\":m[1]=g[1],m[2]=g[2],m[3]=g[3],m[4]=g[4],m[5]=g[5],m[6]=+g[6]+c,m[7]=+g[7]+l;break;case\"V\":m[1]=+g[1]+l;break;case\"H\":m[1]=+g[1]+c;break;case\"M\":f=+g[1]+c,h=+g[2]+l;break;default:for(var x=1,b=g.length;x<b;x++)m[x]=+g[x]+(x%2?c:l)}else m=n[o];switch(M){case\"Z\":c=+f,l=+h;break;case\"H\":m=[\"L\",c=m[1],l];break;case\"V\":m=[\"L\",c,l=m[1]];break;case\"T\":c=m[1],l=m[2];var _=i([y[1],y[2]],[y[3],y[4]]);m=[\"Q\",_[0],_[1],c,l];break;case\"S\":c=m[m.length-2],l=m[m.length-1];var w=y.length,P=i([y[w-4],y[w-3]],[y[w-2],y[w-1]]);m=[\"C\",P[0],P[1],m[1],m[2],c,l];break;case\"M\":f=m[m.length-2],h=m[m.length-1];break;default:c=m[m.length-2],l=m[m.length-1]}s.push(m)}return s}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(30),a=e(29);function i(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function o(t,n){return i(t)*i(n)?(t[0]*n[0]+t[1]*n[1])/(i(t)*i(n)):1}function u(t,n){return(t[0]*n[1]<t[1]*n[0]?-1:1)*Math.acos(o(t,n))}function s(t,n){return t[0]===n[0]&&t[1]===n[1]}n.isSamePoint=s,n.default=function(t,n){var e=n[1],i=n[2],c=r.default(a.default(n[3]),2*Math.PI),l=n[4],f=n[5],h=t[0],p=t[1],d=n[6],v=n[7],g=Math.cos(c)*(h-d)/2+Math.sin(c)*(p-v)/2,y=-1*Math.sin(c)*(h-d)/2+Math.cos(c)*(p-v)/2,m=g*g/(e*e)+y*y/(i*i);m>1&&(e*=Math.sqrt(m),i*=Math.sqrt(m));var M=e*e*(y*y)+i*i*(g*g),x=M?Math.sqrt((e*e*(i*i)-M)/M):1;l===f&&(x*=-1),isNaN(x)&&(x=0);var b=i?x*e*y/i:0,_=e?x*-i*g/e:0,w=(h+d)/2+Math.cos(c)*b-Math.sin(c)*_,P=(p+v)/2+Math.sin(c)*b+Math.cos(c)*_,A=[(g-b)/e,(y-_)/i],O=[(-1*g-b)/e,(-1*y-_)/i],C=u([1,0],A),S=u(A,O);return o(A,O)<=-1&&(S=Math.PI),o(A,O)>=1&&(S=0),0===f&&S>0&&(S-=2*Math.PI),1===f&&S<0&&(S+=2*Math.PI),{cx:w,cy:P,rx:s(t,[d,v])?0:e,ry:s(t,[d,v])?0:i,startAngle:C,endAngle:C+S,xRotation:c,arcFlag:l,sweepFlag:f}}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(2);n.default=function(t,n,e){var a=r.getOffScreenContext();return t.createPath(a),a.isPointInPath(n,e)}},function(t,n,e){\"use strict\";function r(t){return Math.abs(t)<1e-6?0:t<0?-1:1}function a(t,n,e){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])&&Math.min(t[0],n[0])<=e[0]&&e[0]<=Math.max(t[0],n[0])&&Math.min(t[1],n[1])<=e[1]&&e[1]<=Math.max(t[1],n[1])}Object.defineProperty(n,\"__esModule\",{value:!0}),n.default=function(t,n,e){var i=!1,o=t.length;if(o<=2)return!1;for(var u=0;u<o;u++){var s=t[u],c=t[(u+1)%o];if(a(s,c,[n,e]))return!0;r(s[1]-e)>0!=r(c[1]-e)>0&&r(n-(e-s[1])*(s[0]-c[0])/(s[1]-c[1])-s[0])<0&&(i=!i)}return i}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(2);n.default=function(t,n,e,a,i,o,u,s){var c=(Math.atan2(s-n,u-t)+2*Math.PI)%(2*Math.PI);if(c<a||c>i)return!1;var l={x:t+e*Math.cos(c),y:n+e*Math.sin(c)};return r.distance(l.x,l.y,u,s)<=o/2}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.setMatrixArrayType=function(t){n.ARRAY_TYPE=t},n.toRadian=function(t){return t*a},n.equals=function(t,n){return Math.abs(t-n)<=r*Math.max(1,Math.abs(t),Math.abs(n))};var r=n.EPSILON=1e-6;n.ARRAY_TYPE=\"undefined\"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random;var a=Math.PI/180},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(17);n.default=function(t,n,e,a,i){var o=t.length;if(o<2)return!1;for(var u=0;u<o-1;u++){var s=t[u][0],c=t[u][1],l=t[u+1][0],f=t[u+1][1];if(r.default(s,c,l,f,n,e,a))return!0}if(i){var h=t[0],p=t[o-1];if(r.default(h[0],h[1],p[0],p[1],n,e,a))return!0}return!1}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=function(){function t(){this._events={}}return t.prototype.on=function(t,n,e){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:n,once:!!e}),this},t.prototype.once=function(t,n){return this.on(t,n,!0),this},t.prototype.emit=function(t){for(var n=this,e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var a=this._events[t]||[],i=this._events[\"*\"]||[],o=function(r){for(var a=r.length,i=0;i<a;i++){var o=r[i],u=o.callback;o.once&&(r.splice(i,1),0===r.length&&delete n._events[t],a--,i--),u.apply(n,e)}};o(a),o(i)},t.prototype.off=function(t,n){if(t)if(n){for(var e=this._events[t]||[],r=e.length,a=0;a<r;a++)e[a].callback===n&&(e.splice(a,1),r--,a--);0===e.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}();n.default=r},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.forEach=n.sqrLen=n.len=n.sqrDist=n.dist=n.div=n.mul=n.sub=void 0,n.create=i,n.clone=function(t){var n=new a.ARRAY_TYPE(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n},n.length=o,n.fromValues=u,n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t},n.set=function(t,n,e,r){return t[0]=n,t[1]=e,t[2]=r,t},n.add=function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t},n.subtract=s,n.multiply=c,n.divide=l,n.ceil=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t},n.floor=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t},n.min=function(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t},n.max=function(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t},n.round=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t},n.scale=function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t},n.scaleAndAdd=function(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t},n.distance=f,n.squaredDistance=h,n.squaredLength=p,n.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t},n.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t},n.normalize=d,n.dot=v,n.cross=function(t,n,e){var r=n[0],a=n[1],i=n[2],o=e[0],u=e[1],s=e[2];return t[0]=a*s-i*u,t[1]=i*o-r*s,t[2]=r*u-a*o,t},n.lerp=function(t,n,e,r){var a=n[0],i=n[1],o=n[2];return t[0]=a+r*(e[0]-a),t[1]=i+r*(e[1]-i),t[2]=o+r*(e[2]-o),t},n.hermite=function(t,n,e,r,a,i){var o=i*i,u=o*(2*i-3)+1,s=o*(i-2)+i,c=o*(i-1),l=o*(3-2*i);return t[0]=n[0]*u+e[0]*s+r[0]*c+a[0]*l,t[1]=n[1]*u+e[1]*s+r[1]*c+a[1]*l,t[2]=n[2]*u+e[2]*s+r[2]*c+a[2]*l,t},n.bezier=function(t,n,e,r,a,i){var o=1-i,u=o*o,s=i*i,c=u*o,l=3*i*u,f=3*s*o,h=s*i;return t[0]=n[0]*c+e[0]*l+r[0]*f+a[0]*h,t[1]=n[1]*c+e[1]*l+r[1]*f+a[1]*h,t[2]=n[2]*c+e[2]*l+r[2]*f+a[2]*h,t},n.random=function(t,n){n=n||1;var e=2*a.RANDOM()*Math.PI,r=2*a.RANDOM()-1,i=Math.sqrt(1-r*r)*n;return t[0]=Math.cos(e)*i,t[1]=Math.sin(e)*i,t[2]=r*n,t},n.transformMat4=function(t,n,e){var r=n[0],a=n[1],i=n[2],o=e[3]*r+e[7]*a+e[11]*i+e[15];return o=o||1,t[0]=(e[0]*r+e[4]*a+e[8]*i+e[12])/o,t[1]=(e[1]*r+e[5]*a+e[9]*i+e[13])/o,t[2]=(e[2]*r+e[6]*a+e[10]*i+e[14])/o,t},n.transformMat3=function(t,n,e){var r=n[0],a=n[1],i=n[2];return t[0]=r*e[0]+a*e[3]+i*e[6],t[1]=r*e[1]+a*e[4]+i*e[7],t[2]=r*e[2]+a*e[5]+i*e[8],t},n.transformQuat=function(t,n,e){var r=e[0],a=e[1],i=e[2],o=e[3],u=n[0],s=n[1],c=n[2],l=a*c-i*s,f=i*u-r*c,h=r*s-a*u,p=a*h-i*f,d=i*l-r*h,v=r*f-a*l,g=2*o;return l*=g,f*=g,h*=g,p*=2,d*=2,v*=2,t[0]=u+l+p,t[1]=s+f+d,t[2]=c+h+v,t},n.rotateX=function(t,n,e,r){var a=[],i=[];return a[0]=n[0]-e[0],a[1]=n[1]-e[1],a[2]=n[2]-e[2],i[0]=a[0],i[1]=a[1]*Math.cos(r)-a[2]*Math.sin(r),i[2]=a[1]*Math.sin(r)+a[2]*Math.cos(r),t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t},n.rotateY=function(t,n,e,r){var a=[],i=[];return a[0]=n[0]-e[0],a[1]=n[1]-e[1],a[2]=n[2]-e[2],i[0]=a[2]*Math.sin(r)+a[0]*Math.cos(r),i[1]=a[1],i[2]=a[2]*Math.cos(r)-a[0]*Math.sin(r),t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t},n.rotateZ=function(t,n,e,r){var a=[],i=[];return a[0]=n[0]-e[0],a[1]=n[1]-e[1],a[2]=n[2]-e[2],i[0]=a[0]*Math.cos(r)-a[1]*Math.sin(r),i[1]=a[0]*Math.sin(r)+a[1]*Math.cos(r),i[2]=a[2],t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t},n.angle=function(t,n){var e=u(t[0],t[1],t[2]),r=u(n[0],n[1],n[2]);d(e,e),d(r,r);var a=v(e,r);return a>1?0:a<-1?Math.PI:Math.acos(a)},n.str=function(t){return\"vec3(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\")\"},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]},n.equals=function(t,n){var e=t[0],r=t[1],i=t[2],o=n[0],u=n[1],s=n[2];return Math.abs(e-o)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(r-u)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-s)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))};var r,a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}(e(23));function i(){var t=new a.ARRAY_TYPE(3);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function o(t){var n=t[0],e=t[1],r=t[2];return Math.sqrt(n*n+e*e+r*r)}function u(t,n,e){var r=new a.ARRAY_TYPE(3);return r[0]=t,r[1]=n,r[2]=e,r}function s(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t}function c(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t}function l(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t}function f(t,n){var e=n[0]-t[0],r=n[1]-t[1],a=n[2]-t[2];return Math.sqrt(e*e+r*r+a*a)}function h(t,n){var e=n[0]-t[0],r=n[1]-t[1],a=n[2]-t[2];return e*e+r*r+a*a}function p(t){var n=t[0],e=t[1],r=t[2];return n*n+e*e+r*r}function d(t,n){var e=n[0],r=n[1],a=n[2],i=e*e+r*r+a*a;return i>0&&(i=1/Math.sqrt(i),t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i),t}function v(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}n.sub=s,n.mul=c,n.div=l,n.dist=f,n.sqrDist=h,n.len=o,n.sqrLen=p,n.forEach=(r=i(),function(t,n,e,a,i,o){var u,s=void 0;for(n||(n=3),e||(e=0),u=a?Math.min(a*n+e,t.length):t.length,s=e;s<u;s+=n)r[0]=t[s],r[1]=t[s+1],r[2]=t[s+2],i(r,r,o),t[s]=r[0],t[s+1]=r[1],t[s+2]=r[2];return t})},,function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(0),a=e(7);n.Shape=a;var i=e(96);n.version=i.version,r.__exportStar(e(97),n),r.__exportStar(e(99),n);var o=e(10);n.Event=o.Event;var u=e(101);n.Canvas=u.default;var s=e(26);n.Group=s.default},function(t){t.exports=JSON.parse('{\"name\":\"@antv/g-base\",\"version\":\"0.3.29\",\"description\":\"A common util collection for antv projects\",\"main\":\"lib/index.js\",\"module\":\"esm/index.js\",\"types\":\"lib/index.d.ts\",\"files\":[\"package.json\",\"esm\",\"lib\",\"LICENSE\",\"README.md\"],\"scripts\":{\"build\":\"npm run clean && run-p build:*\",\"build:esm\":\"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm\",\"build:cjs\":\"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib\",\"clean\":\"rm -rf esm lib\",\"watch:cjs\":\"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc\",\"coverage\":\"npm run coverage-generator && npm run coverage-viewer\",\"coverage-generator\":\"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts\",\"coverage-viewer\":\"torch-coverage\",\"test\":\"torch --renderer --compile --opts tests/mocha.opts\",\"test-live\":\"torch --compile --interactive --opts tests/mocha.opts\",\"tsc\":\"tsc --noEmit\",\"typecheck\":\"tsc --noEmit\"},\"repository\":{\"type\":\"git\",\"url\":\"git+https://github.com/antvis/util.git\"},\"keywords\":[\"util\",\"antv\",\"g\"],\"publishConfig\":{\"access\":\"public\"},\"author\":\"https://github.com/orgs/antvis/people\",\"license\":\"ISC\",\"bugs\":{\"url\":\"https://github.com/antvis/util/issues\"},\"devDependencies\":{\"@antv/gl-matrix\":\"~2.7.1\",\"@antv/torch\":\"^1.0.0\",\"less\":\"^3.9.0\",\"npm-run-all\":\"^4.1.5\",\"tsc-watch\":\"^4.0.0\"},\"homepage\":\"https://github.com/antvis/util#readme\",\"dependencies\":{\"@antv/event-emitter\":\"^0.1.1\",\"@antv/g-math\":\"^0.1.1\",\"@antv/matrix-util\":\"^2.0.4\",\"@antv/path-util\":\"~2.0.5\",\"@antv/util\":\"~2.0.0\",\"@types/d3-timer\":\"^1.0.9\",\"d3-ease\":\"^1.0.5\",\"d3-interpolate\":\"^1.3.2\",\"d3-timer\":\"^1.0.9\"},\"__npminstall_done\":false}')},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(11);n.default=function(t){return r.default(t)?\"\":t.toString()}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.default=function(t){return null==t}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(24);n.default=function(t){return r.default(t,\"Function\")}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.default=function(t){var n=typeof t;return null!==t&&\"object\"===n||\"function\"===n}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.default=function(t,n,e){return void 0===e&&(e=1e-5),Math.abs(t-n)<e}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.default=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.default=function(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(2);function a(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function i(t,n){return a(t)*a(n)?(t[0]*n[0]+t[1]*n[1])/(a(t)*a(n)):1}function o(t,n){return(t[0]*n[1]<t[1]*n[0]?-1:1)*Math.acos(i(t,n))}n.default=function(t,n){var e=n[1],a=n[2],u=r.mod(r.toRadian(n[3]),2*Math.PI),s=n[4],c=n[5],l=t[0],f=t[1],h=n[6],p=n[7],d=Math.cos(u)*(l-h)/2+Math.sin(u)*(f-p)/2,v=-1*Math.sin(u)*(l-h)/2+Math.cos(u)*(f-p)/2,g=d*d/(e*e)+v*v/(a*a);g>1&&(e*=Math.sqrt(g),a*=Math.sqrt(g));var y=e*e*(v*v)+a*a*(d*d),m=y?Math.sqrt((e*e*(a*a)-y)/y):1;s===c&&(m*=-1),isNaN(m)&&(m=0);var M=a?m*e*v/a:0,x=e?m*-a*d/e:0,b=(l+h)/2+Math.cos(u)*M-Math.sin(u)*x,_=(f+p)/2+Math.sin(u)*M+Math.cos(u)*x,w=[(d-M)/e,(v-x)/a],P=[(-1*d-M)/e,(-1*v-x)/a],A=o([1,0],w),O=o(w,P);return i(w,P)<=-1&&(O=Math.PI),i(w,P)>=1&&(O=0),0===c&&O>0&&(O-=2*Math.PI),1===c&&O<0&&(O+=2*Math.PI),{cx:b,cy:_,rx:r.isSamePoint(t,[h,p])?0:e,ry:r.isSamePoint(t,[h,p])?0:a,startAngle:A,endAngle:A+O,xRotation:u,arcFlag:s,sweepFlag:c}}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(58);n.getBBoxMethod=r.getMethod;var a=e(59),i=e(60),o=e(61),u=e(62),s=e(64),c=e(74),l=e(75);r.register(\"rect\",a.default),r.register(\"image\",a.default),r.register(\"circle\",i.default),r.register(\"marker\",i.default),r.register(\"polygon\",o.default),r.register(\"polyline\",o.default),r.register(\"text\",u.default),r.register(\"path\",s.default),r.register(\"line\",c.default),r.register(\"ellipse\",l.default)},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=new Map;n.register=function(t,n){r.set(t,n)},n.getMethod=function(t){return r.get(t)}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.default=function(t){var n=t.attr();return{x:n.x,y:n.y,width:n.width,height:n.height}}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.default=function(t){var n=t.attr(),e=n.x,r=n.y,a=n.r;return{x:e-a,y:r-a,width:2*a,height:2*a}}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(5);n.default=function(t){for(var n=t.attr().points,e=[],a=[],i=0;i<n.length;i++){var o=n[i];e.push(o[0]),a.push(o[1])}return r.getBBoxByArray(e,a)}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(32);n.default=function(t){var n=t.attr(),e=n.x,a=n.y,i=n.text,o=n.fontSize,u=n.lineHeight,s=n.font;s||(s=r.assembleFont(n));var c,l=r.getTextWidth(i,s);if(l){var f=n.textAlign,h=n.textBaseline,p=r.getTextHeight(i,o,u),d={x:e,y:a-p};f&&(\"end\"===f||\"right\"===f?d.x-=l:\"center\"===f&&(d.x-=l/2)),h&&(\"top\"===h?d.y+=p:\"middle\"===h&&(d.y+=p/2)),c={x:d.x,y:d.y,width:l,height:p}}else c={x:e,y:a,width:0,height:0};return c}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=null;n.getOffScreenContext=function(){if(!r){var t=document.createElement(\"canvas\");t.width=1,t.height=1,r=t.getContext(\"2d\")}return r}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(34),a=e(25),i=e(67),o=e(69),u=e(73);function s(t,n){var e=t.prePoint,r=t.currentPoint,a=t.nextPoint,i=Math.pow(r[0]-e[0],2)+Math.pow(r[1]-e[1],2),o=Math.pow(r[0]-a[0],2)+Math.pow(r[1]-a[1],2),s=Math.pow(e[0]-a[0],2)+Math.pow(e[1]-a[1],2),c=Math.acos((i+o-s)/(2*Math.sqrt(i)*Math.sqrt(o)));if(!c||0===Math.sin(c)||u.default(c,0))return{xExtra:0,yExtra:0};var l=Math.abs(Math.atan2(a[1]-r[1],a[0]-r[0])),f=Math.abs(Math.atan2(a[0]-r[0],a[1]-r[1]));return l=l>Math.PI/2?Math.PI-l:l,f=f>Math.PI/2?Math.PI-f:f,{xExtra:Math.cos(c/2-l)*(n/2*(1/Math.sin(c/2)))-n/2||0,yExtra:Math.cos(f-c/2)*(n/2*(1/Math.sin(c/2)))-n/2||0}}n.default=function(t){var n=t.attr(),e=n.path,u=n.stroke?n.lineWidth:0;return function(t,n){for(var e=[],o=[],u=[],c=0;c<t.length;c++){var l=(M=t[c]).currentPoint,f=M.params,h=M.prePoint,p=void 0;switch(M.command){case\"Q\":p=r.default.box(h[0],h[1],f[1],f[2],f[3],f[4]);break;case\"C\":p=a.default.box(h[0],h[1],f[1],f[2],f[3],f[4],f[5],f[6]);break;case\"A\":var d=M.arcParams;p=i.default.box(d.cx,d.cy,d.rx,d.ry,d.xRotation,d.startAngle,d.endAngle);break;default:e.push(l[0]),o.push(l[1])}p&&(M.box=p,e.push(p.x,p.x+p.width),o.push(p.y,p.y+p.height)),n&&(\"L\"===M.command||\"M\"===M.command)&&M.prePoint&&M.nextPoint&&u.push(M)}e=e.filter((function(t){return!Number.isNaN(t)})),o=o.filter((function(t){return!Number.isNaN(t)}));var v=Math.min.apply(null,e),g=Math.min.apply(null,o),y=Math.max.apply(null,e),m=Math.max.apply(null,o);if(0===u.length)return{x:v,y:g,width:y-v,height:m-g};for(c=0;c<u.length;c++){var M;(l=(M=u[c]).currentPoint)[0]===v?v-=s(M,n).xExtra:l[0]===y&&(y+=s(M,n).xExtra),l[1]===g?g-=s(M,n).yExtra:l[1]===m&&(m+=s(M,n).yExtra)}return{x:v,y:g,width:y-v,height:m-g}}(t.get(\"segments\")||o.default(e),u)}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.forEach=n.sqrLen=n.sqrDist=n.dist=n.div=n.mul=n.sub=n.len=void 0,n.create=i,n.clone=function(t){var n=new a.ARRAY_TYPE(2);return n[0]=t[0],n[1]=t[1],n},n.fromValues=function(t,n){var e=new a.ARRAY_TYPE(2);return e[0]=t,e[1]=n,e},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t},n.set=function(t,n,e){return t[0]=n,t[1]=e,t},n.add=function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t},n.subtract=o,n.multiply=u,n.divide=s,n.ceil=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t},n.floor=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t},n.min=function(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t},n.max=function(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t},n.round=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t},n.scale=function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t},n.scaleAndAdd=function(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t},n.distance=c,n.squaredDistance=l,n.length=f,n.squaredLength=h,n.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t},n.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t},n.normalize=function(t,n){var e=n[0],r=n[1],a=e*e+r*r;return a>0&&(a=1/Math.sqrt(a),t[0]=n[0]*a,t[1]=n[1]*a),t},n.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]},n.cross=function(t,n,e){var r=n[0]*e[1]-n[1]*e[0];return t[0]=t[1]=0,t[2]=r,t},n.lerp=function(t,n,e,r){var a=n[0],i=n[1];return t[0]=a+r*(e[0]-a),t[1]=i+r*(e[1]-i),t},n.random=function(t,n){n=n||1;var e=2*a.RANDOM()*Math.PI;return t[0]=Math.cos(e)*n,t[1]=Math.sin(e)*n,t},n.transformMat2=function(t,n,e){var r=n[0],a=n[1];return t[0]=e[0]*r+e[2]*a,t[1]=e[1]*r+e[3]*a,t},n.transformMat2d=function(t,n,e){var r=n[0],a=n[1];return t[0]=e[0]*r+e[2]*a+e[4],t[1]=e[1]*r+e[3]*a+e[5],t},n.transformMat3=function(t,n,e){var r=n[0],a=n[1];return t[0]=e[0]*r+e[3]*a+e[6],t[1]=e[1]*r+e[4]*a+e[7],t},n.transformMat4=function(t,n,e){var r=n[0],a=n[1];return t[0]=e[0]*r+e[4]*a+e[12],t[1]=e[1]*r+e[5]*a+e[13],t},n.rotate=function(t,n,e,r){var a=n[0]-e[0],i=n[1]-e[1],o=Math.sin(r),u=Math.cos(r);return t[0]=a*u-i*o+e[0],t[1]=a*o+i*u+e[1],t},n.angle=function(t,n){var e=t[0],r=t[1],a=n[0],i=n[1],o=e*e+r*r;o>0&&(o=1/Math.sqrt(o));var u=a*a+i*i;u>0&&(u=1/Math.sqrt(u));var s=(e*a+r*i)*o*u;return s>1?0:s<-1?Math.PI:Math.acos(s)},n.str=function(t){return\"vec2(\"+t[0]+\", \"+t[1]+\")\"},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]},n.equals=function(t,n){var e=t[0],r=t[1],i=n[0],o=n[1];return Math.abs(e-i)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(r-o)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))};var r,a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}(e(66));function i(){var t=new a.ARRAY_TYPE(2);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t}function u(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t}function s(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t}function c(t,n){var e=n[0]-t[0],r=n[1]-t[1];return Math.sqrt(e*e+r*r)}function l(t,n){var e=n[0]-t[0],r=n[1]-t[1];return e*e+r*r}function f(t){var n=t[0],e=t[1];return Math.sqrt(n*n+e*e)}function h(t){var n=t[0],e=t[1];return n*n+e*e}n.len=f,n.sub=o,n.mul=u,n.div=s,n.dist=c,n.sqrDist=l,n.sqrLen=h,n.forEach=(r=i(),function(t,n,e,a,i,o){var u,s=void 0;for(n||(n=2),e||(e=0),u=a?Math.min(a*n+e,t.length):t.length,s=e;s<u;s+=n)r[0]=t[s],r[1]=t[s+1],i(r,r,o),t[s]=r[0],t[s+1]=r[1];return t})},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.setMatrixArrayType=function(t){n.ARRAY_TYPE=t},n.toRadian=function(t){return t*a},n.equals=function(t,n){return Math.abs(t-n)<=r*Math.max(1,Math.abs(t),Math.abs(n))};var r=n.EPSILON=1e-6;n.ARRAY_TYPE=\"undefined\"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random;var a=Math.PI/180},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(5),a=e(68);function i(t,n,e,r,a,i){return e*Math.cos(a)*Math.cos(i)-r*Math.sin(a)*Math.sin(i)+t}function o(t,n,e,r,a,i){return e*Math.sin(a)*Math.cos(i)+r*Math.cos(a)*Math.sin(i)+n}function u(t,n,e){return{x:t*Math.cos(e),y:n*Math.sin(e)}}function s(t,n,e){var r=Math.cos(e),a=Math.sin(e);return[t*r-n*a,t*a+n*r]}n.default={box:function(t,n,e,r,a,u,s){for(var c=function(t,n,e){return Math.atan(-n/t*Math.tan(e))}(e,r,a),l=1/0,f=-1/0,h=[u,s],p=2*-Math.PI;p<=2*Math.PI;p+=Math.PI){var d=c+p;u<s?u<d&&d<s&&h.push(d):s<d&&d<u&&h.push(d)}for(p=0;p<h.length;p++){var v=i(t,0,e,r,a,h[p]);v<l&&(l=v),v>f&&(f=v)}var g=function(t,n,e){return Math.atan(n/(t*Math.tan(e)))}(e,r,a),y=1/0,m=-1/0,M=[u,s];for(p=2*-Math.PI;p<=2*Math.PI;p+=Math.PI){var x=g+p;u<s?u<x&&x<s&&M.push(x):s<x&&x<u&&M.push(x)}for(p=0;p<M.length;p++){var b=o(0,n,e,r,a,M[p]);b<y&&(y=b),b>m&&(m=b)}return{x:l,y:y,width:f-l,height:m-y}},length:function(t,n,e,r,a,i,o){},nearestPoint:function(t,n,e,r,i,o,c,l,f){var h=s(l-t,f-n,-i),p=h[0],d=h[1],v=a.default.nearestPoint(0,0,e,r,p,d),g=function(t,n,e,r){return(Math.atan2(r*t,e*n)+2*Math.PI)%(2*Math.PI)}(e,r,v.x,v.y);g<o?v=u(e,r,o):g>c&&(v=u(e,r,c));var y=s(v.x,v.y,i);return{x:y[0]+t,y:y[1]+n}},pointDistance:function(t,n,e,a,i,o,u,s,c){var l=this.nearestPoint(t,n,e,a,s,c);return r.distance(l.x,l.y,s,c)},pointAt:function(t,n,e,r,a,u,s,c){var l=(s-u)*c+u;return{x:i(t,0,e,r,a,l),y:o(0,n,e,r,a,l)}},tangentAngle:function(t,n,e,a,i,o,u,s){var c=(u-o)*s+o,l=function(t,n,e,r,a,i,o,u){return-1*e*Math.cos(a)*Math.sin(u)-r*Math.sin(a)*Math.cos(u)}(0,0,e,a,i,0,0,c),f=function(t,n,e,r,a,i,o,u){return-1*e*Math.sin(a)*Math.sin(u)+r*Math.cos(a)*Math.cos(u)}(0,0,e,a,i,0,0,c);return r.piMod(Math.atan2(f,l))}}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(5);function a(t,n){var e=Math.abs(t);return n>0?e:-1*e}n.default={box:function(t,n,e,r){return{x:t-e,y:n-r,width:2*e,height:2*r}},length:function(t,n,e,r){return Math.PI*(3*(e+r)-Math.sqrt((3*e+r)*(e+3*r)))},nearestPoint:function(t,n,e,r,i,o){var u=e,s=r;if(0===u||0===s)return{x:t,y:n};for(var c,l,f=i-t,h=o-n,p=Math.abs(f),d=Math.abs(h),v=u*u,g=s*s,y=Math.PI/4,m=0;m<4;m++){c=u*Math.cos(y),l=s*Math.sin(y);var M=(v-g)*Math.pow(Math.cos(y),3)/u,x=(g-v)*Math.pow(Math.sin(y),3)/s,b=c-M,_=l-x,w=p-M,P=d-x,A=Math.hypot(_,b),O=Math.hypot(P,w);y+=A*Math.asin((b*P-_*w)/(A*O))/Math.sqrt(v+g-c*c-l*l),y=Math.min(Math.PI/2,Math.max(0,y))}return{x:t+a(c,f),y:n+a(l,h)}},pointDistance:function(t,n,e,a,i,o){var u=this.nearestPoint(t,n,e,a,i,o);return r.distance(u.x,u.y,i,o)},pointAt:function(t,n,e,r,a){var i=2*Math.PI*a;return{x:t+e*Math.cos(i),y:n+r*Math.sin(i)}},tangentAngle:function(t,n,e,a,i){var o=2*Math.PI*i,u=Math.atan2(a*Math.cos(o),-e*Math.sin(o));return r.piMod(u)}}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(36),a=e(36),i=e(72);function o(t,n){return{x:n.x+(n.x-t.x),y:n.y+(n.y-t.y)}}n.default=function(t){for(var n=[],e=null,u=null,s=null,c=0,l=(t=i.default(t)).length,f=0;f<l;f++){var h=t[f];u=t[f+1];var p=h[0],d={command:p,prePoint:e,params:h,startTangent:null,endTangent:null};switch(p){case\"M\":s=[h[1],h[2]],c=f;break;case\"A\":var v=r.default(e,h);d.arcParams=v}if(\"Z\"===p)e=s,u=t[c+1];else{var g=h.length;e=[h[g-2],h[g-1]]}u&&\"Z\"===u[0]&&(u=t[c],n[c]&&(n[c].prePoint=e)),d.currentPoint=e,n[c]&&a.isSamePoint(e,n[c].currentPoint)&&(n[c].prePoint=d.prePoint);var y=u?[u[u.length-2],u[u.length-1]]:null;d.nextPoint=y;var m=d.prePoint;if([\"L\",\"H\",\"V\"].includes(p))d.startTangent=[m[0]-e[0],m[1]-e[1]],d.endTangent=[e[0]-m[0],e[1]-m[1]];else if(\"Q\"===p){var M=[h[1],h[2]];d.startTangent=[m[0]-M[0],m[1]-M[1]],d.endTangent=[e[0]-M[0],e[1]-M[1]]}else if(\"T\"===p)M=o((_=n[f-1]).currentPoint,m),\"Q\"===_.command?(d.command=\"Q\",d.startTangent=[m[0]-M[0],m[1]-M[1]],d.endTangent=[e[0]-M[0],e[1]-M[1]]):(d.command=\"TL\",d.startTangent=[m[0]-e[0],m[1]-e[1]],d.endTangent=[e[0]-m[0],e[1]-m[1]]);else if(\"C\"===p){var x=[h[1],h[2]],b=[h[3],h[4]];d.startTangent=[m[0]-x[0],m[1]-x[1]],d.endTangent=[e[0]-b[0],e[1]-b[1]]}else if(\"S\"===p){var _;x=o((_=n[f-1]).currentPoint,m),b=[h[1],h[2]],\"C\"===_.command?(d.command=\"C\",d.startTangent=[m[0]-x[0],m[1]-x[1]],d.endTangent=[e[0]-b[0],e[1]-b[1]]):(d.command=\"SQ\",d.startTangent=[m[0]-b[0],m[1]-b[1]],d.endTangent=[e[0]-b[0],e[1]-b[1]])}else if(\"A\"===p){var w=.001,P=d.arcParams||{},A=P.rx,O=void 0===A?0:A,C=P.ry,S=void 0===C?0:C,E=P.xRotation,k=void 0===E?0:E,T=P.arcFlag,j=void 0===T?0:T,I=P.sweepFlag,R=void 0===I?0:I,D=P.startAngle,B=void 0===D?0:D,q=P.endAngle,N=void 0===q?0:q;0===R&&(w*=-1);var F=k*Math.cos(B-w)+O,Y=j*Math.sin(B-w)+S;d.startTangent=[F-s[0],Y-s[1]];var L=k*Math.cos(B+N+w)+O,X=j*Math.sin(B+N-w)+S;d.endTangent=[m.x-L,m.y-X]}n.push(d)}return n}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.default=function(t,n){return(t%n+n)%n}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=Math.PI/180;n.default=function(t){return r*t}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(14),a=e(8),i=e(12),o=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,u=/[^\\s\\,]+/gi;n.default=function(t){var n=t||[];return a.default(n)?n:i.default(n)?(n=n.match(o),r.default(n,(function(t,e){if((t=t.match(u))[0].length>1){var a=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=a}r.default(t,(function(n,e){isNaN(n)||(t[e]=+n)})),n[e]=t})),n):void 0}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.default=function(t,n,e){return void 0===e&&(e=1e-5),Math.abs(t-n)<e}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.default=function(t){var n=t.attr(),e=n.x1,r=n.y1,a=n.x2,i=n.y2;return{x:Math.min(e,a),y:Math.min(r,i),width:Math.abs(a-e),height:Math.abs(i-r)}}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.default=function(t){var n=t.attr(),e=n.x,r=n.y,a=n.rx,i=n.ry;return{x:e-a,y:r-i,width:2*a,height:2*i}}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(0),a=e(3),i=e(2),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.getDefaultAttrs=function(){var n=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},n),{x:0,y:0,r:0})},n.prototype.isInStrokeOrPath=function(t,n,e,r,a){var o=this.attr(),u=o.x,s=o.y,c=o.r,l=a/2,f=i.distance(u,s,t,n);return r&&e?f<=c+l:r?f<=c:!!e&&f>=c-l&&f<=c+l},n.prototype.createPath=function(t){var n=this.attr(),e=n.x,r=n.y,a=n.r;t.beginPath(),t.arc(e,r,a,0,2*Math.PI,!1),t.closePath()},n}(a.default);n.default=o},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(0);function a(t,n,e,r){return t/(e*e)+n/(r*r)}var i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.getDefaultAttrs=function(){var n=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},n),{x:0,y:0,rx:0,ry:0})},n.prototype.isInStrokeOrPath=function(t,n,e,r,i){var o=this.attr(),u=i/2,s=o.x,c=o.y,l=o.rx,f=o.ry,h=(t-s)*(t-s),p=(n-c)*(n-c);return r&&e?a(h,p,l+u,f+u)<=1:r?a(h,p,l,f)<=1:!!e&&a(h,p,l-u,f-u)>=1&&a(h,p,l+u,f+u)<=1},n.prototype.createPath=function(t){var n=this.attr(),e=n.x,r=n.y,a=n.rx,i=n.ry;if(t.beginPath(),t.ellipse)t.ellipse(e,r,a,i,0,0,2*Math.PI,!1);else{var o=a>i?a:i,u=a>i?1:a/i,s=a>i?i/a:1;t.save(),t.translate(e,r),t.scale(u,s),t.arc(0,0,o,0,2*Math.PI),t.restore(),t.closePath()}},n}(e(3).default);n.default=i},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(0),a=e(3),i=e(2);function o(t){return t instanceof HTMLElement&&i.isString(t.nodeName)&&\"CANVAS\"===t.nodeName.toUpperCase()}var u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.getDefaultAttrs=function(){var n=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},n),{x:0,y:0,width:0,height:0})},n.prototype.initAttrs=function(t){this._setImage(t.img)},n.prototype.isStroke=function(){return!1},n.prototype.isOnlyHitBox=function(){return!0},n.prototype._afterLoading=function(){if(!0===this.get(\"toDraw\")){var t=this.get(\"canvas\");t?t.draw():this.createPath(this.get(\"context\"))}},n.prototype._setImage=function(t){var n=this,e=this.attrs;if(i.isString(t)){var r=new Image;r.onload=function(){if(n.destroyed)return!1;n.attr(\"img\",r),n.set(\"loading\",!1),n._afterLoading();var t=n.get(\"callback\");t&&t.call(n)},r.src=t,r.crossOrigin=\"Anonymous\",this.set(\"loading\",!0)}else t instanceof Image?(e.width||(e.width=t.width),e.height||(e.height=t.height)):o(t)&&(e.width||(e.width=Number(t.getAttribute(\"width\"))),e.height||(e.height,Number(t.getAttribute(\"height\"))))},n.prototype.onAttrChange=function(n,e,r){t.prototype.onAttrChange.call(this,n,e,r),\"img\"===n&&this._setImage(e)},n.prototype.createPath=function(t){if(this.get(\"loading\"))return this.set(\"toDraw\",!0),void this.set(\"context\",t);var n=this.attr(),e=n.x,r=n.y,a=n.width,u=n.height,s=n.sx,c=n.sy,l=n.swidth,f=n.sheight,h=n.img;(h instanceof Image||o(h))&&(i.isNil(s)||i.isNil(c)||i.isNil(l)||i.isNil(f)?t.drawImage(h,e,r,a,u):t.drawImage(h,s,c,l,f,e,r,a,u))},n}(a.default);n.default=u},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(0),a=e(6),i=e(3),o=e(17),u=e(16),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.getDefaultAttrs=function(){var n=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},n),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},n.prototype.isInStrokeOrPath=function(t,n,e,r,a){if(!e||!a)return!1;var i=this.attr(),u=i.x1,s=i.y1,c=i.x2,l=i.y2;return o.default(u,s,c,l,a,t,n)},n.prototype.createPath=function(t){var n=this.attr(),e=n.x1,r=n.y1,a=n.x2,i=n.y2,o=n.startArrow,s=n.endArrow,c={dx:0,dy:0},l={dx:0,dy:0};o&&o.d&&(c=u.getShortenOffset(e,r,a,i,n.startArrow.d)),s&&s.d&&(l=u.getShortenOffset(e,r,a,i,n.endArrow.d)),t.beginPath(),t.moveTo(e+c.dx,r+c.dy),t.lineTo(a-l.dx,i-l.dy)},n.prototype.afterDrawPath=function(t){var n=this.attr(),e=n.x1,r=n.y1,a=n.x2,i=n.y2;n.startArrow&&u.addStartArrow(t,n,a,i,e,r),n.endArrow&&u.addEndArrow(t,n,e,r,a,i)},n.prototype.getTotalLength=function(){var t=this.attr(),n=t.x1,e=t.y1,r=t.x2,i=t.y2;return a.default.length(n,e,r,i)},n.prototype.getPoint=function(t){var n=this.attr(),e=n.x1,r=n.y1,i=n.x2,o=n.y2;return a.default.pointAt(e,r,i,o,t)},n}(i.default);n.default=s},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(0),a=e(18),i=e(37),o=e(3),u=e(2),s=e(9),c={circle:function(t,n,e){return[[\"M\",t-e,n],[\"A\",e,e,0,1,0,t+e,n],[\"A\",e,e,0,1,0,t-e,n]]},square:function(t,n,e){return[[\"M\",t-e,n-e],[\"L\",t+e,n-e],[\"L\",t+e,n+e],[\"L\",t-e,n+e],[\"Z\"]]},diamond:function(t,n,e){return[[\"M\",t-e,n],[\"L\",t,n-e],[\"L\",t+e,n],[\"L\",t,n+e],[\"Z\"]]},triangle:function(t,n,e){var r=e*Math.sin(1/3*Math.PI);return[[\"M\",t-e,n+r],[\"L\",t,n-r],[\"L\",t+e,n+r],[\"Z\"]]},\"triangle-down\":function(t,n,e){var r=e*Math.sin(1/3*Math.PI);return[[\"M\",t-e,n-r],[\"L\",t+e,n-r],[\"L\",t,n+r],[\"Z\"]]}},l=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.initAttrs=function(t){this._resetParamsCache()},n.prototype._resetParamsCache=function(){this.set(\"paramsCache\",{})},n.prototype.onAttrChange=function(n,e,r){t.prototype.onAttrChange.call(this,n,e,r),-1!==[\"symbol\",\"x\",\"y\",\"r\",\"radius\"].indexOf(n)&&this._resetParamsCache()},n.prototype.isOnlyHitBox=function(){return!0},n.prototype._getR=function(t){return a.isNil(t.r)?t.radius:t.r},n.prototype._getPath=function(){var t,e,r=this.attr(),a=r.x,o=r.y,s=r.symbol||\"circle\",c=this._getR(r);return u.isFunction(s)?(e=(t=s)(a,o,c),e=i.default(e)):e=(t=n.Symbols[s])(a,o,c),t?e:(console.warn(s+\" marker is not supported.\"),null)},n.prototype.createPath=function(t){var n=this._getPath(),e=this.get(\"paramsCache\");s.drawPath(this,t,{path:n},e)},n.Symbols=c,n}(o.default);n.default=l},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(15),a=\"\\t\\n\\v\\f\\r \\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029\",i=new RegExp(\"([a-z])[\"+a+\",]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\"+a+\"]*,?[\"+a+\"]*)+)\",\"ig\"),o=new RegExp(\"(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[\"+a+\"]*,?[\"+a+\"]*\",\"ig\");n.default=function(t){if(!t)return null;if(r.default(t))return t;var n={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},e=[];return String(t).replace(i,(function(t,r,a){var i=[],u=r.toLowerCase();if(a.replace(o,(function(t,n){n&&i.push(+n)})),\"m\"===u&&i.length>2&&(e.push([r].concat(i.splice(0,2))),u=\"l\",r=\"m\"===r?\"l\":\"L\"),\"o\"===u&&1===i.length&&e.push([r,i[0]]),\"r\"===u)e.push([r].concat(i));else for(;i.length>=n[u]&&(e.push([r].concat(i.splice(0,n[u]))),n[u]););return\"\"})),e}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(0),a=e(25),i=e(18),o=e(3),u=e(37),s=e(83),c=e(9),l=e(39),f=e(40),h=e(85),p=e(16);function d(t,n,e){for(var r=!1,a=0;a<t.length;a++){var i=t[a];if(r=f.default(i,n,e))break}return r}var v=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.getDefaultAttrs=function(){var n=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},n),{startArrow:!1,endArrow:!1})},n.prototype.initAttrs=function(t){this._setPathArr(t.path)},n.prototype._setPathArr=function(t){this.attrs.path=u.default(t);var n=h.default.hasArc(t);this.set(\"hasArc\",n),this.set(\"paramsCache\",{}),this.set(\"segments\",null),this.set(\"curve\",null),this.set(\"tCache\",null),this.set(\"totalLength\",null)},n.prototype.getSegments=function(){var t=this.get(\"segements\");return t||(t=s.default(this.attr(\"path\")),this.set(\"segments\",t)),t},n.prototype.isInStrokeOrPath=function(t,n,e,r,a){var i=this.getSegments(),o=this.get(\"hasArc\"),u=!1;if(e&&(u=h.default.isPointInStroke(i,a,t,n)),!u&&r)if(o)u=l.default(this,t,n);else{var s=this.attr(\"path\"),c=h.default.extractPolygons(s);u=d(c.polygons,t,n)||d(c.polylines,t,n)}return u},n.prototype.onAttrChange=function(n,e,r){t.prototype.onAttrChange.call(this,n,e,r),\"path\"===n&&this._setPathArr(e)},n.prototype.createPath=function(t){var n=this.attr(),e=this.get(\"paramsCache\");c.drawPath(this,t,n,e)},n.prototype.afterDrawPath=function(t){var n=this.attr(),e=n.startArrow,r=n.endArrow;if(e){var a=this.getStartTangent();p.addStartArrow(t,n,a[0][0],a[0][1],a[1][0],a[1][1])}r&&(a=this.getEndTangent(),p.addEndArrow(t,n,a[0][0],a[0][1],a[1][0],a[1][1]))},n.prototype.getTotalLength=function(){var t=this.get(\"totalLength\");return i.isNil(t)?(this._calculateCurve(),this._setTcache(),this.get(\"totalLength\")):t},n.prototype.getPoint=function(t){var n,e,r=this.get(\"tCache\");r||(this._calculateCurve(),this._setTcache(),r=this.get(\"tCache\"));var o=this.get(\"curve\");if(!r||0===r.length)return o?{x:o[0][1],y:o[0][2]}:null;i.each(r,(function(r,a){t>=r[0]&&t<=r[1]&&(n=(t-r[0])/(r[1]-r[0]),e=a)}));var u=o[e];if(i.isNil(u)||i.isNil(e))return null;var s=u.length,c=o[e+1];return a.default.pointAt(u[s-2],u[s-1],c[1],c[2],c[3],c[4],c[5],c[6],n)},n.prototype._calculateCurve=function(){var t=this.attr().path;this.set(\"curve\",h.default.pathToCurve(t))},n.prototype._setTcache=function(){var t,n,e,r,o=0,u=0,s=[],c=this.get(\"curve\");c&&(i.each(c,(function(t,n){e=c[n+1],r=t.length,e&&(o+=a.default.length(t[r-2],t[r-1],e[1],e[2],e[3],e[4],e[5],e[6])||0)})),this.set(\"totalLength\",o),0!==o?(i.each(c,(function(i,l){e=c[l+1],r=i.length,e&&((t=[])[0]=u/o,n=a.default.length(i[r-2],i[r-1],e[1],e[2],e[3],e[4],e[5],e[6]),u+=n||0,t[1]=u/o,s.push(t))})),this.set(\"tCache\",s)):this.set(\"tCache\",[]))},n.prototype.getStartTangent=function(){var t,n=this.getSegments();if(n.length>1){var e=n[0].currentPoint,r=n[1].currentPoint,a=n[1].startTangent;t=[],a?(t.push([e[0]-a[0],e[1]-a[1]]),t.push([e[0],e[1]])):(t.push([r[0],r[1]]),t.push([e[0],e[1]]))}return t},n.prototype.getEndTangent=function(){var t,n=this.getSegments(),e=n.length;if(e>1){var r=n[e-2].currentPoint,a=n[e-1].currentPoint,i=n[e-1].endTangent;t=[],i?(t.push([a[0]-i[0],a[1]-i[1]]),t.push([a[0],a[1]])):(t.push([r[0],r[1]]),t.push([a[0],a[1]]))}return t},n}(o.default);n.default=v},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(38),a=e(38),i=e(84);function o(t,n){return{x:n.x+(n.x-t.x),y:n.y+(n.y-t.y)}}n.default=function(t){for(var n=[],e=null,u=null,s=null,c=0,l=(t=i.default(t)).length,f=0;f<l;f++){var h=t[f];u=t[f+1];var p=h[0],d={command:p,prePoint:e,params:h,startTangent:null,endTangent:null};switch(p){case\"M\":s=[h[1],h[2]],c=f;break;case\"A\":var v=r.default(e,h);d.arcParams=v}if(\"Z\"===p)e=s,u=t[c+1];else{var g=h.length;e=[h[g-2],h[g-1]]}u&&\"Z\"===u[0]&&(u=t[c],n[c]&&(n[c].prePoint=e)),d.currentPoint=e,n[c]&&a.isSamePoint(e,n[c].currentPoint)&&(n[c].prePoint=d.prePoint);var y=u?[u[u.length-2],u[u.length-1]]:null;d.nextPoint=y;var m=d.prePoint;if([\"L\",\"H\",\"V\"].includes(p))d.startTangent=[m[0]-e[0],m[1]-e[1]],d.endTangent=[e[0]-m[0],e[1]-m[1]];else if(\"Q\"===p){var M=[h[1],h[2]];d.startTangent=[m[0]-M[0],m[1]-M[1]],d.endTangent=[e[0]-M[0],e[1]-M[1]]}else if(\"T\"===p)M=o((_=n[f-1]).currentPoint,m),\"Q\"===_.command?(d.command=\"Q\",d.startTangent=[m[0]-M[0],m[1]-M[1]],d.endTangent=[e[0]-M[0],e[1]-M[1]]):(d.command=\"TL\",d.startTangent=[m[0]-e[0],m[1]-e[1]],d.endTangent=[e[0]-m[0],e[1]-m[1]]);else if(\"C\"===p){var x=[h[1],h[2]],b=[h[3],h[4]];d.startTangent=[m[0]-x[0],m[1]-x[1]],d.endTangent=[e[0]-b[0],e[1]-b[1]]}else if(\"S\"===p){var _;x=o((_=n[f-1]).currentPoint,m),b=[h[1],h[2]],\"C\"===_.command?(d.command=\"C\",d.startTangent=[m[0]-x[0],m[1]-x[1]],d.endTangent=[e[0]-b[0],e[1]-b[1]]):(d.command=\"SQ\",d.startTangent=[m[0]-b[0],m[1]-b[1]],d.endTangent=[e[0]-b[0],e[1]-b[1]])}else if(\"A\"===p){var w=.001,P=d.arcParams||{},A=P.rx,O=void 0===A?0:A,C=P.ry,S=void 0===C?0:C,E=P.xRotation,k=void 0===E?0:E,T=P.arcFlag,j=void 0===T?0:T,I=P.sweepFlag,R=void 0===I?0:I,D=P.startAngle,B=void 0===D?0:D,q=P.endAngle,N=void 0===q?0:q;0===R&&(w*=-1);var F=k*Math.cos(B-w)+O,Y=j*Math.sin(B-w)+S;d.startTangent=[F-s[0],Y-s[1]];var L=k*Math.cos(B+N+w)+O,X=j*Math.sin(B+N-w)+S;d.endTangent=[m.x-L,m.y-X]}n.push(d)}return n}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(28),a=e(15),i=e(27),o=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,u=/[^\\s\\,]+/gi;n.default=function(t){var n=t||[];return a.default(n)?n:i.default(n)?(n=n.match(o),r.default(n,(function(t,e){if((t=t.match(u))[0].length>1){var a=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=a}r.default(t,(function(n,e){isNaN(n)||(t[e]=+n)})),n[e]=t})),n):void 0}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(0),a=e(10),i=e(34),o=e(25),u=e(2),s=e(17),c=e(41),l=e(86),f=e(87);n.default=r.__assign({hasArc:function(t){for(var n=!1,e=t.length,r=0;r<e;r++){var a=t[r][0];if(\"C\"===a||\"A\"===a||\"Q\"===a){n=!0;break}}return n},extractPolygons:function(t){for(var n=t.length,e=[],r=[],a=[],i=0;i<n;i++){var o=t[i],u=o[0];\"M\"===u?(a.length&&(r.push(a),a=[]),a.push([o[1],o[2]])):\"Z\"===u?a.length&&(e.push(a),a=[]):a.push([o[1],o[2]])}return a.length>0&&r.push(a),{polygons:e,polylines:r}},isPointInStroke:function(t,n,e,r){for(var a=!1,h=n/2,p=0;p<t.length;p++){var d=t[p],v=d.currentPoint,g=d.params,y=d.prePoint,m=d.box;if(!m||u.inBox(m.x-h,m.y-h,m.width+n,m.height+n,e,r)){switch(d.command){case\"L\":case\"Z\":a=s.default(y[0],y[1],v[0],v[1],n,e,r);break;case\"Q\":a=i.default.pointDistance(y[0],y[1],g[1],g[2],g[3],g[4],e,r)<=n/2;break;case\"C\":a=o.default.pointDistance(y[0],y[1],g[1],g[2],g[3],g[4],g[5],g[6],e,r)<=n/2;break;case\"A\":var M=d.arcParams,x=M.cx,b=M.cy,_=M.rx,w=M.ry,P=M.startAngle,A=M.endAngle,O=M.xRotation,C=[e,r,1],S=[1,0,0,0,1,0,0,0,1],E=_>w?_:w,k=_>w?1:_/w,T=_>w?w/_:1;l.translate(S,S,[-x,-b]),l.rotate(S,S,-O),l.scale(S,S,[1/k,1/T]),f.transformMat3(C,C,S),a=c.default(0,0,E,P,A,n,C[0],C[1])}if(a)break}}return a}},a.PathUtil)},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.sub=n.mul=void 0,n.create=function(){var t=new r.ARRAY_TYPE(9);return r.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},n.fromMat4=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t},n.clone=function(t){var n=new r.ARRAY_TYPE(9);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},n.fromValues=function(t,n,e,a,i,o,u,s,c){var l=new r.ARRAY_TYPE(9);return l[0]=t,l[1]=n,l[2]=e,l[3]=a,l[4]=i,l[5]=o,l[6]=u,l[7]=s,l[8]=c,l},n.set=function(t,n,e,r,a,i,o,u,s,c){return t[0]=n,t[1]=e,t[2]=r,t[3]=a,t[4]=i,t[5]=o,t[6]=u,t[7]=s,t[8]=c,t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.transpose=function(t,n){if(t===n){var e=n[1],r=n[2],a=n[5];t[1]=n[3],t[2]=n[6],t[3]=e,t[5]=n[7],t[6]=r,t[7]=a}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t},n.invert=function(t,n){var e=n[0],r=n[1],a=n[2],i=n[3],o=n[4],u=n[5],s=n[6],c=n[7],l=n[8],f=l*o-u*c,h=-l*i+u*s,p=c*i-o*s,d=e*f+r*h+a*p;return d?(d=1/d,t[0]=f*d,t[1]=(-l*r+a*c)*d,t[2]=(u*r-a*o)*d,t[3]=h*d,t[4]=(l*e-a*s)*d,t[5]=(-u*e+a*i)*d,t[6]=p*d,t[7]=(-c*e+r*s)*d,t[8]=(o*e-r*i)*d,t):null},n.adjoint=function(t,n){var e=n[0],r=n[1],a=n[2],i=n[3],o=n[4],u=n[5],s=n[6],c=n[7],l=n[8];return t[0]=o*l-u*c,t[1]=a*c-r*l,t[2]=r*u-a*o,t[3]=u*s-i*l,t[4]=e*l-a*s,t[5]=a*i-e*u,t[6]=i*c-o*s,t[7]=r*s-e*c,t[8]=e*o-r*i,t},n.determinant=function(t){var n=t[0],e=t[1],r=t[2],a=t[3],i=t[4],o=t[5],u=t[6],s=t[7],c=t[8];return n*(c*i-o*s)+e*(-c*a+o*u)+r*(s*a-i*u)},n.multiply=a,n.translate=function(t,n,e){var r=n[0],a=n[1],i=n[2],o=n[3],u=n[4],s=n[5],c=n[6],l=n[7],f=n[8],h=e[0],p=e[1];return t[0]=r,t[1]=a,t[2]=i,t[3]=o,t[4]=u,t[5]=s,t[6]=h*r+p*o+c,t[7]=h*a+p*u+l,t[8]=h*i+p*s+f,t},n.rotate=function(t,n,e){var r=n[0],a=n[1],i=n[2],o=n[3],u=n[4],s=n[5],c=n[6],l=n[7],f=n[8],h=Math.sin(e),p=Math.cos(e);return t[0]=p*r+h*o,t[1]=p*a+h*u,t[2]=p*i+h*s,t[3]=p*o-h*r,t[4]=p*u-h*a,t[5]=p*s-h*i,t[6]=c,t[7]=l,t[8]=f,t},n.scale=function(t,n,e){var r=e[0],a=e[1];return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=a*n[3],t[4]=a*n[4],t[5]=a*n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},n.fromTranslation=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=n[0],t[7]=n[1],t[8]=1,t},n.fromRotation=function(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=-e,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=n[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromMat2d=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t},n.fromQuat=function(t,n){var e=n[0],r=n[1],a=n[2],i=n[3],o=e+e,u=r+r,s=a+a,c=e*o,l=r*o,f=r*u,h=a*o,p=a*u,d=a*s,v=i*o,g=i*u,y=i*s;return t[0]=1-f-d,t[3]=l-y,t[6]=h+g,t[1]=l+y,t[4]=1-c-d,t[7]=p-v,t[2]=h-g,t[5]=p+v,t[8]=1-c-f,t},n.normalFromMat4=function(t,n){var e=n[0],r=n[1],a=n[2],i=n[3],o=n[4],u=n[5],s=n[6],c=n[7],l=n[8],f=n[9],h=n[10],p=n[11],d=n[12],v=n[13],g=n[14],y=n[15],m=e*u-r*o,M=e*s-a*o,x=e*c-i*o,b=r*s-a*u,_=r*c-i*u,w=a*c-i*s,P=l*v-f*d,A=l*g-h*d,O=l*y-p*d,C=f*g-h*v,S=f*y-p*v,E=h*y-p*g,k=m*E-M*S+x*C+b*O-_*A+w*P;return k?(k=1/k,t[0]=(u*E-s*S+c*C)*k,t[1]=(s*O-o*E-c*A)*k,t[2]=(o*S-u*O+c*P)*k,t[3]=(a*S-r*E-i*C)*k,t[4]=(e*E-a*O+i*A)*k,t[5]=(r*O-e*S-i*P)*k,t[6]=(v*w-g*_+y*b)*k,t[7]=(g*x-d*w-y*M)*k,t[8]=(d*_-v*x+y*m)*k,t):null},n.projection=function(t,n,e){return t[0]=2/n,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/e,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},n.str=function(t){return\"mat3(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\", \"+t[4]+\", \"+t[5]+\", \"+t[6]+\", \"+t[7]+\", \"+t[8]+\")\"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},n.add=function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t[8]=n[8]+e[8],t},n.subtract=i,n.multiplyScalar=function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*e,t},n.multiplyScalarAndAdd=function(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t[4]=n[4]+e[4]*r,t[5]=n[5]+e[5]*r,t[6]=n[6]+e[6]*r,t[7]=n[7]+e[7]*r,t[8]=n[8]+e[8]*r,t},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]},n.equals=function(t,n){var e=t[0],a=t[1],i=t[2],o=t[3],u=t[4],s=t[5],c=t[6],l=t[7],f=t[8],h=n[0],p=n[1],d=n[2],v=n[3],g=n[4],y=n[5],m=n[6],M=n[7],x=n[8];return Math.abs(e-h)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(a-p)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(i-d)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-v)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(u-g)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(s-y)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(c-m)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(l-M)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(f-x)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(x))};var r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}(e(42));function a(t,n,e){var r=n[0],a=n[1],i=n[2],o=n[3],u=n[4],s=n[5],c=n[6],l=n[7],f=n[8],h=e[0],p=e[1],d=e[2],v=e[3],g=e[4],y=e[5],m=e[6],M=e[7],x=e[8];return t[0]=h*r+p*o+d*c,t[1]=h*a+p*u+d*l,t[2]=h*i+p*s+d*f,t[3]=v*r+g*o+y*c,t[4]=v*a+g*u+y*l,t[5]=v*i+g*s+y*f,t[6]=m*r+M*o+x*c,t[7]=m*a+M*u+x*l,t[8]=m*i+M*s+x*f,t}function i(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t[6]=n[6]-e[6],t[7]=n[7]-e[7],t[8]=n[8]-e[8],t}n.mul=a,n.sub=i},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.forEach=n.sqrLen=n.len=n.sqrDist=n.dist=n.div=n.mul=n.sub=void 0,n.create=i,n.clone=function(t){var n=new a.ARRAY_TYPE(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n},n.length=o,n.fromValues=u,n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t},n.set=function(t,n,e,r){return t[0]=n,t[1]=e,t[2]=r,t},n.add=function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t},n.subtract=s,n.multiply=c,n.divide=l,n.ceil=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t},n.floor=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t},n.min=function(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t},n.max=function(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t},n.round=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t},n.scale=function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t},n.scaleAndAdd=function(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t},n.distance=f,n.squaredDistance=h,n.squaredLength=p,n.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t},n.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t},n.normalize=d,n.dot=v,n.cross=function(t,n,e){var r=n[0],a=n[1],i=n[2],o=e[0],u=e[1],s=e[2];return t[0]=a*s-i*u,t[1]=i*o-r*s,t[2]=r*u-a*o,t},n.lerp=function(t,n,e,r){var a=n[0],i=n[1],o=n[2];return t[0]=a+r*(e[0]-a),t[1]=i+r*(e[1]-i),t[2]=o+r*(e[2]-o),t},n.hermite=function(t,n,e,r,a,i){var o=i*i,u=o*(2*i-3)+1,s=o*(i-2)+i,c=o*(i-1),l=o*(3-2*i);return t[0]=n[0]*u+e[0]*s+r[0]*c+a[0]*l,t[1]=n[1]*u+e[1]*s+r[1]*c+a[1]*l,t[2]=n[2]*u+e[2]*s+r[2]*c+a[2]*l,t},n.bezier=function(t,n,e,r,a,i){var o=1-i,u=o*o,s=i*i,c=u*o,l=3*i*u,f=3*s*o,h=s*i;return t[0]=n[0]*c+e[0]*l+r[0]*f+a[0]*h,t[1]=n[1]*c+e[1]*l+r[1]*f+a[1]*h,t[2]=n[2]*c+e[2]*l+r[2]*f+a[2]*h,t},n.random=function(t,n){n=n||1;var e=2*a.RANDOM()*Math.PI,r=2*a.RANDOM()-1,i=Math.sqrt(1-r*r)*n;return t[0]=Math.cos(e)*i,t[1]=Math.sin(e)*i,t[2]=r*n,t},n.transformMat4=function(t,n,e){var r=n[0],a=n[1],i=n[2],o=e[3]*r+e[7]*a+e[11]*i+e[15];return o=o||1,t[0]=(e[0]*r+e[4]*a+e[8]*i+e[12])/o,t[1]=(e[1]*r+e[5]*a+e[9]*i+e[13])/o,t[2]=(e[2]*r+e[6]*a+e[10]*i+e[14])/o,t},n.transformMat3=function(t,n,e){var r=n[0],a=n[1],i=n[2];return t[0]=r*e[0]+a*e[3]+i*e[6],t[1]=r*e[1]+a*e[4]+i*e[7],t[2]=r*e[2]+a*e[5]+i*e[8],t},n.transformQuat=function(t,n,e){var r=e[0],a=e[1],i=e[2],o=e[3],u=n[0],s=n[1],c=n[2],l=a*c-i*s,f=i*u-r*c,h=r*s-a*u,p=a*h-i*f,d=i*l-r*h,v=r*f-a*l,g=2*o;return l*=g,f*=g,h*=g,p*=2,d*=2,v*=2,t[0]=u+l+p,t[1]=s+f+d,t[2]=c+h+v,t},n.rotateX=function(t,n,e,r){var a=[],i=[];return a[0]=n[0]-e[0],a[1]=n[1]-e[1],a[2]=n[2]-e[2],i[0]=a[0],i[1]=a[1]*Math.cos(r)-a[2]*Math.sin(r),i[2]=a[1]*Math.sin(r)+a[2]*Math.cos(r),t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t},n.rotateY=function(t,n,e,r){var a=[],i=[];return a[0]=n[0]-e[0],a[1]=n[1]-e[1],a[2]=n[2]-e[2],i[0]=a[2]*Math.sin(r)+a[0]*Math.cos(r),i[1]=a[1],i[2]=a[2]*Math.cos(r)-a[0]*Math.sin(r),t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t},n.rotateZ=function(t,n,e,r){var a=[],i=[];return a[0]=n[0]-e[0],a[1]=n[1]-e[1],a[2]=n[2]-e[2],i[0]=a[0]*Math.cos(r)-a[1]*Math.sin(r),i[1]=a[0]*Math.sin(r)+a[1]*Math.cos(r),i[2]=a[2],t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t},n.angle=function(t,n){var e=u(t[0],t[1],t[2]),r=u(n[0],n[1],n[2]);d(e,e),d(r,r);var a=v(e,r);return a>1?0:a<-1?Math.PI:Math.acos(a)},n.str=function(t){return\"vec3(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\")\"},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]},n.equals=function(t,n){var e=t[0],r=t[1],i=t[2],o=n[0],u=n[1],s=n[2];return Math.abs(e-o)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(r-u)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-s)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))};var r,a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}(e(42));function i(){var t=new a.ARRAY_TYPE(3);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function o(t){var n=t[0],e=t[1],r=t[2];return Math.sqrt(n*n+e*e+r*r)}function u(t,n,e){var r=new a.ARRAY_TYPE(3);return r[0]=t,r[1]=n,r[2]=e,r}function s(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t}function c(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t}function l(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t}function f(t,n){var e=n[0]-t[0],r=n[1]-t[1],a=n[2]-t[2];return Math.sqrt(e*e+r*r+a*a)}function h(t,n){var e=n[0]-t[0],r=n[1]-t[1],a=n[2]-t[2];return e*e+r*r+a*a}function p(t){var n=t[0],e=t[1],r=t[2];return n*n+e*e+r*r}function d(t,n){var e=n[0],r=n[1],a=n[2],i=e*e+r*r+a*a;return i>0&&(i=1/Math.sqrt(i),t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i),t}function v(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}n.sub=s,n.mul=c,n.div=l,n.dist=f,n.sqrDist=h,n.len=o,n.sqrLen=p,n.forEach=(r=i(),function(t,n,e,a,i,o){var u,s=void 0;for(n||(n=3),e||(e=0),u=a?Math.min(a*n+e,t.length):t.length,s=e;s<u;s+=n)r[0]=t[s],r[1]=t[s+1],r[2]=t[s+2],i(r,r,o),t[s]=r[0],t[s+1]=r[1],t[s+2]=r[2];return t})},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(0),a=e(3),i=e(43),o=e(40),u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.isInStrokeOrPath=function(t,n,e,r,a){var u=this.attr().points,s=!1;return e&&(s=i.default(u,a,t,n,!0)),!s&&r&&(s=o.default(u,t,n)),s},n.prototype.createPath=function(t){var n=this.attr().points;if(!(n.length<2)){t.beginPath();for(var e=0;e<n.length;e++){var r=n[e];0===e?t.moveTo(r[0],r[1]):t.lineTo(r[0],r[1])}t.closePath()}},n}(a.default);n.default=u},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(0),a=e(6),i=e(90),o=e(18),u=e(3),s=e(43),c=e(16),l=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.getDefaultAttrs=function(){var n=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},n),{startArrow:!1,endArrow:!1})},n.prototype.onAttrChange=function(n,e,r){t.prototype.onAttrChange.call(this,n,e,r),-1!==[\"points\"].indexOf(n)&&this._resetCache()},n.prototype._resetCache=function(){this.set(\"totalLength\",null),this.set(\"tCache\",null)},n.prototype.isFill=function(){return!1},n.prototype.isInStrokeOrPath=function(t,n,e,r,a){if(!e||!a)return!1;var i=this.attr().points;return s.default(i,a,t,n,!1)},n.prototype.isStroke=function(){return!0},n.prototype.createPath=function(t){var n=this.attr(),e=n.points,r=n.startArrow,a=n.endArrow,i=e.length;if(!(e.length<2)){var o,u=e[0][0],s=e[0][1],l=e[i-1][0],f=e[i-1][1];r&&r.d&&(u+=(o=c.getShortenOffset(u,s,e[1][0],e[1][1],r.d)).dx,s+=o.dy),a&&a.d&&(l-=(o=c.getShortenOffset(e[i-2][0],e[i-2][1],l,f,a.d)).dx,f-=o.dy),t.beginPath(),t.moveTo(u,s);for(var h=0;h<i-1;h++){var p=e[h];t.lineTo(p[0],p[1])}t.lineTo(l,f)}},n.prototype.afterDrawPath=function(t){var n=this.attr(),e=this.attrs,r=e.points,a=e.startArrow,i=e.endArrow,o=r.length,u=r[0][0],s=r[0][1],l=r[o-1][0],f=r[o-1][1];a&&c.addStartArrow(t,n,r[1][0],r[1][1],u,s),i&&c.addEndArrow(t,n,r[o-2][0],r[o-2][1],l,f)},n.prototype.getTotalLength=function(){var t=this.attr().points,n=this.get(\"totalLength\");return o.isNil(n)?(this.set(\"totalLength\",i.default.length(t)),this.get(\"totalLength\")):n},n.prototype.getPoint=function(t){var n,e,r=this.attr().points,i=this.get(\"tCache\");return i||(this._setTcache(),i=this.get(\"tCache\")),o.each(i,(function(r,a){t>=r[0]&&t<=r[1]&&(n=(t-r[0])/(r[1]-r[0]),e=a)})),a.default.pointAt(r[e][0],r[e][1],r[e+1][0],r[e+1][1],n)},n.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var n=this.getTotalLength();if(!(n<=0)){var e,r,i=0,u=[];o.each(t,(function(o,s){t[s+1]&&((e=[])[0]=i/n,r=a.default.length(o[0],o[1],t[s+1][0],t[s+1][1]),i+=r,e[1]=i/n,u.push(e))})),this.set(\"tCache\",u)}}},n.prototype.getStartTangent=function(){var t=this.attr().points,n=[];return n.push([t[1][0],t[1][1]]),n.push([t[0][0],t[0][1]]),n},n.prototype.getEndTangent=function(){var t=this.attr().points,n=t.length-1,e=[];return e.push([t[n-1][0],t[n-1][1]]),e.push([t[n][0],t[n][1]]),e},n}(u.default);n.default=l},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(91),a=e(5);n.default={box:function(t){for(var n=[],e=[],r=0;r<t.length;r++){var i=t[r];n.push(i[0]),e.push(i[1])}return a.getBBoxByArray(n,e)},length:function(t){return r.lengthOfSegment(t)},pointAt:function(t,n){return r.pointAtSegments(t,n)},pointDistance:function(t,n,e){return r.distanceAtSegment(t,n,e)},tangentAngle:function(t,n){return r.angleAtSegments(t,n)}}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(6),a=e(5);function i(t){for(var n=0,e=[],r=0;r<t.length-1;r++){var i=t[r],o=t[r+1],u=a.distance(i[0],i[1],o[0],o[1]),s={from:i,to:o,length:u};e.push(s),n+=u}return{segments:e,totalLength:n}}n.lengthOfSegment=function(t){if(t.length<2)return 0;for(var n=0,e=0;e<t.length-1;e++){var r=t[e],i=t[e+1];n+=a.distance(r[0],r[1],i[0],i[1])}return n},n.pointAtSegments=function(t,n){if(n>1||n<0||t.length<2)return null;var e=i(t),a=e.segments,o=e.totalLength;if(0===o)return{x:t[0][0],y:t[0][1]};for(var u=0,s=null,c=0;c<a.length;c++){var l=a[c],f=l.from,h=l.to,p=l.length/o;if(n>=u&&n<=u+p){var d=(n-u)/p;s=r.default.pointAt(f[0],f[1],h[0],h[1],d);break}u+=p}return s},n.angleAtSegments=function(t,n){if(n>1||n<0||t.length<2)return 0;for(var e=i(t),r=e.segments,a=e.totalLength,o=0,u=0,s=0;s<r.length;s++){var c=r[s],l=c.from,f=c.to,h=c.length/a;if(n>=o&&n<=o+h){u=Math.atan2(f[1]-l[1],f[0]-l[0]);break}o+=h}return u},n.distanceAtSegment=function(t,n,e){for(var a=1/0,i=0;i<t.length-1;i++){var o=t[i],u=t[i+1],s=r.default.pointDistance(o[0],o[1],u[0],u[1],n,e);s<a&&(a=s)}return a}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(0),a=e(3),i=e(31),o=e(2),u=e(93),s=e(94),c=e(39),l=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.getDefaultAttrs=function(){var n=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},n),{x:0,y:0,width:0,height:0,radius:0})},n.prototype.isInStrokeOrPath=function(t,n,e,r,a){var i=this.attr(),l=i.x,f=i.y,h=i.width,p=i.height,d=i.radius;if(d){var v=!1;return e&&(v=s.default(l,f,h,p,d,a,t,n)),!v&&r&&(v=c.default(this,t,n)),v}var g=a/2;return r&&e?o.inBox(l-g,f-g,h+g,p+g,t,n):r?o.inBox(l,f,h,p,t,n):e?u.default(l,f,h,p,a,t,n):void 0},n.prototype.createPath=function(t){var n=this.attr(),e=n.x,r=n.y,a=n.width,o=n.height,u=n.radius;if(t.beginPath(),0===u)t.rect(e,r,a,o);else{var s=i.parseRadius(u),c=s[0],l=s[1],f=s[2],h=s[3];t.moveTo(e+c,r),t.lineTo(e+a-l,r),0!==l&&t.arc(e+a-l,r+l,l,-Math.PI/2,0),t.lineTo(e+a,r+o-f),0!==f&&t.arc(e+a-f,r+o-f,f,0,Math.PI/2),t.lineTo(e+h,r+o),0!==h&&t.arc(e+h,r+o-h,h,Math.PI/2,Math.PI),t.lineTo(e,r+c),0!==c&&t.arc(e+c,r+c,c,Math.PI,1.5*Math.PI),t.closePath()}},n}(a.default);n.default=l},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(2);n.default=function(t,n,e,a,i,o,u){var s=i/2;return r.inBox(t-s,n-s,e,i,o,u)||r.inBox(t+e-s,n-s,i,a,o,u)||r.inBox(t+s,n+a-s,e,i,o,u)||r.inBox(t-s,n+s,i,a,o,u)}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(17),a=e(41);n.default=function(t,n,e,i,o,u,s,c){return r.default(t+o,n,t+e-o,n,u,s,c)||r.default(t+e,n+o,t+e,n+i-o,u,s,c)||r.default(t+e-o,n+i,t+o,n+i,u,s,c)||r.default(t,n+i-o,t,n+o,u,s,c)||a.default(t+e-o,n+o,o,1.5*Math.PI,2*Math.PI,u,s,c)||a.default(t+e-o,n+i-o,o,0,.5*Math.PI,u,s,c)||a.default(t+o,n+i-o,o,.5*Math.PI,Math.PI,u,s,c)||a.default(t+o,n+o,o,Math.PI,1.5*Math.PI,u,s,c)}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(0),a=e(3),i=e(2),o=e(32),u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.getDefaultAttrs=function(){var n=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},n),{x:0,y:0,text:null,fontSize:12,fontFamily:\"sans-serif\",fontStyle:\"normal\",fontWeight:\"normal\",fontVariant:\"normal\",textAlign:\"start\",textBaseline:\"bottom\"})},n.prototype.isOnlyHitBox=function(){return!0},n.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},n.prototype._assembleFont=function(){var t=this.attrs;t.font=o.assembleFont(t)},n.prototype._setText=function(t){var n=null;i.isString(t)&&-1!==t.indexOf(\"\\n\")&&(n=t.split(\"\\n\")),this.set(\"textArr\",n)},n.prototype.onAttrChange=function(n,e,r){t.prototype.onAttrChange.call(this,n,e,r),n.startsWith(\"font\")&&this._assembleFont(),\"text\"===n&&this._setText(e)},n.prototype._getSpaceingY=function(){var t=this.attrs,n=t.lineHeight,e=1*t.fontSize;return n?n-e:.14*e},n.prototype._drawTextArr=function(t,n,e){var r,a=this.attrs,u=a.textBaseline,s=a.x,c=a.y,l=1*a.fontSize,f=this._getSpaceingY(),h=o.getTextHeight(a.text,a.fontSize,a.lineHeight);i.each(n,(function(n,a){r=c+a*(f+l)-h+l,\"middle\"===u&&(r+=h-l-(h-l)/2),\"top\"===u&&(r+=h-l),e?t.fillText(n,s,r):t.strokeText(n,s,r)}))},n.prototype._drawText=function(t,n){var e=this.attr(),r=e.x,a=e.y,i=this.get(\"textArr\");if(i)this._drawTextArr(t,i,n);else{var o=e.text;n?t.fillText(o,r,a):t.strokeText(o,r,a)}},n.prototype.strokeAndFill=function(t){var n=this.attrs,e=n.lineWidth,r=n.opacity,a=n.strokeOpacity,o=n.fillOpacity;this.isStroke()&&e>0&&(i.isNil(a)||1===a||(t.globalAlpha=r),this.stroke(t)),this.isFill()&&(i.isNil(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.afterDrawPath(t)},n.prototype.fill=function(t){this._drawText(t,!0)},n.prototype.stroke=function(t){this._drawText(t,!1)},n}(a.default);n.default=u},function(t){t.exports=JSON.parse('{\"name\":\"@antv/g-canvas\",\"version\":\"0.3.29\",\"description\":\"A canvas library which providing 2d\",\"main\":\"lib/index.js\",\"module\":\"esm/index.js\",\"browser\":\"dist/g.min.js\",\"types\":\"lib/index.d.ts\",\"files\":[\"package.json\",\"esm\",\"lib\",\"dist\",\"LICENSE\",\"README.md\"],\"scripts\":{\"build\":\"npm run clean && run-p build:*\",\"build:esm\":\"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm\",\"build:cjs\":\"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib\",\"build:umd\":\"webpack --config webpack.config.js --mode production\",\"clean\":\"rm -rf esm lib dist\",\"coverage\":\"npm run coverage-generator && npm run coverage-viewer\",\"coverage-generator\":\"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts\",\"coverage-viewer\":\"torch-coverage\",\"test\":\"torch --renderer --compile --opts tests/mocha.opts\",\"test-live\":\"torch --compile --interactive --opts tests/mocha.opts\",\"tsc\":\"tsc --noEmit\",\"typecheck\":\"tsc --noEmit\",\"dist\":\"webpack --config webpack.config.js --mode production\"},\"repository\":{\"type\":\"git\",\"url\":\"git+https://github.com/antvis/g.git\"},\"keywords\":[\"util\",\"antv\",\"g\"],\"publishConfig\":{\"access\":\"public\"},\"author\":\"https://github.com/orgs/antvis/people\",\"license\":\"ISC\",\"bugs\":{\"url\":\"https://github.com/antvis/g/issues\"},\"devDependencies\":{\"@antv/torch\":\"^1.0.0\",\"less\":\"^3.9.0\",\"npm-run-all\":\"^4.1.5\",\"webpack\":\"^4.26.1\",\"webpack-cli\":\"^3.1.2\"},\"homepage\":\"https://github.com/antvis/g#readme\",\"dependencies\":{\"@antv/g-base\":\"^0.3.29\",\"@antv/g-math\":\"^0.1.1\",\"@antv/gl-matrix\":\"~2.7.1\",\"@antv/path-util\":\"~2.0.3-beta.1\",\"@antv/util\":\"~2.0.0\"},\"__npminstall_done\":false}')},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),e(0).__exportStar(e(98),n)},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0})},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),e(0).__exportStar(e(100),n)},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0})},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(0),a=e(10),i=e(102),o=e(7),u=e(26),s=e(9),c=e(2),l=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.getDefaultCfg=function(){var n=t.prototype.getDefaultCfg.call(this);return n.renderer=\"canvas\",n.autoDraw=!0,n.localRefresh=!0,n.refreshElements=[],n},n.prototype.onCanvasChange=function(t){\"attr\"!==t&&\"sort\"!==t&&\"changeSize\"!==t||(this.set(\"refreshElements\",[this]),this.draw())},n.prototype.getShapeBase=function(){return o},n.prototype.getGroupBase=function(){return u.default},n.prototype.getPixelRatio=function(){return this.get(\"pixelRatio\")||c.getPixelRatio()},n.prototype.getViewRange=function(){var t=this.get(\"el\");return{minX:0,minY:0,maxX:t.width,maxY:t.height}},n.prototype.initEvents=function(){var t=new i.default({canvas:this});t.init(),this.set(\"eventController\",t)},n.prototype.createDom=function(){var t=document.createElement(\"canvas\"),n=t.getContext(\"2d\");return this.set(\"context\",n),t},n.prototype.setDOMSize=function(n,e){t.prototype.setDOMSize.call(this,n,e);var r=this.get(\"context\"),a=this.get(\"el\"),i=this.getPixelRatio();a.width=i*n,a.height=i*e,i>1&&r.scale(i,i)},n.prototype.clear=function(){t.prototype.clear.call(this),this._clearFrame();var n=this.get(\"context\"),e=this.get(\"el\");n.clearRect(0,0,e.width,e.height)},n.prototype._getRefreshRegion=function(){var t,n=this.get(\"refreshElements\");return n.length&&n[0]===this?t=this.getViewRange():(t=s.getMergedRegion(n))&&(t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY)),t},n.prototype.refreshElement=function(t){this.get(\"refreshElements\").push(t)},n.prototype._clearFrame=function(){var t=this.get(\"drawFrame\");t&&(c.clearAnimationFrame(t),this.set(\"drawFrame\",null),this.set(\"refreshElements\",[]))},n.prototype.draw=function(){var t=this.get(\"drawFrame\");this.get(\"autoDraw\")&&t||this._startDraw()},n.prototype._drawAll=function(){var t=this.get(\"context\"),n=this.get(\"el\"),e=this.getChildren();t.clearRect(0,0,n.width,n.height),s.applyAttrsToContext(t,this),s.drawChildren(t,e),this.set(\"refreshElements\",[])},n.prototype._drawRegion=function(){var t=this.get(\"context\"),n=this.getChildren(),e=this._getRefreshRegion();e&&(t.clearRect(e.minX,e.minY,e.maxX-e.minX,e.maxY-e.minY),t.save(),t.beginPath(),t.rect(e.minX,e.minY,e.maxX-e.minX,e.maxY-e.minY),t.clip(),s.applyAttrsToContext(t,this),s.drawChildren(t,n,e),t.restore()),this.set(\"refreshElements\",[])},n.prototype._startDraw=function(){var t=this,n=this.get(\"drawFrame\");n||(n=c.requestAnimationFrame((function(){t.get(\"localRefresh\")?t._drawRegion():t._drawAll(),t.set(\"drawFrame\",null)})),this.set(\"drawFrame\",n))},n.prototype.skipDraw=function(){},n.prototype.destroy=function(){this.get(\"eventController\").destroy(),t.prototype.destroy.call(this)},n}(a.AbstractCanvas);n.default=l},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(103),a=e(33),i=[\"mousedown\",\"mouseup\",\"dblclick\",\"mouseout\",\"mouseover\",\"mousemove\",\"mouseleave\",\"mouseenter\",\"touchstart\",\"touchmove\",\"touchend\",\"dragenter\",\"dragover\",\"dragleave\",\"drop\",\"contextmenu\",\"mousewheel\"];function o(t,n,e){e.name=n,e.target=t,e.currentTarget=t,e.delegateTarget=t,t.emit(n,e)}function u(t,n,e){if(e.bubbles){var r=void 0,a=!1;if(\"mouseenter\"===n||\"dragenter\"===n?(r=e.fromShape,a=!0):\"mouseleave\"!==n&&\"dragleave\"!==n||(a=!0,r=e.toShape),t.isCanvas()&&a)return;if(r&&function(t,n){if(t.isCanvas())return!0;for(var e=n.getParent(),r=!1;e;){if(e===t){r=!0;break}e=e.getParent()}return r}(t,r))return void(e.bubbles=!1);e.name=n,e.currentTarget=t,e.delegateTarget=t,t.emit(n,e)}}var s=function(){function t(t){var n=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var e=t.type;n._triggerEvent(e,t)},this._onDocumentMove=function(t){if(n.canvas.get(\"el\")!==t.target&&(n.dragging||n.currentShape)){var e=n._getPointInfo(t);n.dragging&&n._emitEvent(\"drag\",t,e,n.draggingShape)}},this._onDocumentMouseUp=function(t){if(n.canvas.get(\"el\")!==t.target&&n.dragging){var e=n._getPointInfo(t);n.draggingShape&&n._emitEvent(\"drop\",t,e,null),n._emitEvent(\"dragend\",t,e,n.draggingShape),n._afterDrag(n.draggingShape,e,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,n=this.canvas.get(\"el\");a.each(i,(function(e){n.addEventListener(e,t._eventCallback)})),document&&(document.addEventListener(\"mousemove\",this._onDocumentMove),document.addEventListener(\"mouseup\",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,n=this.canvas.get(\"el\");a.each(i,(function(e){n.removeEventListener(e,t._eventCallback)})),document&&(document.removeEventListener(\"mousemove\",this._onDocumentMove),document.removeEventListener(\"mouseup\",this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,n,e,a,i,o){var u=new r.default(t,n);return u.fromShape=i,u.toShape=o,u.x=e.x,u.y=e.y,u.clientX=e.clientX,u.clientY=e.clientY,u.propagationPath.push(a),u},t.prototype._getShape=function(t,n){return this.canvas.getShape(t.x,t.y,n)},t.prototype._getPointInfo=function(t){var n,e,r=this.canvas,a=(e=n=t,n.touches&&(e=\"touchend\"===n.type?n.changedTouches[0]:n.touches[0]),{clientX:e.clientX,clientY:e.clientY}),i=r.getPointByClient(a.clientX,a.clientY);return{x:i.x,y:i.y,clientX:a.clientX,clientY:a.clientY}},t.prototype._triggerEvent=function(t,n){var e=this._getPointInfo(n),r=this._getShape(e,n),a=this[\"_on\"+t],i=!1;if(a)a.call(this,e,r,n);else{var o=this.currentShape;\"mouseenter\"===t||\"dragenter\"===t||\"mouseover\"===t?(this._emitEvent(t,n,e,null,null,r),r&&this._emitEvent(t,n,e,r,null,r),\"mouseenter\"===t&&this.draggingShape&&this._emitEvent(\"dragenter\",n,e,null)):\"mouseleave\"===t||\"dragleave\"===t||\"mouseout\"===t?(i=!0,o&&this._emitEvent(t,n,e,o,o,null),this._emitEvent(t,n,e,null,o,null),\"mouseleave\"===t&&this.draggingShape&&this._emitEvent(\"dragleave\",n,e,null)):this._emitEvent(t,n,e,r,null,null)}if(i||(this.currentShape=r),r&&!r.get(\"destroyed\")){var u=this.canvas;u.get(\"el\").style.cursor=r.attr(\"cursor\")||u.get(\"cursor\")}},t.prototype._onmousedown=function(t,n,e){0===e.button&&(this.mousedownShape=n,this.mousedownPoint=t,this.mousedownTimeStamp=e.timeStamp),this._emitEvent(\"mousedown\",e,t,n,null,null)},t.prototype._emitMouseoverEvents=function(t,n,e,r){var a=this.canvas.get(\"el\");e!==r&&(e&&(this._emitEvent(\"mouseout\",t,n,e,e,r),this._emitEvent(\"mouseleave\",t,n,e,e,r),r&&!r.get(\"destroyed\")||(a.style.cursor=this.canvas.get(\"cursor\"))),r&&(this._emitEvent(\"mouseover\",t,n,r,e,r),this._emitEvent(\"mouseenter\",t,n,r,e,r)))},t.prototype._emitDragoverEvents=function(t,n,e,r,a){r?(r!==e&&(e&&this._emitEvent(\"dragleave\",t,n,e,e,r),this._emitEvent(\"dragenter\",t,n,r,e,r)),a||this._emitEvent(\"dragover\",t,n,r)):e&&this._emitEvent(\"dragleave\",t,n,e,e,r),a&&this._emitEvent(\"dragover\",t,n,r)},t.prototype._afterDrag=function(t,n,e){t&&(t.set(\"capture\",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(n,e);r!==t&&this._emitMouseoverEvents(e,n,t,r),this.currentShape=r},t.prototype._onmouseup=function(t,n,e){if(0===e.button){var r=this.draggingShape;this.dragging?(r&&this._emitEvent(\"drop\",e,t,n),this._emitEvent(\"dragend\",e,t,r),this._afterDrag(r,t,e)):(this._emitEvent(\"mouseup\",e,t,n),n===this.mousedownShape&&this._emitEvent(\"click\",e,t,n),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,n,e){e.preventDefault();var r=this.currentShape;this._emitDragoverEvents(e,t,r,n,!0)},t.prototype._onmousemove=function(t,n,e){var r=this.canvas,a=this.currentShape,i=this.draggingShape;if(this.dragging)i&&this._emitDragoverEvents(e,t,a,n,!1),this._emitEvent(\"drag\",e,t,i);else{var o=this.mousedownPoint;if(o){var u=this.mousedownShape,s=e.timeStamp-this.mousedownTimeStamp,c=o.clientX-t.clientX,l=o.clientY-t.clientY;s>120||c*c+l*l>40?u&&u.get(\"draggable\")?((i=this.mousedownShape).set(\"capture\",!1),this.draggingShape=i,this.dragging=!0,this._emitEvent(\"dragstart\",e,t,i),this.mousedownShape=null,this.mousedownPoint=null):!u&&r.get(\"draggable\")?(this.dragging=!0,this._emitEvent(\"dragstart\",e,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(e,t,a,n),this._emitEvent(\"mousemove\",e,t,n)):(this._emitMouseoverEvents(e,t,a,n),this._emitEvent(\"mousemove\",e,t,n))}else this._emitMouseoverEvents(e,t,a,n),this._emitEvent(\"mousemove\",e,t,n)}},t.prototype._emitEvent=function(t,n,e,r,a,i){var s=this._getEventObj(t,n,e,r,a,i);if(r){s.shape=r,o(r,t,s);for(var c=r.getParent();c;)c.emitDelegation(t,s),s.propagationStopped||u(c,t,s),s.propagationPath.push(c),c=c.getParent()}else o(this.canvas,t,s)},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}();n.default=s},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=function(){function t(t,n){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=n,this.timeStamp=n.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return\"[Event (type=\"+this.type+\")]\"},t.prototype.save=function(){},t.prototype.restore=function(){},t}();n.default=r}])}}]);"}