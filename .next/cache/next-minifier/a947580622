{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{\"/OH1\":function(t,e,i){\"use strict\";var n;Object.defineProperty(e,\"__esModule\",{value:!0});var o=i(\"CtsN\"),r=i(\"nkna\");e.default=((n={})[\"\"+r.CONTAINER_CLASS]={position:\"absolute\",visibility:\"visible\",zIndex:8,transition:\"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)\",backgroundColor:\"rgba(255, 255, 255, 0.9)\",boxShadow:\"0px 0px 10px #aeaeae\",borderRadius:\"3px\",color:\"rgb(87, 87, 87)\",fontSize:\"12px\",fontFamily:o.default.fontFamily,lineHeight:\"20px\",padding:\"10px 10px 6px 10px\"},n[\"\"+r.TITLE_CLASS]={marginBottom:\"4px\"},n[\"\"+r.LIST_CLASS]={margin:0,listStyleType:\"none\",padding:0},n[\"\"+r.LIST_ITEM_CLASS]={listStyleType:\"none\",marginBottom:\"4px\"},n[\"\"+r.MARKER_CLASS]={width:\"8px\",height:\"8px\",borderRadius:\"50%\",display:\"inline-block\",marginRight:\"8px\"},n[\"\"+r.VALUE_CLASS]={display:\"inline-block\",float:\"right\",marginLeft:\"30px\"},n[\"\"+r.CROSSHAIR_X]={position:\"absolute\",width:\"1px\",backgroundColor:\"rgba(0, 0, 0, 0.25)\"},n[\"\"+r.CROSSHAIR_Y]={position:\"absolute\",height:\"1px\",backgroundColor:\"rgba(0, 0, 0, 0.25)\"},n)},\"3wFy\":function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.default=function(t,e){return(t%e+e)%e}},\"5shK\":function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=i(\"mrSG\"),o=i(\"iTfj\"),r=i(\"D+Hr\"),a=i(\"jk/P\"),s=i(\"O4U/\"),l=i(\"rDfp\"),c=[\"visible\",\"tip\",\"delegateObject\"],u=[\"container\",\"group\",\"shapesMap\",\"isRegister\",\"isUpdating\",\"destroyed\"],h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return n.__assign(n.__assign({},e),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},e.prototype.remove=function(){this.clear(),this.get(\"group\").remove()},e.prototype.clear=function(){this.get(\"group\").clear(),this.set(\"shapesMap\",{}),this.clearOffScreenCache(),this.set(\"isInit\",!0)},e.prototype.getChildComponentById=function(t){var e=this.getElementById(t);return e&&e.get(\"component\")},e.prototype.getElementById=function(t){return this.get(\"shapesMap\")[t]},e.prototype.getElementByLocalId=function(t){var e=this.getElementId(t);return this.getElementById(e)},e.prototype.getElementsByName=function(t){var e=[];return o.each(this.get(\"shapesMap\"),(function(i){i.get(\"name\")===t&&e.push(i)})),e},e.prototype.getContainer=function(){return this.get(\"container\")},e.prototype.update=function(e){t.prototype.update.call(this,e),this.offScreenRender(),this.get(\"updateAutoRender\")&&this.render()},e.prototype.render=function(){var t=this.get(\"offScreenGroup\");t||(t=this.offScreenRender());var e=this.get(\"group\");this.updateElements(t,e),this.deleteElements(),this.applyOffset(),this.get(\"eventInitted\")||(this.initEvent(),this.set(\"eventInitted\",!0)),this.set(\"isInit\",!1)},e.prototype.show=function(){this.get(\"group\").show(),this.set(\"visible\",!0)},e.prototype.hide=function(){this.get(\"group\").hide(),this.set(\"visible\",!1)},e.prototype.destroy=function(){this.removeEvent(),this.remove(),t.prototype.destroy.call(this)},e.prototype.getBBox=function(){return this.get(\"group\").getCanvasBBox()},e.prototype.getLayoutBBox=function(){var t=this.get(\"group\"),e=this.getInnerLayoutBBox(),i=t.getTotalMatrix();return i&&(e=a.applyMatrix2BBox(i,e)),e},e.prototype.on=function(t,e,i){return this.get(\"group\").on(t,e,i),this},e.prototype.off=function(t,e){var i=this.get(\"group\");return i&&i.off(t,e),this},e.prototype.emit=function(t,e){this.get(\"group\").emit(t,e)},e.prototype.init=function(){t.prototype.init.call(this),this.get(\"group\")||this.initGroup(),this.offScreenRender()},e.prototype.getInnerLayoutBBox=function(){return this.get(\"offScreenBBox\")||this.get(\"group\").getBBox()},e.prototype.delegateEmit=function(t,e){var i=this.get(\"group\");e.target=i,i.emit(t,e),r.propagationDelegate(i,t,e)},e.prototype.createOffScreenGroup=function(){return new(this.get(\"group\").getGroupBase())({delegateObject:this.getDelegateObject()})},e.prototype.applyOffset=function(){var t=this.get(\"offsetX\"),e=this.get(\"offsetY\");this.moveElementTo(this.get(\"group\"),{x:t,y:e})},e.prototype.initGroup=function(){var t=this.get(\"container\");this.set(\"group\",t.addGroup({id:this.get(\"id\"),name:this.get(\"name\"),capture:this.get(\"capture\"),visible:this.get(\"visible\"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},e.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set(\"offScreenGroup\",t),this.set(\"offScreenBBox\",s.getBBoxWithClip(t)),t},e.prototype.addGroup=function(t,e){this.appendDelegateObject(t,e);var i=t.addGroup(e);return this.get(\"isRegister\")&&this.registerElement(i),i},e.prototype.addShape=function(t,e){this.appendDelegateObject(t,e);var i=t.addShape(e);return this.get(\"isRegister\")&&this.registerElement(i),i},e.prototype.addComponent=function(t,e){var i=e.id,o=e.component,r=n.__rest(e,[\"id\",\"component\"]),a=new o(n.__assign(n.__assign({},r),{id:i,container:t,updateAutoRender:this.get(\"updateAutoRender\")}));return a.init(),a.render(),this.get(\"isRegister\")&&this.registerElement(a.get(\"group\")),a},e.prototype.initEvent=function(){},e.prototype.removeEvent=function(){this.get(\"group\").off()},e.prototype.getElementId=function(t){return this.get(\"id\")+\"-\"+this.get(\"name\")+\"-\"+t},e.prototype.registerElement=function(t){var e=t.get(\"id\");this.get(\"shapesMap\")[e]=t},e.prototype.unregisterElement=function(t){var e=t.get(\"id\");delete this.get(\"shapesMap\")[e]},e.prototype.moveElementTo=function(t,e){var i=a.getMatrixByTranslate(e);t.attr(\"matrix\",i)},e.prototype.addAnimation=function(t,e,i){var n=e.attr(\"opacity\");o.isNil(n)&&(n=1),e.attr(\"opacity\",0),e.animate({opacity:n},i)},e.prototype.removeAnimation=function(t,e,i){e.animate({opacity:0},i)},e.prototype.updateAnimation=function(t,e,i,n){e.animate(i,n)},e.prototype.updateElements=function(t,e){var i,n=this,r=this.get(\"animate\"),a=this.get(\"animateOption\"),l=t.getChildren().slice(0);o.each(l,(function(t){var l=t.get(\"id\"),h=n.getElementById(l),p=t.get(\"name\");if(h)if(t.get(\"isComponent\")){var f=t.get(\"component\"),d=h.get(\"component\"),g=o.pick(f.cfg,o.difference(o.keys(f.cfg),u));d.update(g),h.set(\"update_status\",\"update\")}else{var y=n.getReplaceAttrs(h,t);r&&a.update?n.updateAnimation(p,h,y,a.update):h.attr(y),t.isGroup()&&n.updateElements(t,h),o.each(c,(function(e){h.set(e,t.get(e))})),s.updateClip(h,t),i=h,h.set(\"update_status\",\"update\")}else{e.add(t);var m=e.getChildren();if(m.splice(m.length-1,1),i){var v=m.indexOf(i);m.splice(v+1,0,t)}else m.unshift(t);if(n.registerElement(t),t.set(\"update_status\",\"add\"),t.get(\"isComponent\"))(f=t.get(\"component\")).set(\"container\",e);else t.isGroup()&&n.registerNewGroup(t);if(i=t,r){var b=n.get(\"isInit\")?a.appear:a.enter;b&&n.addAnimation(p,t,b)}}}))},e.prototype.clearUpdateStatus=function(t){var e=t.getChildren();o.each(e,(function(t){t.set(\"update_status\",null)}))},e.prototype.clearOffScreenCache=function(){var t=this.get(\"offScreenGroup\");t&&t.destroy(),this.set(\"offScreenGroup\",null),this.set(\"offScreenBBox\",null)},e.prototype.getDelegateObject=function(){var t;return(t={})[this.get(\"name\")]=this,t.component=this,t},e.prototype.appendDelegateObject=function(t,e){var i=t.get(\"delegateObject\");e.delegateObject||(e.delegateObject={}),o.mix(e.delegateObject,i)},e.prototype.getReplaceAttrs=function(t,e){var i=t.attr(),n=e.attr();return o.each(i,(function(t,e){void 0===n[e]&&(n[e]=void 0)})),n},e.prototype.registerNewGroup=function(t){var e=this,i=t.getChildren();o.each(i,(function(t){e.registerElement(t),t.set(\"update_status\",\"add\"),t.isGroup()&&e.registerNewGroup(t)}))},e.prototype.deleteElements=function(){var t=this,e=this.get(\"shapesMap\"),i=[];o.each(e,(function(t,e){!t.get(\"update_status\")||t.destroyed?i.push([e,t]):t.set(\"update_status\",null)}));var n=this.get(\"animate\"),r=this.get(\"animateOption\");o.each(i,(function(i){var a=i[0],s=i[1];if(!s.destroyed){var l=s.get(\"name\");if(n&&r.leave){var c=o.mix({callback:function(){t.removeElement(s)}},r.leave);t.removeAnimation(l,s,c)}else t.removeElement(s)}delete e[a]}))},e.prototype.removeElement=function(t){if(t.get(\"isGroup\")){var e=t.get(\"component\");e&&e.destroy()}t.remove()},e}(l.default);e.default=h},\"6JdA\":function(t,e,i){\"use strict\";i.r(e);var n=i(\"bH/o\");n.translate=function(t,e,i){var o=new Array(9);return n.fromTranslation(o,i),n.multiply(t,o,e)},n.rotate=function(t,e,i){var o=new Array(9);return n.fromRotation(o,i),n.multiply(t,o,e)},n.scale=function(t,e,i){var o=new Array(9);return n.fromScaling(o,i),n.multiply(t,o,e)},n.transform=function(t,e){for(var i=[].concat(t),o=0,r=e.length;o<r;o++){var a=e[o];switch(a[0]){case\"t\":n.translate(i,i,[a[1],a[2]]);break;case\"s\":n.scale(i,i,[a[1],a[2]]);break;case\"r\":n.rotate(i,i,a[1])}}return i};var o=n,r=i(\"WDCu\"),a=i(\"iTfj\");r.angle=function(t,e){var i=r.dot(t,e)/(r.length(t)*r.length(e));return Math.acos(Object(a.clamp)(i,-1,1))},r.direction=function(t,e){return t[0]*e[1]-e[0]*t[1]},r.angleTo=function(t,e,i){var n=r.angle(t,e),o=r.direction(t,e)>=0;return i?o?2*Math.PI-n:n:o?n:2*Math.PI-n},r.vertical=function(t,e,i){return i?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t};var s=r,l=i(\"knIs\"),c=function(t,e){var i=t?Object(a.clone)(t):[1,0,0,0,1,0,0,0,1];return Object(a.each)(e,(function(t){switch(t[0]){case\"t\":o.translate(i,i,[t[1],t[2]]);break;case\"s\":o.scale(i,i,[t[1],t[2]]);break;case\"r\":o.rotate(i,i,t[1]);break;case\"m\":o.multiply(i,i,t[1]);break;default:return!1}})),i};i.d(e,\"mat3\",(function(){return o})),i.d(e,\"vec2\",(function(){return s})),i.d(e,\"vec3\",(function(){return l})),i.d(e,\"transform\",(function(){return c}))},\"6UX8\":function(t,e,i){\"use strict\";i.r(e);var n=i(\"iTfj\"),o=/rgba?\\(([\\s.,0-9]+)\\)/,r=/^l\\s*\\(\\s*([\\d.]+)\\s*\\)\\s*(.*)/i,a=/^r\\s*\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*\\)\\s*(.*)/i,s=/[\\d.]+:(#[^\\s]+|[^\\)]+\\))/gi,l=function(t,e,i,n){return t[n]+(e[n]-t[n])*i};function c(t){return\"#\"+p(t[0])+p(t[1])+p(t[2])}var u,h=function(t){return[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)]},p=function(t){var e=Math.round(t).toString(16);return 1===e.length?\"0\"+e:e},f=function(t){if(\"#\"===t[0]&&7===t.length)return t;u||(u=function(){var t=document.createElement(\"i\");return t.title=\"Web Colour Picker\",t.style.display=\"none\",document.body.appendChild(t),t}()),u.style.color=t;var e=document.defaultView.getComputedStyle(u,\"\").getPropertyValue(\"color\");return e=c(o.exec(e)[1].split(/\\s*,\\s*/).map((function(t){return Number(t)})))};e.default={rgb2arr:h,gradient:function(t){var e=Object(n.isString)(t)?t.split(\"-\"):t,i=Object(n.map)(e,(function(t){return h(-1===t.indexOf(\"#\")?f(t):t)}));return function(t){return function(t,e){var i=isNaN(Number(e))||e<0?0:e>1?1:Number(e),n=t.length-1,o=Math.floor(n*i),r=n*i-o,a=t[o],s=o===n?a:t[o+1];return c([l(a,s,r,0),l(a,s,r,1),l(a,s,r,2)])}(i,t)}},toRGB:Object(n.memoize)(f),toCSSGradient:function(t){if(/^[r,R,L,l]{1}[\\s]*\\(/.test(t)){var e,i=void 0;if(\"l\"===t[0]){var o=+(l=r.exec(t))[1]+90;i=l[2],e=\"linear-gradient(\"+o+\"deg, \"}else if(\"r\"===t[0]){var l;e=\"radial-gradient(\",i=(l=a.exec(t))[4]}var c=i.match(s);return Object(n.each)(c,(function(t,i){var n=t.split(\":\");e+=n[1]+\" \"+100*n[0]+\"%\",i!==c.length-1&&(e+=\", \")})),e+=\")\"}return t}}},\"8CVh\":function(t,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/performance\",function(){return i(\"NE9F\")}])},\"9f2G\":function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=i(\"mrSG\"),o=i(\"iTfj\"),r=i(\"yLks\"),a=i(\"sB4O\");e.DEFAULT_ANIMATE_CFG={appear:{duration:450,easing:\"easeQuadOut\"},update:{duration:400,easing:\"easeQuadInOut\"},enter:{duration:400,easing:\"easeQuadInOut\"},leave:{duration:350,easing:\"easeQuadIn\"}};var s={interval:function(t){return{enter:{animation:t.isRect?t.isTransposed?\"scale-in-x\":\"scale-in-y\":\"fade-in\"},update:{animation:t.isPolar&&t.isTransposed?\"sector-path-update\":null},leave:{animation:\"fade-out\"}}},line:{enter:{animation:\"fade-in\"},leave:{animation:\"fade-out\"}},path:{enter:{animation:\"fade-in\"},leave:{animation:\"fade-out\"}},point:{appear:{animation:\"zoom-in\"},enter:{animation:\"zoom-in\"},leave:{animation:\"zoom-out\"}},area:{enter:{animation:\"fade-in\"},leave:{animation:\"fade-out\"}},polygon:{enter:{animation:\"fade-in\"},leave:{animation:\"fade-out\"}},schema:{enter:{animation:\"fade-in\"},leave:{animation:\"fade-out\"}},edge:{enter:{animation:\"fade-in\"},leave:{animation:\"fade-out\"}},label:{appear:{animation:\"fade-in\",delay:450},enter:{animation:\"fade-in\"},update:{animation:\"position-update\"},leave:{animation:\"fade-out\"}}},l={line:function(){return{animation:\"wave-in\"}},area:function(){return{animation:\"wave-in\"}},path:function(){return{animation:\"fade-in\"}},interval:function(t){var e;return t.isRect?e=t.isTransposed?\"grow-in-x\":\"grow-in-y\":(e=\"grow-in-xy\",t.isPolar&&t.isTransposed&&(e=\"wave-in\")),{animation:e}},schema:function(t){return{animation:t.isRect?t.isTransposed?\"grow-in-x\":\"grow-in-y\":\"grow-in-xy\"}},polygon:function(){return{animation:\"fade-in\",duration:500}},edge:function(){return{animation:\"fade-in\"}}};e.getDefaultAnimateCfg=function(t,i,n){var r=s[t];return r&&(o.isFunction(r)&&(r=r(i)),r=o.deepMix({},e.DEFAULT_ANIMATE_CFG,r),n)?r[n]:r},e.doAnimate=function(t,e,i){var n=o.get(t.get(\"origin\"),\"data\",r.FIELD_ORIGIN),s=e.animation,l=function(t,e){return{delay:o.isFunction(t.delay)?t.delay(e):t.delay,easing:o.isFunction(t.easing)?t.easing(e):t.easing,duration:o.isFunction(t.duration)?t.duration(e):t.duration,callback:t.callback}}(e,n);if(s){var c=a.getAnimation(s);c&&c(t,l,i)}else t.animate(i.toAttrs,l)},e.doGroupAppearAnimate=function(t,i,r,s,c){if(l[r]){var u=l[r](s),h=a.getAnimation(o.get(u,\"animation\",\"\"));if(h){var p=n.__assign(n.__assign(n.__assign({},e.DEFAULT_ANIMATE_CFG.appear),u),i);t.stopAnimate(),h(t,p,{coordinate:s,minYPoint:c,toAttrs:null})}}}},Afl5:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=i(\"vYtJ\");e.default=function(t){return Array.isArray?Array.isArray(t):n.default(t,\"Array\")}},\"AmJ+\":function(t,e,i){\"use strict\";function n(t,e,i,n,o){return{left:t<o.x,right:t+i>o.x+o.width,top:e<o.y,bottom:e+n>o.y+o.height}}function o(t,e,i,n,o,r){var a=t,s=e;switch(r){case\"left\":a=t-n-i,s=e-o/2;break;case\"right\":a=t+i,s=e-o/2;break;case\"top\":a=t-n/2,s=e-o-i;break;default:a=t-n/2,s=e+i}return{x:a,y:s}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.getOutSides=n,e.getPointByPosition=o,e.getAlignPoint=function(t,e,i,r,a,s,l){var c=o(t,e,i,r,a,s);if(l){var u=n(c.x,c.y,r,a,l);\"top\"===s||\"bottom\"===s?(u.left&&(c.x=l.x),u.right&&(c.x=l.x+l.width-r),\"top\"===s&&u.top&&(c.y=e+i),\"bottom\"===s&&u.bottom&&(c.y=e-a-i)):(u.top&&(c.y=l.y),u.bottom&&(c.y=l.y+l.height-a),\"left\"===s&&u.left&&(c.x=t+i),\"right\"===s&&u.right&&(c.x=t-r-i))}return c}},Bu9b:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.default=function(t){return\"object\"===typeof t&&null!==t}},CtsN:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default={fontFamily:'\\n  \"-apple-system\", BlinkMacSystemFont, \"Segoe UI\", Roboto,\"Helvetica Neue\",\\n  Helvetica, \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\",\\n  SimSun, \"sans-serif\"',textColor:\"#2C3542\",activeTextColor:\"#333333\",uncheckedColor:\"#D8D8D8\",lineColor:\"#416180\",regionColor:\"#CCD7EB\",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},\"D+Hr\":function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=i(\"kzId\");e.propagationDelegate=function(t,e,i){var o=new n.default(e,i);o.target=t,o.propagationPath.push(t),t.emitDelegation(e,o);for(var r=t.getParent();r;)r.emitDelegation(e,o),o.propagationPath.push(r),r=r.getParent()}},Gd02:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=function(){function t(){this._events={}}return t.prototype.on=function(t,e,i){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!i}),this},t.prototype.once=function(t,e){return this.on(t,e,!0),this},t.prototype.emit=function(t){for(var e=this,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o=this._events[t]||[],r=this._events[\"*\"]||[],a=function(n){for(var o=n.length,r=0;r<o;r++){var a=n[r],s=a.callback;a.once&&(n.splice(r,1),0===n.length&&delete e._events[t],o--,r--),s.apply(e,i)}};a(o),a(r)},t.prototype.off=function(t,e){if(t)if(e){for(var i=this._events[t]||[],n=i.length,o=0;o<n;o++)i[o].callback===e&&(i.splice(o,1),n--,o--);0===i.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}();e.default=n},IEcg:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=i(\"vYtJ\");e.default=function(t){return n.default(t,\"Function\")}},KPlw:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.default=function(t){return null===t||void 0===t}},KjeG:function(t){t.exports=JSON.parse('{\"name\":\"@antv/g-base\",\"version\":\"0.3.29\",\"description\":\"A common util collection for antv projects\",\"main\":\"lib/index.js\",\"module\":\"esm/index.js\",\"types\":\"lib/index.d.ts\",\"files\":[\"package.json\",\"esm\",\"lib\",\"LICENSE\",\"README.md\"],\"scripts\":{\"build\":\"npm run clean && run-p build:*\",\"build:esm\":\"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm\",\"build:cjs\":\"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib\",\"clean\":\"rm -rf esm lib\",\"watch:cjs\":\"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc\",\"coverage\":\"npm run coverage-generator && npm run coverage-viewer\",\"coverage-generator\":\"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts\",\"coverage-viewer\":\"torch-coverage\",\"test\":\"torch --renderer --compile --opts tests/mocha.opts\",\"test-live\":\"torch --compile --interactive --opts tests/mocha.opts\",\"tsc\":\"tsc --noEmit\",\"typecheck\":\"tsc --noEmit\"},\"repository\":{\"type\":\"git\",\"url\":\"git+https://github.com/antvis/util.git\"},\"keywords\":[\"util\",\"antv\",\"g\"],\"publishConfig\":{\"access\":\"public\"},\"author\":\"https://github.com/orgs/antvis/people\",\"license\":\"ISC\",\"bugs\":{\"url\":\"https://github.com/antvis/util/issues\"},\"devDependencies\":{\"@antv/gl-matrix\":\"~2.7.1\",\"@antv/torch\":\"^1.0.0\",\"less\":\"^3.9.0\",\"npm-run-all\":\"^4.1.5\",\"tsc-watch\":\"^4.0.0\"},\"homepage\":\"https://github.com/antvis/util#readme\",\"dependencies\":{\"@antv/event-emitter\":\"^0.1.1\",\"@antv/g-math\":\"^0.1.1\",\"@antv/matrix-util\":\"^2.0.4\",\"@antv/path-util\":\"~2.0.5\",\"@antv/util\":\"~2.0.0\",\"@types/d3-timer\":\"^1.0.9\",\"d3-ease\":\"^1.0.5\",\"d3-interpolate\":\"^1.3.2\",\"d3-timer\":\"^1.0.9\"},\"__npminstall_done\":false,\"gitHead\":\"11c566cefb2b10a1a6ecc342cf29b8f8f0706008\"}')},N1Pg:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=Math.PI/180;e.default=function(t){return n*t}},NE9F:function(t,e,i){\"use strict\";i.r(e);var n=i(\"hfKm\"),o=i.n(n),r=i(\"2Eek\"),a=i.n(r),s=i(\"XoMD\"),l=i.n(s),c=i(\"Jo+v\"),u=i.n(c),h=i(\"4mXO\"),p=i.n(h),f=i(\"pLtp\"),d=i.n(f),g=(i(\"fwXI\"),i(\"CC+v\")),y=i.n(g),m=(i(\"hr7U\"),i(\"9xET\")),v=i.n(m),b=(i(\"fv9D\"),i(\"ZPTe\")),x=i.n(b),O=(i(\"MaXC\"),i(\"4IMT\")),j=i.n(O),M=(i(\"ek7I\"),i(\"FAat\")),w=i.n(M),_=i(\"ln6h\"),C=i.n(_),S=i(\"vYYK\"),k=i(\"MX0m\"),A=i.n(k),L=i(\"q1tI\"),B=i.n(L),D=i(\"/MKj\"),T=i(\"El3y\"),P=i(\"UzWI\"),I=B.a.createElement;var E=function(t){return I(\"div\",{id:\"wrapper\",onClick:function(){return t.onSelect(t.accountId,t.name)},className:\"jsx-80624705\"},I(\"div\",{className:\"jsx-80624705 name\"},t.name),I(\"div\",{className:\"jsx-80624705 id\"},t.accountId?t.accountId.replace(\"act_\",\"\"):\"\"),t.status?I(\"div\",{className:\"jsx-80624705 \"+\"_\".concat(t.status)},function(){switch(t.status){case 1:return\"ACTIVE\";case 2:return\"DISABLED\";case 3:return\"UNSETTLED\";case 7:return\"PENDING RISK REVIEW\";case 8:return\"PENDING SETTLEMENT\";case 9:return\"IN GRACE PERIOD\";case 100:return\"PENDING CLOSURE\";case 101:return\"CLOSED\";case 201:return\"ANY ACTIVE\";case 202:return\"ANY CLOSED\";default:return\"NONE\"}}()):\"\",I(A.a,{id:\"80624705\"},[\"#wrapper.jsx-80624705{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border:1px solid #ccc;border-radius:4px;padding:5px;cursor:pointer;}\",\".name.jsx-80624705{color:gray;font-weight:bold;}\",\"._1.jsx-80624705{color:green;}\",\"._2.jsx-80624705,._3.jsx-80624705,._7.jsx-80624705,._8.jsx-80624705,._9.jsx-80624705,._100.jsx-80624705,._101.jsx-80624705,._201.jsx-80624705,._202.jsx-80624705{color:red;}\"]))},F=function(t,e){return t.substring(0,e)},R=i(\"Mplf\"),Y=B.a.createElement;function N(t,e){var i=d()(t);if(p.a){var n=p()(t);e&&(n=n.filter((function(e){return u()(t,e).enumerable}))),i.push.apply(i,n)}return i}function z(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?N(Object(i),!0).forEach((function(e){Object(S.a)(t,e,i[e])})):l.a?a()(t,l()(i)):N(Object(i)).forEach((function(e){o()(t,e,u()(i,e))}))}return t}e.default=Object(D.b)((function(t){return{user:t.user.currentUser,fbId:t.user.fbToken.fbId}}))((function(t){var e=Object(L.useState)({accountModalVisible:!1,campaignModalVisible:!1,selectedRowKeys:null,pagingAccounts:{next:\"\",previous:\"\"},pagingCampaigns:{next:\"\",previous:\"\"},selectedAdAccount:{},selectedCampaign:{},selectedAdset:{},selectedAd:{},fetchingCampaigns:!1,fetchingAdsets:!1}),n=e[0],o=e[1],r=t.fbId,a=t.user;Object(L.useEffect)((function(){console.log(\"on browser\");var t=new(0,i(\"ma/q\").Column)(document.getElementById(\"chart\"),{data:T.a,xField:\"name\",yField:\"value\",padding:\"auto\",title:{visible:!0,text:\"Interest stats\"},forceFit:!0});console.log(\"el\",document.getElementById(\"chart\")),t.render()}),[]),Object(L.useEffect)((function(){n.accountModalVisible&&c()}),[n.accountModalVisible]),Object(L.useEffect)((function(){n.selectedAdAccount.id&&(s(!1,\"accountModalVisible\"),u())}),[n.selectedAdAccount]),Object(L.useEffect)((function(){n.selectedCampaign.id&&h()}),[n.selectedCampaign]),Object(L.useEffect)((function(){n.selectedAdset.id&&p()}),[n.selectedAdset]),Object(L.useEffect)((function(){n.selectedAd.id&&f()}),[n.selectedAd]);var s=function(t,e){o((function(i){return z({},i,Object(S.a)({},e,t))}))},l=function(t){o((function(e){return z({},e,{campaignModalVisible:t})}))},c=function(){var t;return C.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.accountModalVisible){e.next=7;break}return console.log(\"fetch ad accounts\"),e.next=4,C.a.awrap(Object(R.d)(r,a.xToken));case 4:t=e.sent,console.log(\"AD accoutns\",t),o((function(e){return z({},e,{adAccounts:t,pagingAccounts:{next:t.paging.next&&t.paging.next,previous:t.paging.previous&&t.paging.previous},selectedAdAccount:{},selectedCampaign:{},selectedAdset:{}})}));case 7:case\"end\":return e.stop()}}))},u=function(){var t,e;return C.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return o((function(t){return z({},t,{fetchingCampaigns:!0,selectedCampaign:{}})})),t=n.selectedAdAccount.id,i.next=4,C.a.awrap(Object(R.g)(t,a.xToken));case 4:e=i.sent,o((function(t){return z({},t,{campaigns:e,fetchingCampaigns:!1,pagingCampaigns:{next:e.paging&&e.paging.next,previous:e.paging&&e.paging.previous}})}));case 6:case\"end\":return i.stop()}}))},h=function(){var t,e;return C.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return o((function(t){return z({},t,{fetchingAdsets:!0,selectedAdset:{}})})),t=n.selectedCampaign.id,i.next=4,C.a.awrap(Object(R.f)(t,a.xToken));case 4:e=i.sent,console.log(\"sets\",e.data),o((function(t){return z({},t,{adsets:e,fetchingAdsets:!1})}));case 7:case\"end\":return i.stop()}}))},p=function(){var t,e;return C.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return o((function(t){return z({},t,{fetchingAds:!0})})),t=n.selectedAdset.id,i.next=4,C.a.awrap(Object(R.e)(t,a.xToken));case 4:e=i.sent,console.log(\"ads\",e),o((function(t){return z({},t,{ads:e,fetchingAds:!1})}));case 7:case\"end\":return i.stop()}}))},f=function(){var t,e;return C.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return o((function(t){return z({},t,{fetchingStats:!0})})),t=n.selectedAd.id,i.next=4,C.a.awrap(Object(R.h)(t,a.xToken));case 4:e=i.sent,console.log(\"stats\",e);case 6:case\"end\":return i.stop()}}))},d=function(t){var e;return C.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,C.a.awrap(Object(R.c)(t));case 2:e=i.sent,console.log(\"paginate\",e),o((function(t){return z({},t,{adAccounts:e,pagingAccounts:{next:e.paging&&e.paging.next,previous:e.paging&&e.paging.previous}})}));case 5:case\"end\":return i.stop()}}))},g=function(t){var e;return C.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,C.a.awrap(Object(R.c)(t));case 2:e=i.sent,console.log(\"paginate\",e),o((function(t){return z({},t,{campaigns:e,pagingCampaigns:{next:e.paging&&e.paging.next,previous:e.paging&&e.paging.previous}})}));case 5:case\"end\":return i.stop()}}))},m=function(t,e){o((function(i){return z({},i,{selectedAdAccount:{id:t,name:e}})}))},b=function(t,e){o((function(i){return z({},i,{selectedCampaign:{id:t,name:e},campaignModalVisible:!1})}))},O=w.a.Option,M=n.selectedRowKeys;return Y(\"div\",{id:\"performance\",className:\"jsx-290073997\"},Y(v.a,{gutter:16,style:{width:\"100%\"}},Y(x.a,{span:4},Y(\"div\",{className:\"jsx-290073997 selection\"},Y(\"div\",{className:\"jsx-290073997 button item\"},Y(j.a,{style:{textAlign:\"left\"},className:\"modalButtons\",onClick:function(){return s(!0,\"accountModalVisible\")},block:!0},n.selectedAdAccount.name?F(n.selectedAdAccount.name,30):\"Select Ad Account\")),Y(\"div\",{className:\"jsx-290073997 select item\"},Y(j.a,{style:{textAlign:\"left\"},onClick:function(){return l(!0)},block:!0,loading:n.fetchingCampaigns,disabled:!n.selectedAdAccount.name},n.selectedCampaign.name?F(n.selectedCampaign.name,30):\"Select Campaign\")),Y(\"div\",{className:\"jsx-290073997 select item\"},Y(w.a,{disabled:!n.selectedCampaign.name,value:n.selectedAdset.name?n.selectedAdset.name:\"Select Adset\",style:{width:\"100%\"},placeholder:\"Select Adset\",loading:n.fetchingAdsets,showSearch:!0,optionFilterProp:\"children\",onSelect:function(t,e){console.log(\"selected\",e.props.children),o((function(t){return z({},t,{selectedAdset:{id:e.props.value,name:e.props.children}})}))},filterOption:function(t,e){return e.props.children.toLowerCase().indexOf(t.toLowerCase())>=0}},n.adsets?n.adsets.data.map((function(t,e){return Y(O,{value:t.id,key:e},t.name)})):\"\")),Y(\"div\",{className:\"jsx-290073997 select item\"},Y(w.a,{disabled:!n.selectedAdset.name,style:{width:\"100%\"},value:n.selectedAd.name?n.selectedAd.name:\"Select Ad\",placeholder:\"Select ad\",showSearch:!0,optionFilterProp:\"children\",onSelect:function(t,e){o((function(t){return z({},t,{selectedAd:{id:e.props.value,name:e.props.children}})}))},filterOption:function(t,e){return e.props.children.toLowerCase().indexOf(t.toLowerCase())>=0}},n.ads?n.ads.data.map((function(t,e){return Y(O,{value:t.id,key:e},t.name)})):\"\")))),Y(x.a,{span:20},Y(\"div\",{className:\"jsx-290073997 stats\"},Y(\"div\",{id:\"chart\",className:\"jsx-290073997\"}),Y(\"div\",{className:\"jsx-290073997\"},Y(P.a,{columns:T.b,onSelection:function(t,e){console.log(\"rows\",e);var i=e.map((function(t){return t.name}));o((function(n){return z({},n,{selectedRowKeys:t,selectedInterest:i,selectedRows:e})}))},selectedRowKeys:M,className:\"table\"}))))),Y(y.a,{title:\"Select an Ad account\",centered:!0,visible:n.accountModalVisible,onOk:function(){return s(!1,\"accountModalVisible\")},onCancel:function(){return s(!1,\"accountModalVisible\")},okText:\"Next\",cancelText:\"Previous\",okButtonProps:{disabled:!n.pagingAccounts.next,onClick:function(){return d(n.pagingAccounts.next)}},cancelButtonProps:{disabled:!n.pagingAccounts.previous,onClick:function(){return d(n.pagingAccounts.previous)}},width:1300},Y(\"div\",{className:\"jsx-290073997 adAccounts\"},Y(\"div\",{className:\"jsx-290073997 inner\"},n.adAccounts?n.adAccounts.data.map((function(t,e){return Y(\"div\",{key:e,className:\"jsx-290073997 account\"},Y(E,{name:t.name,accountId:t.id,status:t.account_status,onSelect:m}))})):\"Loading...\"))),Y(y.a,{title:\"Select a campaign\",centered:!0,visible:n.campaignModalVisible,onOk:function(){return l(!1)},onCancel:function(){return l(!1)},okText:\"Next\",cancelText:\"Previous\",okButtonProps:{disabled:!n.pagingCampaigns.next,onClick:function(){return g(n.pagingCampaigns.next)}},cancelButtonProps:{disabled:!n.pagingCampaigns.previous,onClick:function(){return g(n.pagingCampaigns.previous)}},width:1300},Y(\"div\",{className:\"jsx-290073997 adAccounts\"},Y(\"div\",{className:\"jsx-290073997 inner\"},n.campaigns?n.campaigns.data.map((function(t,e){return Y(\"div\",{key:e,className:\"jsx-290073997 account\"},Y(E,{name:t.name,accountId:t.id,onSelect:b}))})):\"Loading...\"))),Y(A.a,{id:\"290073997\"},[\"#performance.jsx-290073997{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;margin-top:70px;width:100%;}\",\".selection.jsx-290073997{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border:1px solid #ccc;border-radius:4px;height:auto;padding:10px;}\",\".item.jsx-290073997{margin-bottom:30px;width:100%;}\",\".stats.jsx-290073997{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}\",\".adAccounts.jsx-290073997{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}\",\".adAccounts.jsx-290073997 .inner.jsx-290073997{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:90%;}\",\".account.jsx-290073997{min-width:20%;margin:10px;}\"]))}))},\"O4U/\":function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=i(\"iTfj\");function o(t,e,i,n){return{x:t,y:e,width:i,height:n,minX:t,minY:e,maxX:t+i,maxY:e+n}}function r(t,e){var i=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY);return o(i,n,Math.min(t.maxX,e.maxX)-i,Math.min(t.maxY,e.maxY)-n)}e.formatPadding=function(t){var e=0,i=0,o=0,r=0;return n.isNumber(t)?e=i=o=r=t:n.isArray(t)&&(e=t[0],o=n.isNil(t[1])?t[0]:t[1],r=n.isNil(t[2])?t[0]:t[2],i=n.isNil(t[3])?o:t[3]),[e,o,r,i]},e.clearDom=function(t){for(var e=t.childNodes,i=e.length-1;i>=0;i--)t.removeChild(e[i])},e.hasClass=function(t,e){return!!t.className.match(new RegExp(\"(\\\\s|^)\"+e+\"(\\\\s|$)\"))},e.regionToBBox=function(t){var e=t.start,i=t.end,n=Math.min(e.x,i.x),o=Math.min(e.y,i.y),r=Math.max(e.x,i.x),a=Math.max(e.y,i.y);return{x:n,y:o,minX:n,minY:o,maxX:r,maxY:a,width:r-n,height:a-o}},e.pointsToBBox=function(t){var e=t.map((function(t){return t.x})),i=t.map((function(t){return t.y})),n=Math.min.apply(Math,e),o=Math.min.apply(Math,i),r=Math.max.apply(Math,e),a=Math.max.apply(Math,i);return{x:n,y:o,minX:n,minY:o,maxX:r,maxY:a,width:r-n,height:a-o}},e.createBBox=o,e.getValueByPercent=function(t,e,i){return(1-i)*t+e*i},e.getCirclePoint=function(t,e,i){return{x:t.x+Math.cos(i)*e,y:t.y+Math.sin(i)*e}},e.distance=function(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)},e.wait=function(t){return new Promise((function(e){setTimeout(e,t)}))},e.near=function(t,e){return[t,e].includes(1/0)?Math.abs(t)===Math.abs(e):Math.abs(t-e)<Math.pow(Number.EPSILON,.5)},e.intersectBBox=r,e.mergeBBox=function(t,e){var i=Math.min(t.minX,e.minX),n=Math.min(t.minY,e.minY);return o(i,n,Math.max(t.maxX,e.maxX)-i,Math.max(t.maxY,e.maxY)-n)},e.getBBoxWithClip=function t(e){var i,a=e.getClip(),s=a&&a.getBBox();if(e.isGroup()){var l=1/0,c=-1/0,u=1/0,h=-1/0,p=e.getChildren();p.length>0?n.each(p,(function(e){if(e.get(\"visible\")){if(e.isGroup()&&0===e.get(\"children\").length)return!0;var i=t(e),n=e.applyToMatrix([i.minX,i.minY,1]),o=e.applyToMatrix([i.minX,i.maxY,1]),r=e.applyToMatrix([i.maxX,i.minY,1]),a=e.applyToMatrix([i.maxX,i.maxY,1]),s=Math.min(n[0],o[0],r[0],a[0]),p=Math.max(n[0],o[0],r[0],a[0]),f=Math.min(n[1],o[1],r[1],a[1]),d=Math.max(n[1],o[1],r[1],a[1]);s<l&&(l=s),p>c&&(c=p),f<u&&(u=f),d>h&&(h=d)}})):(l=0,c=0,u=0,h=0),i=o(l,u,c-l,h-u)}else i=e.getBBox();return s?r(i,s):i},e.updateClip=function(t,e){if(t.getClip()||e.getClip()){var i=e.getClip();if(i){var n={type:i.get(\"type\"),attrs:i.attr()};t.setClip(n)}else t.setClip(null)}}},PFw5:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=i(\"c54I\");e.default=function(t){var e=n.default(t);return e.charAt(0).toUpperCase()+e.substring(1)}},PXQu:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=i(\"mrSG\"),o=i(\"fW3x\"),r=i(\"fggK\");e.SHAPES=[\"circle\",\"square\",\"bowtie\",\"diamond\",\"hexagon\",\"triangle\",\"triangle-down\"],e.HOLLOW_SHAPES=[\"cross\",\"tick\",\"plus\",\"hyphen\",\"line\"],e.drawPoints=function(t,e,i,a,s){var l=r.getStyle(e,s,!s,\"r\"),c=t.parsePoints(e.points);if(c.length>1){for(var u=i.addGroup(),h=0,p=c;h<p.length;h++){var f=p[h];u.addShape({type:\"marker\",attrs:n.__assign(n.__assign(n.__assign({},l),{symbol:o.MarkerSymbols[a]||a}),f)})}return u}return i.addShape({type:\"marker\",attrs:n.__assign(n.__assign(n.__assign({},l),{symbol:o.MarkerSymbols[a]||a}),c[0])})}},UD5B:function(t,e,i){\"use strict\";function n(t,e){for(var i in e)e.hasOwnProperty(i)&&\"constructor\"!==i&&void 0!==e[i]&&(t[i]=e[i])}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e,i,o){return e&&n(t,e),i&&n(t,i),o&&n(t,o),t}},\"W42+\":function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.default=function(t){return null!==t&&\"function\"!==typeof t&&isFinite(t.length)}},WDCu:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=o,e.clone=function(t){var e=new n.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var i=new n.ARRAY_TYPE(2);return i[0]=t,i[1]=e,i},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,i){return t[0]=e,t[1]=i,t},e.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},e.subtract=r,e.multiply=a,e.divide=s,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t},e.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},e.scaleAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t},e.distance=l,e.squaredDistance=c,e.length=u,e.squaredLength=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var i=e[0],n=e[1],o=i*i+n*n;o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o);return t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,i){var n=e[0]*i[1]-e[1]*i[0];return t[0]=t[1]=0,t[2]=n,t},e.lerp=function(t,e,i,n){var o=e[0],r=e[1];return t[0]=o+n*(i[0]-o),t[1]=r+n*(i[1]-r),t},e.random=function(t,e){e=e||1;var i=2*n.RANDOM()*Math.PI;return t[0]=Math.cos(i)*e,t[1]=Math.sin(i)*e,t},e.transformMat2=function(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[2]*o,t[1]=i[1]*n+i[3]*o,t},e.transformMat2d=function(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[2]*o+i[4],t[1]=i[1]*n+i[3]*o+i[5],t},e.transformMat3=function(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[3]*o+i[6],t[1]=i[1]*n+i[4]*o+i[7],t},e.transformMat4=function(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[4]*o+i[12],t[1]=i[1]*n+i[5]*o+i[13],t},e.rotate=function(t,e,i,n){var o=e[0]-i[0],r=e[1]-i[1],a=Math.sin(n),s=Math.cos(n);return t[0]=o*s-r*a+i[0],t[1]=o*a+r*s+i[1],t},e.angle=function(t,e){var i=t[0],n=t[1],o=e[0],r=e[1],a=i*i+n*n;a>0&&(a=1/Math.sqrt(a));var s=o*o+r*r;s>0&&(s=1/Math.sqrt(s));var l=(i*o+n*r)*a*s;return l>1?0:l<-1?Math.PI:Math.acos(l)},e.str=function(t){return\"vec2(\"+t[0]+\", \"+t[1]+\")\"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var i=t[0],o=t[1],r=e[0],a=e[1];return Math.abs(i-r)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(r))&&Math.abs(o-a)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(a))};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(\"jWDG\"));function o(){var t=new n.ARRAY_TYPE(2);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function r(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function a(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t}function s(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t}function l(t,e){var i=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(i*i+n*n)}function c(t,e){var i=e[0]-t[0],n=e[1]-t[1];return i*i+n*n}function u(t){var e=t[0],i=t[1];return Math.sqrt(e*e+i*i)}function h(t){var e=t[0],i=t[1];return e*e+i*i}e.len=u,e.sub=r,e.mul=a,e.div=s,e.dist=l,e.sqrDist=c,e.sqrLen=h,e.forEach=function(){var t=o();return function(e,i,n,o,r,a){var s=void 0,l=void 0;for(i||(i=2),n||(n=0),l=o?Math.min(o*i+n,e.length):e.length,s=n;s<l;s+=i)t[0]=e[s],t[1]=e[s+1],r(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}()},Ydjw:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=i(\"vYtJ\");e.default=function(t){return n.default(t,\"String\")}},Zsql:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=i(\"mrSG\"),o=i(\"fIp6\"),r=i(\"iTfj\"),a=i(\"O4U/\"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return n.__assign(n.__assign({},e),{container:null,containerTpl:\"<div></div>\",updateAutoRender:!0,parent:null})},e.prototype.getContainer=function(){return this.get(\"container\")},e.prototype.show=function(){this.get(\"container\").style.display=\"\"},e.prototype.hide=function(){this.get(\"container\").style.display=\"none\"},e.prototype.getBBox=function(){var t=this.getContainer(),e=parseFloat(t.style.left)||0,i=parseFloat(t.style.top)||0;return a.createBBox(e,i,t.clientWidth,t.clientHeight)},e.prototype.clear=function(){var t=this.get(\"container\");a.clearDom(t)},e.prototype.destroy=function(){this.removeEvent(),this.removeDom(),t.prototype.destroy.call(this)},e.prototype.init=function(){t.prototype.init.call(this),this.initContainer(),this.initEvent(),this.initVisible()},e.prototype.initVisible=function(){this.get(\"visible\")?this.show():this.hide()},e.prototype.initContainer=function(){var t=this.get(\"container\");if(r.isNil(t)){t=this.createDom();var e=this.get(\"parent\");r.isString(e)&&(e=document.getElementById(e),this.set(\"parent\",e)),e.appendChild(t),this.set(\"container\",t)}else r.isString(t)&&(t=document.getElementById(t),this.set(\"container\",t));this.get(\"parent\")||this.set(\"parent\",t.parentNode)},e.prototype.createDom=function(){var t=this.get(\"containerTpl\");return o.createDom(t)},e.prototype.initEvent=function(){},e.prototype.removeDom=function(){var t=this.get(\"container\");t&&t.parentNode.removeChild(t)},e.prototype.removeEvent=function(){},e}(i(\"rDfp\").default);e.default=s},aFU3:function(t,e,i){\"use strict\";i.r(e);var n={};i.r(n),i.d(n,\"catmullRomToBezier\",(function(){return u})),i.d(n,\"fillPath\",(function(){return D})),i.d(n,\"fillPathByDiff\",(function(){return I})),i.d(n,\"formatPath\",(function(){return R})),i.d(n,\"intersection\",(function(){return A})),i.d(n,\"parsePathArray\",(function(){return v})),i.d(n,\"parsePathString\",(function(){return c})),i.d(n,\"pathToAbsolute\",(function(){return p})),i.d(n,\"pathToCurve\",(function(){return y})),i.d(n,\"rectPath\",(function(){return w}));var o={};i.r(o),i.d(o,\"easeLinear\",(function(){return It})),i.d(o,\"easeQuad\",(function(){return Rt})),i.d(o,\"easeQuadIn\",(function(){return Et})),i.d(o,\"easeQuadOut\",(function(){return Ft})),i.d(o,\"easeQuadInOut\",(function(){return Rt})),i.d(o,\"easeCubic\",(function(){return zt})),i.d(o,\"easeCubicIn\",(function(){return Yt})),i.d(o,\"easeCubicOut\",(function(){return Nt})),i.d(o,\"easeCubicInOut\",(function(){return zt})),i.d(o,\"easePoly\",(function(){return Gt})),i.d(o,\"easePolyIn\",(function(){return Ht})),i.d(o,\"easePolyOut\",(function(){return Xt})),i.d(o,\"easePolyInOut\",(function(){return Gt})),i.d(o,\"easeSin\",(function(){return $t})),i.d(o,\"easeSinIn\",(function(){return qt})),i.d(o,\"easeSinOut\",(function(){return Ut})),i.d(o,\"easeSinInOut\",(function(){return $t})),i.d(o,\"easeExp\",(function(){return Qt})),i.d(o,\"easeExpIn\",(function(){return Zt})),i.d(o,\"easeExpOut\",(function(){return Kt})),i.d(o,\"easeExpInOut\",(function(){return Qt})),i.d(o,\"easeCircle\",(function(){return ee})),i.d(o,\"easeCircleIn\",(function(){return Jt})),i.d(o,\"easeCircleOut\",(function(){return te})),i.d(o,\"easeCircleInOut\",(function(){return ee})),i.d(o,\"easeBounce\",(function(){return fe})),i.d(o,\"easeBounceIn\",(function(){return pe})),i.d(o,\"easeBounceOut\",(function(){return fe})),i.d(o,\"easeBounceInOut\",(function(){return de})),i.d(o,\"easeBack\",(function(){return me})),i.d(o,\"easeBackIn\",(function(){return ge})),i.d(o,\"easeBackOut\",(function(){return ye})),i.d(o,\"easeBackInOut\",(function(){return me})),i.d(o,\"easeElastic\",(function(){return xe})),i.d(o,\"easeElasticIn\",(function(){return be})),i.d(o,\"easeElasticOut\",(function(){return xe})),i.d(o,\"easeElasticInOut\",(function(){return Oe}));var r=i(\"iTfj\"),a=\"\\t\\n\\v\\f\\r \\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029\",s=new RegExp(\"([a-z])[\"+a+\",]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\"+a+\"]*,?[\"+a+\"]*)+)\",\"ig\"),l=new RegExp(\"(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[\"+a+\"]*,?[\"+a+\"]*\",\"ig\"),c=function(t){if(!t)return null;if(Object(r.isArray)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},i=[];return String(t).replace(s,(function(n,o,r){var a=[],s=o.toLowerCase();if(r.replace(l,(function(t,e){e&&a.push(+e)})),\"m\"===s&&a.length>2&&(i.push([o].concat(a.splice(0,2))),s=\"l\",o=\"m\"===o?\"l\":\"L\"),\"o\"===s&&1===a.length&&i.push([o,a[0]]),\"r\"===s)i.push([o].concat(a));else for(;a.length>=e[s]&&(i.push([o].concat(a.splice(0,e[s]))),e[s]););return t})),i},u=function(t,e){for(var i=[],n=0,o=t.length;o-2*!e>n;n+=2){var r=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?o-4===n?r[3]={x:+t[0],y:+t[1]}:o-2===n&&(r[2]={x:+t[0],y:+t[1]},r[3]={x:+t[2],y:+t[3]}):r[0]={x:+t[o-2],y:+t[o-1]}:o-4===n?r[3]=r[2]:n||(r[0]={x:+t[n],y:+t[n+1]}),i.push([\"C\",(-r[0].x+6*r[1].x+r[2].x)/6,(-r[0].y+6*r[1].y+r[2].y)/6,(r[1].x+6*r[2].x-r[3].x)/6,(r[1].y+6*r[2].y-r[3].y)/6,r[2].x,r[2].y])}return i},h=function(t,e,i,n,o){var r=[];if(null===o&&null===n&&(n=i),t=+t,e=+e,i=+i,n=+n,null!==o){var a=Math.PI/180,s=t+i*Math.cos(-n*a),l=t+i*Math.cos(-o*a);r=[[\"M\",s,e+i*Math.sin(-n*a)],[\"A\",i,i,0,+(o-n>180),0,l,e+i*Math.sin(-o*a)]]}else r=[[\"M\",t,e],[\"m\",0,-n],[\"a\",i,n,0,1,1,0,2*n],[\"a\",i,n,0,1,1,0,-2*n],[\"z\"]];return r},p=function(t){if(!(t=c(t))||!t.length)return[[\"M\",0,0]];var e,i,n=[],o=0,r=0,a=0,s=0,l=0;\"M\"===t[0][0]&&(a=o=+t[0][1],s=r=+t[0][2],l++,n[0]=[\"M\",o,r]);for(var p=3===t.length&&\"M\"===t[0][0]&&\"R\"===t[1][0].toUpperCase()&&\"Z\"===t[2][0].toUpperCase(),f=void 0,d=void 0,g=l,y=t.length;g<y;g++){if(n.push(f=[]),(e=(d=t[g])[0])!==e.toUpperCase())switch(f[0]=e.toUpperCase(),f[0]){case\"A\":f[1]=d[1],f[2]=d[2],f[3]=d[3],f[4]=d[4],f[5]=d[5],f[6]=+d[6]+o,f[7]=+d[7]+r;break;case\"V\":f[1]=+d[1]+r;break;case\"H\":f[1]=+d[1]+o;break;case\"R\":for(var m=2,v=(i=[o,r].concat(d.slice(1))).length;m<v;m++)i[m]=+i[m]+o,i[++m]=+i[m]+r;n.pop(),n=n.concat(u(i,p));break;case\"O\":n.pop(),(i=h(o,r,d[1],d[2])).push(i[0]),n=n.concat(i);break;case\"U\":n.pop(),n=n.concat(h(o,r,d[1],d[2],d[3])),f=[\"U\"].concat(n[n.length-1].slice(-2));break;case\"M\":a=+d[1]+o,s=+d[2]+r;break;default:for(m=1,v=d.length;m<v;m++)f[m]=+d[m]+(m%2?o:r)}else if(\"R\"===e)i=[o,r].concat(d.slice(1)),n.pop(),n=n.concat(u(i,p)),f=[\"R\"].concat(d.slice(-2));else if(\"O\"===e)n.pop(),(i=h(o,r,d[1],d[2])).push(i[0]),n=n.concat(i);else if(\"U\"===e)n.pop(),n=n.concat(h(o,r,d[1],d[2],d[3])),f=[\"U\"].concat(n[n.length-1].slice(-2));else for(var b=0,x=d.length;b<x;b++)f[b]=d[b];if(\"O\"!==(e=e.toUpperCase()))switch(f[0]){case\"Z\":o=+a,r=+s;break;case\"H\":o=f[1];break;case\"V\":r=f[1];break;case\"M\":a=f[f.length-2],s=f[f.length-1];break;default:o=f[f.length-2],r=f[f.length-1]}}return n},f=function(t,e,i,n){return[t,e,i,n,i,n]},d=function(t,e,i,n,o,r){return[1/3*t+2/3*i,1/3*e+2/3*n,1/3*o+2/3*i,1/3*r+2/3*n,o,r]},g=function(t,e,i,n,o,r,a,s,l,c){i===n&&(i+=1);var u,h,p,f,d,y=120*Math.PI/180,m=Math.PI/180*(+o||0),v=[],b=function(t,e,i){return{x:t*Math.cos(i)-e*Math.sin(i),y:t*Math.sin(i)+e*Math.cos(i)}};if(c)h=c[0],p=c[1],f=c[2],d=c[3];else{t=(u=b(t,e,-m)).x,e=u.y,s=(u=b(s,l,-m)).x,l=u.y,t===s&&e===l&&(s+=1,l+=1);var x=(t-s)/2,O=(e-l)/2,j=x*x/(i*i)+O*O/(n*n);j>1&&(i*=j=Math.sqrt(j),n*=j);var M=i*i,w=n*n,_=(r===a?-1:1)*Math.sqrt(Math.abs((M*w-M*O*O-w*x*x)/(M*O*O+w*x*x)));f=_*i*O/n+(t+s)/2,d=_*-n*x/i+(e+l)/2,h=Math.asin(((e-d)/n).toFixed(9)),p=Math.asin(((l-d)/n).toFixed(9)),h=t<f?Math.PI-h:h,p=s<f?Math.PI-p:p,h<0&&(h=2*Math.PI+h),p<0&&(p=2*Math.PI+p),a&&h>p&&(h-=2*Math.PI),!a&&p>h&&(p-=2*Math.PI)}var C=p-h;if(Math.abs(C)>y){var S=p,k=s,A=l;p=h+y*(a&&p>h?1:-1),s=f+i*Math.cos(p),l=d+n*Math.sin(p),v=g(s,l,i,n,o,0,a,k,A,[p,S,f,d])}C=p-h;var L=Math.cos(h),B=Math.sin(h),D=Math.cos(p),T=Math.sin(p),P=Math.tan(C/4),I=4/3*i*P,E=4/3*n*P,F=[t,e],R=[t+I*B,e-E*L],Y=[s+I*T,l-E*D],N=[s,l];if(R[0]=2*F[0]-R[0],R[1]=2*F[1]-R[1],c)return[R,Y,N].concat(v);for(var z=[],H=0,X=(v=[R,Y,N].concat(v).join().split(\",\")).length;H<X;H++)z[H]=H%2?b(v[H-1],v[H],m).y:b(v[H],v[H+1],m).x;return z},y=function(t,e){var i,n=p(t),o=e&&p(e),r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],l=[],c=\"\",u=\"\",h=function(t,e,i){var n,o;if(!t)return[\"C\",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case\"M\":e.X=t[1],e.Y=t[2];break;case\"A\":t=[\"C\"].concat(g.apply(0,[e.x,e.y].concat(t.slice(1))));break;case\"S\":\"C\"===i||\"S\"===i?(n=2*e.x-e.bx,o=2*e.y-e.by):(n=e.x,o=e.y),t=[\"C\",n,o].concat(t.slice(1));break;case\"T\":\"Q\"===i||\"T\"===i?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=[\"C\"].concat(d(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case\"Q\":e.qx=t[1],e.qy=t[2],t=[\"C\"].concat(d(e.x,e.y,t[1],t[2],t[3],t[4]));break;case\"L\":t=[\"C\"].concat(f(e.x,e.y,t[1],t[2]));break;case\"H\":t=[\"C\"].concat(f(e.x,e.y,t[1],e.y));break;case\"V\":t=[\"C\"].concat(f(e.x,e.y,e.x,t[1]));break;case\"Z\":t=[\"C\"].concat(f(e.x,e.y,e.X,e.Y))}return t},y=function(t,e){if(t[e].length>7){t[e].shift();for(var r=t[e];r.length;)s[e]=\"A\",o&&(l[e]=\"A\"),t.splice(e++,0,[\"C\"].concat(r.splice(0,6)));t.splice(e,1),i=Math.max(n.length,o&&o.length||0)}},m=function(t,e,r,a,s){t&&e&&\"M\"===t[s][0]&&\"M\"!==e[s][0]&&(e.splice(s,0,[\"M\",a.x,a.y]),r.bx=0,r.by=0,r.x=t[s][1],r.y=t[s][2],i=Math.max(n.length,o&&o.length||0))};i=Math.max(n.length,o&&o.length||0);for(var v=0;v<i;v++){n[v]&&(c=n[v][0]),\"C\"!==c&&(s[v]=c,v&&(u=s[v-1])),n[v]=h(n[v],r,u),\"A\"!==s[v]&&\"C\"===c&&(s[v]=\"C\"),y(n,v),o&&(o[v]&&(c=o[v][0]),\"C\"!==c&&(l[v]=c,v&&(u=l[v-1])),o[v]=h(o[v],a,u),\"A\"!==l[v]&&\"C\"===c&&(l[v]=\"C\"),y(o,v)),m(n,o,r,a,v),m(o,n,a,r,v);var b=n[v],x=o&&o[v],O=b.length,j=o&&x.length;r.x=b[O-2],r.y=b[O-1],r.bx=parseFloat(b[O-4])||r.x,r.by=parseFloat(b[O-3])||r.y,a.bx=o&&(parseFloat(x[j-4])||a.x),a.by=o&&(parseFloat(x[j-3])||a.y),a.x=o&&x[j-2],a.y=o&&x[j-1]}return o?[n,o]:n},m=/,?([a-z]),?/gi,v=function(t){return t.join(\",\").replace(m,\"$1\")},b=function(t,e,i,n,o){return t*(t*(-3*e+9*i-9*n+3*o)+6*e-12*i+6*n)-3*e+3*i},x=function(t,e,i,n,o,r,a,s,l){null===l&&(l=1);for(var c=(l=l>1?1:l<0?0:l)/2,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,f=0;f<12;f++){var d=c*u[f]+c,g=b(d,t,i,o,a),y=b(d,e,n,r,s),m=g*g+y*y;p+=h[f]*Math.sqrt(m)}return c*p},O=function(t,e,i,n,o,r,a,s){for(var l,c,u,h,p=[],f=[[],[]],d=0;d<2;++d)if(0===d?(c=6*t-12*i+6*o,l=-3*t+9*i-9*o+3*a,u=3*i-3*t):(c=6*e-12*n+6*r,l=-3*e+9*n-9*r+3*s,u=3*n-3*e),Math.abs(l)<1e-12){if(Math.abs(c)<1e-12)continue;(h=-u/c)>0&&h<1&&p.push(h)}else{var g=c*c-4*u*l,y=Math.sqrt(g);if(!(g<0)){var m=(-c+y)/(2*l);m>0&&m<1&&p.push(m);var v=(-c-y)/(2*l);v>0&&v<1&&p.push(v)}}for(var b,x=p.length,O=x;x--;)b=1-(h=p[x]),f[0][x]=b*b*b*t+3*b*b*h*i+3*b*h*h*o+h*h*h*a,f[1][x]=b*b*b*e+3*b*b*h*n+3*b*h*h*r+h*h*h*s;return f[0][O]=t,f[1][O]=e,f[0][O+1]=a,f[1][O+1]=s,f[0].length=f[1].length=O+2,{min:{x:Math.min.apply(0,f[0]),y:Math.min.apply(0,f[1])},max:{x:Math.max.apply(0,f[0]),y:Math.max.apply(0,f[1])}}},j=function(t,e,i,n,o,r,a,s){if(!(Math.max(t,i)<Math.min(o,a)||Math.min(t,i)>Math.max(o,a)||Math.max(e,n)<Math.min(r,s)||Math.min(e,n)>Math.max(r,s))){var l=(t-i)*(r-s)-(e-n)*(o-a);if(l){var c=((t*n-e*i)*(o-a)-(t-i)*(o*s-r*a))/l,u=((t*n-e*i)*(r-s)-(e-n)*(o*s-r*a))/l,h=+c.toFixed(2),p=+u.toFixed(2);if(!(h<+Math.min(t,i).toFixed(2)||h>+Math.max(t,i).toFixed(2)||h<+Math.min(o,a).toFixed(2)||h>+Math.max(o,a).toFixed(2)||p<+Math.min(e,n).toFixed(2)||p>+Math.max(e,n).toFixed(2)||p<+Math.min(r,s).toFixed(2)||p>+Math.max(r,s).toFixed(2)))return{x:c,y:u}}}},M=function(t,e,i){return e>=t.x&&e<=t.x+t.width&&i>=t.y&&i<=t.y+t.height},w=function(t,e,i,n,o){if(o)return[[\"M\",+t+ +o,e],[\"l\",i-2*o,0],[\"a\",o,o,0,0,1,o,o],[\"l\",0,n-2*o],[\"a\",o,o,0,0,1,-o,o],[\"l\",2*o-i,0],[\"a\",o,o,0,0,1,-o,-o],[\"l\",0,2*o-n],[\"a\",o,o,0,0,1,o,-o],[\"z\"]];var r=[[\"M\",t,e],[\"l\",i,0],[\"l\",0,n],[\"l\",-i,0],[\"z\"]];return r.parsePathArray=v,r},_=function(t,e,i,n){return null===t&&(t=e=i=n=0),null===e&&(e=t.y,i=t.width,n=t.height,t=t.x),{x:t,y:e,width:i,w:i,height:n,h:n,x2:t+i,y2:e+n,cx:t+i/2,cy:e+n/2,r1:Math.min(i,n)/2,r2:Math.max(i,n)/2,r0:Math.sqrt(i*i+n*n)/2,path:w(t,e,i,n),vb:[t,e,i,n].join(\" \")}},C=function(t,e,i,n,o,a,s,l){Object(r.isArray)(t)||(t=[t,e,i,n,o,a,s,l]);var c=O.apply(null,t);return _(c.min.x,c.min.y,c.max.x-c.min.x,c.max.y-c.min.y)},S=function(t,e,i,n,o,r,a,s,l){var c=1-l,u=Math.pow(c,3),h=Math.pow(c,2),p=l*l,f=p*l,d=t+2*l*(i-t)+p*(o-2*i+t),g=e+2*l*(n-e)+p*(r-2*n+e),y=i+2*l*(o-i)+p*(a-2*o+i),m=n+2*l*(r-n)+p*(s-2*r+n);return{x:u*t+3*h*l*i+3*c*l*l*o+f*a,y:u*e+3*h*l*n+3*c*l*l*r+f*s,m:{x:d,y:g},n:{x:y,y:m},start:{x:c*t+l*i,y:c*e+l*n},end:{x:c*o+l*a,y:c*r+l*s},alpha:90-180*Math.atan2(d-y,g-m)/Math.PI}},k=function(t,e,i){if(!function(t,e){return t=_(t),e=_(e),M(e,t.x,t.y)||M(e,t.x2,t.y)||M(e,t.x,t.y2)||M(e,t.x2,t.y2)||M(t,e.x,e.y)||M(t,e.x2,e.y)||M(t,e.x,e.y2)||M(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(C(t),C(e)))return i?0:[];for(var n=~~(x.apply(0,t)/8),o=~~(x.apply(0,e)/8),r=[],a=[],s={},l=i?0:[],c=0;c<n+1;c++){var u=S.apply(0,t.concat(c/n));r.push({x:u.x,y:u.y,t:c/n})}for(c=0;c<o+1;c++){u=S.apply(0,e.concat(c/o));a.push({x:u.x,y:u.y,t:c/o})}for(c=0;c<n;c++)for(var h=0;h<o;h++){var p=r[c],f=r[c+1],d=a[h],g=a[h+1],y=Math.abs(f.x-p.x)<.001?\"y\":\"x\",m=Math.abs(g.x-d.x)<.001?\"y\":\"x\",v=j(p.x,p.y,f.x,f.y,d.x,d.y,g.x,g.y);if(v){if(s[v.x.toFixed(4)]===v.y.toFixed(4))continue;s[v.x.toFixed(4)]=v.y.toFixed(4);var b=p.t+Math.abs((v[y]-p[y])/(f[y]-p[y]))*(f.t-p.t),O=d.t+Math.abs((v[m]-d[m])/(g[m]-d[m]))*(g.t-d.t);b>=0&&b<=1&&O>=0&&O<=1&&(i?l+=1:l.push({x:v.x,y:v.y,t1:b,t2:O}))}}return l},A=function(t,e){return function(t,e,i){var n,o,r,a,s,l,c,u,h,p;t=y(t),e=y(e);for(var f=i?0:[],d=0,g=t.length;d<g;d++){var m=t[d];if(\"M\"===m[0])n=s=m[1],o=l=m[2];else{\"C\"===m[0]?(h=[n,o].concat(m.slice(1)),n=h[6],o=h[7]):(h=[n,o,n,o,s,l,s,l],n=s,o=l);for(var v=0,b=e.length;v<b;v++){var x=e[v];if(\"M\"===x[0])r=c=x[1],a=u=x[2];else{\"C\"===x[0]?(p=[r,a].concat(x.slice(1)),r=p[6],a=p[7]):(p=[r,a,r,a,c,u,c,u],r=c,a=u);var O=k(h,p,i);if(i)f+=O;else{for(var j=0,M=O.length;j<M;j++)O[j].segment1=d,O[j].segment2=v,O[j].bez1=h,O[j].bez2=p;f=f.concat(O)}}}}}return f}(t,e)};function L(t,e){var i=[],n=[];return t.length&&function t(e,o){if(1===e.length)i.push(e[0]),n.push(e[0]);else{for(var r=[],a=0;a<e.length-1;a++)0===a&&i.push(e[0]),a===e.length-2&&n.push(e[a+1]),r[a]=[(1-o)*e[a][0]+o*e[a+1][0],(1-o)*e[a][1]+o*e[a+1][1]];t(r,o)}}(t,e),{left:i,right:n.reverse()}}var B=function(t,e,i){if(1===i)return[[].concat(t)];var n=[];if(\"L\"===e[0]||\"C\"===e[0]||\"Q\"===e[0])n=n.concat(function(t,e,i){var n=[[t[1],t[2]]];i=i||2;var o=[];\"A\"===e[0]?(n.push(e[6]),n.push(e[7])):\"C\"===e[0]?(n.push([e[1],e[2]]),n.push([e[3],e[4]]),n.push([e[5],e[6]])):\"S\"===e[0]||\"Q\"===e[0]?(n.push([e[1],e[2]]),n.push([e[3],e[4]])):n.push([e[1],e[2]]);for(var r=n,a=1/i,s=0;s<i-1;s++){var l=L(r,a/(1-a*s));o.push(l.left),r=l.right}return o.push(r),o.map((function(t){var e=[];return 4===t.length&&(e.push(\"C\"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push(\"Q\"),e=e.concat(t[1])),2===t.length&&e.push(\"L\"),e=e.concat(t[t.length-1])}))}(t,e,i));else{var o=[].concat(t);\"M\"===o[0]&&(o[0]=\"L\");for(var r=0;r<=i-1;r++)n.push(o)}return n},D=function(t,e){if(1===t.length)return t;var i=t.length-1,n=e.length-1,o=i/n,r=[];if(1===t.length&&\"M\"===t[0][0]){for(var a=0;a<n-i;a++)t.push(t[0]);return t}for(a=0;a<n;a++){var s=Math.floor(o*a);r[s]=(r[s]||0)+1}var l=r.reduce((function(e,n,o){return o===i?e.concat(t[i]):e.concat(B(t[o],t[o+1],n))}),[]);return l.unshift(t[0]),\"Z\"!==e[n]&&\"z\"!==e[n]||l.push(\"Z\"),l},T=function(t,e){if(t.length!==e.length)return!1;var i=!0;return Object(r.each)(t,(function(t,n){if(t!==e[n])return i=!1,!1})),i};function P(t,e,i){var n=null,o=i;return e<o&&(o=e,n=\"add\"),t<o&&(o=t,n=\"del\"),{type:n,min:o}}var I=function(t,e){var i=function(t,e){var i,n,o=t.length,r=e.length,a=0;if(0===o||0===r)return null;for(var s=[],l=0;l<=o;l++)s[l]=[],s[l][0]={min:l};for(var c=0;c<=r;c++)s[0][c]={min:c};for(l=1;l<=o;l++){i=t[l-1];for(c=1;c<=r;c++){n=e[c-1],a=T(i,n)?0:1;var u=s[l-1][c].min+1,h=s[l][c-1].min+1,p=s[l-1][c-1].min+a;s[l][c]=P(u,h,p)}}return s}(t,e),n=t.length,o=e.length,r=[],a=1,s=1;if(i[n][o]!==n){for(var l=1;l<=n;l++){var c=i[l][l].min;s=l;for(var u=a;u<=o;u++)i[l][u].min<c&&(c=i[l][u].min,s=u);a=s,i[l][a].type&&r.push({index:l-1,type:i[l][a].type})}for(l=r.length-1;l>=0;l--)a=r[l].index,\"add\"===r[l].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var h=o-(n=t.length);if(n<o)for(l=0;l<h;l++)\"z\"===t[n-1][0]||\"Z\"===t[n-1][0]?t.splice(n-2,0,t[n-2]):t.push(t[n-1]),n+=1;return t};function E(t,e,i){for(var n,o=[].concat(t),r=1/(i+1),a=F(e)[0],s=1;s<=i;s++)r*=s,0===(n=Math.floor(t.length*r))?o.unshift([a[0]*r+t[n][0]*(1-r),a[1]*r+t[n][1]*(1-r)]):o.splice(n,0,[a[0]*r+t[n][0]*(1-r),a[1]*r+t[n][1]*(1-r)]);return o}function F(t){var e=[];switch(t[0]){case\"M\":case\"L\":e.push([t[1],t[2]]);break;case\"A\":e.push([t[6],t[7]]);break;case\"Q\":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case\"T\":e.push([t[1],t[2]]);break;case\"C\":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case\"S\":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case\"H\":case\"V\":e.push([t[1],t[1]])}return e}var R=function(t,e){if(t.length<=1)return t;for(var i,n=0;n<e.length;n++)if(t[n][0]!==e[n][0])switch(i=F(t[n]),e[n][0]){case\"M\":t[n]=[\"M\"].concat(i[0]);break;case\"L\":t[n]=[\"L\"].concat(i[0]);break;case\"A\":t[n]=[].concat(e[n]),t[n][6]=i[0][0],t[n][7]=i[0][1];break;case\"Q\":if(i.length<2){if(!(n>0)){t[n]=e[n];break}i=E(i,t[n-1],1)}t[n]=[\"Q\"].concat(i.reduce((function(t,e){return t.concat(e)}),[]));break;case\"T\":t[n]=[\"T\"].concat(i[0]);break;case\"C\":if(i.length<3){if(!(n>0)){t[n]=e[n];break}i=E(i,t[n-1],2)}t[n]=[\"C\"].concat(i.reduce((function(t,e){return t.concat(e)}),[]));break;case\"S\":if(i.length<2){if(!(n>0)){t[n]=e[n];break}i=E(i,t[n-1],1)}t[n]=[\"S\"].concat(i.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[n]=e[n]}return t},Y=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return\"[Event (type=\"+this.type+\")]\"},t.prototype.save=function(){},t.prototype.restore=function(){},t}(),N=i(\"mrSG\"),z=i(\"Gd02\"),H=i.n(z),X=(i(\"KPlw\"),i(\"IEcg\")),G=i.n(X),V=i(\"Ydjw\"),W=i.n(V),q=i(\"mrT1\"),U=i.n(q),$=(i(\"Afl5\"),i(\"UD5B\")),Z=i.n($),K=i(\"cvtA\"),Q=i.n(K),J=i(\"PFw5\"),tt=i.n(J);function et(t,e){var i=t.indexOf(e);-1!==i&&t.splice(i,1)}var it=\"undefined\"!==typeof window&&\"undefined\"!==typeof window.document,nt=function(t){function e(e){var i=t.call(this)||this;i.destroyed=!1;var n=i.getDefaultCfg();return i.cfg=Z()(n,e),i}return Object(N.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(H.a),ot=i(\"6JdA\");function rt(t,e){var i=[],n=t[0],o=t[1],r=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],p=e[0],f=e[1],d=e[2],g=e[3],y=e[4],m=e[5],v=e[6],b=e[7],x=e[8];return i[0]=p*n+f*a+d*c,i[1]=p*o+f*s+d*u,i[2]=p*r+f*l+d*h,i[3]=g*n+y*a+m*c,i[4]=g*o+y*s+m*u,i[5]=g*r+y*l+m*h,i[6]=v*n+b*a+x*c,i[7]=v*o+b*s+x*u,i[8]=v*r+b*l+x*h,i}function at(t,e){var i=[],n=e[0],o=e[1];return i[0]=t[0]*n+t[3]*o+t[6],i[1]=t[1]*n+t[4]*o+t[7],i}var st=[\"zIndex\",\"capture\",\"visible\",\"type\"],lt=[\"repeat\"];function ct(t,e){var i={},n=e.attrs;for(var o in t)i[o]=n[o];return i}function ut(t,e){var i={},n=e.attr();return Object(r.each)(t,(function(t,e){-1!==lt.indexOf(e)||Object(r.isEqual)(n[e],t)||(i[e]=t)})),i}function ht(t,e){if(e.onFrame)return t;var i=e.startTime,n=e.delay,o=e.duration,a=Object.prototype.hasOwnProperty;return Object(r.each)(t,(function(t){i+n<t.startTime+t.delay+t.duration&&o>t.delay&&Object(r.each)(e.toAttrs,(function(e,i){a.call(t.toAttrs,i)&&(delete t.toAttrs[i],delete t.fromAttrs[i])}))})),t}var pt=function(t){function e(e){var i=t.call(this,e)||this;i.attrs={};var n=i.getDefaultAttrs();return Object(r.mix)(n,e.attrs),i.attrs=n,i.initAttrs(n),i.initAnimate(),i}return Object(N.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set(\"animable\",!0),this.set(\"animating\",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get(\"parent\")},e.prototype.getCanvas=function(){return this.get(\"canvas\")},e.prototype.attr=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=e[0],o=e[1];if(!n)return this.attrs;if(Object(r.isObject)(n)){for(var a in n)this.setAttr(a,n[a]);return this.afterAttrsChange(n),this}return 2===e.length?(this.setAttr(n,o),this.afterAttrsChange(((t={})[n]=o,t)),this):this.attrs[n]},e.prototype.isClipped=function(t,e){var i=this.getClip();return i&&!i.isHit(t,e)},e.prototype.setAttr=function(t,e){var i=this.attrs[t];i!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,i))},e.prototype.onAttrChange=function(t,e,i){\"matrix\"===t&&this.set(\"totalMatrix\",null)},e.prototype.afterAttrsChange=function(t){this.onCanvasChange(\"attr\")},e.prototype.show=function(){return this.set(\"visible\",!0),this.onCanvasChange(\"show\"),this},e.prototype.hide=function(){return this.set(\"visible\",!1),this.onCanvasChange(\"hide\"),this},e.prototype.setZIndex=function(t){this.set(\"zIndex\",t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren(),i=(this.get(\"el\"),e.indexOf(this));e.splice(i,1),e.push(this),this.onCanvasChange(\"zIndex\")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren(),i=(this.get(\"el\"),e.indexOf(this));e.splice(i,1),e.unshift(this),this.onCanvasChange(\"zIndex\")}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(et(e.getChildren(),this),e.get(\"clearing\")||this.onCanvasChange(\"remove\")):this.onCanvasChange(\"remove\"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(\"matrix\",this.getDefaultMatrix()),this.onCanvasChange(\"matrix\")},e.prototype.getMatrix=function(){return this.attr(\"matrix\")},e.prototype.setMatrix=function(t){this.attr(\"matrix\",t),this.onCanvasChange(\"matrix\")},e.prototype.getTotalMatrix=function(){var t=this.get(\"totalMatrix\");if(!t){var e=this.attr(\"matrix\"),i=this.get(\"parentMatrix\");t=i&&e?rt(i,e):e||i,this.set(\"totalMatrix\",t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr(\"matrix\"),i=null;i=t&&e?rt(t,e):e||t,this.set(\"totalMatrix\",i),this.set(\"parentMatrix\",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr(\"matrix\");return e?at(e,t):t},e.prototype.invertFromMatrix=function(t){var e=this.attr(\"matrix\");return e?at(function(t){var e=[],i=t[0],n=t[1],o=t[2],r=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],h=u*a-s*c,p=-u*r+s*l,f=c*r-a*l,d=i*h+n*p+o*f;return d?(d=1/d,e[0]=h*d,e[1]=(-u*n+o*c)*d,e[2]=(s*n-o*a)*d,e[3]=p*d,e[4]=(u*i-o*l)*d,e[5]=(-s*i+o*r)*d,e[6]=f*d,e[7]=(-c*i+n*l)*d,e[8]=(a*i-n*r)*d,e):null}(e),t):t},e.prototype.setClip=function(t){var e=this.getCanvas(),i=null;if(t){var n=this.getShapeBase()[Object(r.upperFirst)(t.type)];n&&(i=new n({type:t.type,isClipShape:!0,attrs:t.attrs,canvas:e}))}return this.set(\"clipShape\",i),this.onCanvasChange(\"clip\"),i},e.prototype.getClip=function(){var t=this.get(\"clipShape\");return t||null},e.prototype.clone=function(){var t=this,e=this.attrs,i={};Object(r.each)(e,(function(t,n){Object(r.isArray)(e[n])?i[n]=function(t){for(var e=[],i=0;i<t.length;i++)Object(r.isArray)(t[i])?e.push([].concat(t[i])):e.push(t[i]);return e}(e[n]):i[n]=e[n]}));var n=new(0,this.constructor)({attrs:i});return Object(r.each)(st,(function(e){n.set(e,t.get(e))})),n},e.prototype.destroy=function(){this.destroyed||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get(\"_pause\").isPaused},e.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.set(\"animating\",!0);var i=this.get(\"timeline\");i||(i=this.get(\"canvas\").get(\"timeline\"),this.set(\"timeline\",i));var n=this.get(\"animations\")||[];i.timer||i.initTimer();var o,a,s,l,c,u=t[0],h=t[1],p=t[2],f=void 0===p?\"easeLinear\":p,d=t[3],g=void 0===d?r.noop:d,y=t[4],m=void 0===y?0:y;Object(r.isFunction)(u)?(o=u,u={}):Object(r.isObject)(u)&&u.onFrame&&(o=u.onFrame,a=u.repeat),Object(r.isObject)(h)?(h=(c=h).duration,f=c.easing||\"easeLinear\",m=c.delay||0,a=c.repeat||a||!1,g=c.callback||r.noop,s=c.pauseCallback||r.noop,l=c.resumeCallback||r.noop):(Object(r.isNumber)(g)&&(m=g,g=null),Object(r.isFunction)(f)?(g=f,f=\"easeLinear\"):f=f||\"easeLinear\");var v=ut(u,this),b={fromAttrs:ct(v,this),toAttrs:v,duration:h,easing:f,repeat:a,callback:g,pauseCallback:s,resumeCallback:l,delay:m,startTime:i.getTime(),id:Object(r.uniqueId)(),onFrame:o,pathFormatted:!1};n.length>0?n=ht(n,b):i.addAnimator(this),n.push(b),this.set(\"animations\",n),this.set(\"_pause\",{isPaused:!1})},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var i=this.get(\"animations\");Object(r.each)(i,(function(i){t&&(i.onFrame?e.attr(i.onFrame(1)):e.attr(i.toAttrs)),i.callback&&i.callback()})),this.set(\"animating\",!1),this.set(\"animations\",[])},e.prototype.pauseAnimate=function(){var t=this.get(\"timeline\"),e=this.get(\"animations\");return Object(r.each)(e,(function(t){t.pauseCallback&&t.pauseCallback()})),this.set(\"_pause\",{isPaused:!0,pauseTime:t.getTime()}),this},e.prototype.resumeAnimate=function(){var t=this.get(\"timeline\").getTime(),e=this.get(\"animations\"),i=this.get(\"_pause\").pauseTime;return Object(r.each)(e,(function(e){e.startTime=e.startTime+(t-i),e._paused=!1,e._pauseTime=null,e.resumeCallback&&e.resumeCallback()})),this.set(\"_pause\",{isPaused:!1}),this.set(\"animations\",e),this},e.prototype.emitDelegation=function(t,e){for(var i=e.propagationPath,n=this.getEvents(),o=0;o<i.length;o++){var r=i[o],a=r.get(\"name\");if(a){var s=a+\":\"+t;(n[s]||n[\"*\"])&&(e.name=s,e.currentTarget=r,e.delegateTarget=this,e.delegateObject=r.get(\"delegateObject\"),this.emit(s,e))}}},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var i=this.getMatrix(),n=Object(ot.transform)(i,[[\"t\",t,e]]);return this.setMatrix(n),this},e.prototype.move=function(t,e){var i=this.attr(\"x\")||0,n=this.attr(\"y\")||0;return this.translate(t-i,e-n),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var i=this.getMatrix(),n=Object(ot.transform)(i,[[\"s\",t,e||t]]);return this.setMatrix(n),this},e.prototype.rotate=function(t){var e=this.getMatrix(),i=Object(ot.transform)(e,[[\"r\",t]]);return this.setMatrix(i),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),i=e.x,n=e.y,o=this.getMatrix(),r=Object(ot.transform)(o,[[\"t\",-i,-n],[\"r\",t],[\"t\",i,n]]);return this.setMatrix(r),this},e.prototype.rotateAtPoint=function(t,e,i){var n=this.getMatrix(),o=Object(ot.transform)(n,[[\"t\",-t,-e],[\"r\",i],[\"t\",t,e]]);return this.setMatrix(o),this},e}(nt),ft={},dt=\"_INDEX\";function gt(t){return t.get(\"visible\")&&t.get(\"capture\")}var yt,mt,vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(N.__extends)(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,e=-1/0,i=1/0,n=-1/0,o=[],r=[],a=this.getChildren().filter((function(t){return t.get(\"visible\")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return a.length>0?(Q()(a,(function(t){var e=t.getBBox();o.push(e.minX,e.maxX),r.push(e.minY,e.maxY)})),t=Math.min.apply(null,o),e=Math.max.apply(null,o),i=Math.min.apply(null,r),n=Math.max.apply(null,r)):(t=0,e=0,i=0,n=0),{x:t,y:i,minX:t,minY:i,maxX:e,maxY:n,width:e-t,height:n-i}},e.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,i=1/0,n=-1/0,o=[],r=[],a=this.getChildren().filter((function(t){return t.get(\"visible\")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return a.length>0?(Q()(a,(function(t){var e=t.getCanvasBBox();o.push(e.minX,e.maxX),r.push(e.minY,e.maxY)})),t=Math.min.apply(null,o),e=Math.max.apply(null,o),i=Math.min.apply(null,r),n=Math.max.apply(null,r)):(t=0,e=0,i=0,n=0),{x:t,y:i,minX:t,minY:i,maxX:e,maxY:n,width:e-t,height:n-i}},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.children=[],e},e.prototype.onAttrChange=function(e,i,n){if(t.prototype.onAttrChange.call(this,e,i,n),\"matrix\"===e){var o=this.getTotalMatrix();this._applyChildrenMarix(o)}},e.prototype.applyMatrix=function(e){var i=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var n=this.getTotalMatrix();n!==i&&this._applyChildrenMarix(n)},e.prototype._applyChildrenMarix=function(t){var e=this.getChildren();Q()(e,(function(e){e.applyMatrix(t)}))},e.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0],n=t[1];U()(i)?n=i:n.type=i;var o=ft[n.type];o||(o=tt()(n.type),ft[n.type]=o);var r=this.getShapeBase(),a=new r[o](n);return this.add(a),a},e.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i,n=t[0],o=t[1];if(G()(n))i=new n(o||{parent:this});else{var r=n||{},a=this.getGroupBase();i=new a(r)}return this.add(i),i},e.prototype.getCanvas=function(){return this.isCanvas()?this:this.get(\"canvas\")},e.prototype.getShape=function(t,e,i){if(!gt(this))return null;var n,o=this.getChildren();if(this.isCanvas())n=this._findShape(o,t,e,i);else{var r=[t,e,1];r=this.invertFromMatrix(r),this.isClipped(r[0],r[1])||(n=this._findShape(o,r[0],r[1],i))}return n},e.prototype._findShape=function(t,e,i,n){for(var o=null,r=t.length-1;r>=0;r--){var a=t[r];if(gt(a)&&(a.isGroup()?o=a.getShape(e,i,n):a.isHit(e,i)&&(o=a)),o)break}return o},e.prototype.add=function(t){var e=this.getCanvas(),i=this.getChildren(),n=this.get(\"timeline\"),o=t.getParent();o&&function(t,e,i){void 0===i&&(i=!0),i?e.destroy():(e.set(\"parent\",null),e.set(\"canvas\",null)),et(t.getChildren(),e)}(o,t,!1),t.set(\"parent\",this),e&&function t(e,i){if(e.set(\"canvas\",i),e.isGroup()){var n=e.get(\"children\");n.length&&n.forEach((function(e){t(e,i)}))}}(t,e),n&&function t(e,i){if(e.set(\"timeline\",i),e.isGroup()){var n=e.get(\"children\");n.length&&n.forEach((function(e){t(e,i)}))}}(t,n),i.push(t),function(t){t.isGroup()?(t.isEntityGroup()||t.get(\"children\").length)&&t.onCanvasChange(\"add\"):t.onCanvasChange(\"add\")}(t),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},e.prototype.getChildren=function(){return this.get(\"children\")},e.prototype.sort=function(){var t,e=this.getChildren();Q()(e,(function(t,e){return t[dt]=e,t})),e.sort((t=function(t,e){return t.get(\"zIndex\")-e.get(\"zIndex\")},function(e,i){var n=t(e,i);return 0===n?e[dt]-i[dt]:n})),this.onCanvasChange(\"sort\")},e.prototype.clear=function(){if(this.set(\"clearing\",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e>=0;e--)t[e].destroy();this.set(\"children\",[]),this.onCanvasChange(\"clear\"),this.set(\"clearing\",!1)}},e.prototype.destroy=function(){this.get(\"destroyed\")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){return this.getChildren()[t]},e.prototype.getCount=function(){return this.getChildren().length},e.prototype.contain=function(t){return this.getChildren().indexOf(t)>-1},e.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},e.prototype.findAll=function(t){var e=[],i=this.getChildren();return Q()(i,(function(i){t(i)&&e.push(i),i.isGroup()&&(e=e.concat(i.findAll(t)))})),e},e.prototype.find=function(t){var e=null,i=this.getChildren();return Q()(i,(function(i){if(t(i)?e=i:i.isGroup()&&(e=i.find(t)),e)return!1})),e},e.prototype.findById=function(t){return this.find((function(e){return e.get(\"id\")===t}))},e.prototype.findByClassName=function(t){return this.find((function(e){return e.get(\"className\")===t}))},e.prototype.findAllByName=function(t){return this.findAll((function(e){return e.get(\"name\")===t}))},e}(pt),bt=0,xt=0,Ot=0,jt=1e3,Mt=0,wt=0,_t=0,Ct=\"object\"===typeof performance&&performance.now?performance:Date,St=\"object\"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function kt(){return wt||(St(At),wt=Ct.now()+_t)}function At(){wt=0}function Lt(){this._call=this._time=this._next=null}function Bt(t,e,i){var n=new Lt;return n.restart(t,e,i),n}function Dt(){wt=(Mt=Ct.now())+_t,bt=xt=0;try{!function(){kt(),++bt;for(var t,e=yt;e;)(t=wt-e._time)>=0&&e._call.call(null,t),e=e._next;--bt}()}finally{bt=0,function(){var t,e,i=yt,n=1/0;for(;i;)i._call?(n>i._time&&(n=i._time),t=i,i=i._next):(e=i._next,i._next=null,i=t?t._next=e:yt=e);mt=t,Pt(n)}(),wt=0}}function Tt(){var t=Ct.now(),e=t-Mt;e>jt&&(_t-=e,Mt=t)}function Pt(t){bt||(xt&&(xt=clearTimeout(xt)),t-wt>24?(t<1/0&&(xt=setTimeout(Dt,t-Ct.now()-_t)),Ot&&(Ot=clearInterval(Ot))):(Ot||(Mt=Ct.now(),Ot=setInterval(Tt,jt)),bt=1,St(Dt)))}function It(t){return+t}function Et(t){return t*t}function Ft(t){return t*(2-t)}function Rt(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Yt(t){return t*t*t}function Nt(t){return--t*t*t+1}function zt(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Lt.prototype=Bt.prototype={constructor:Lt,restart:function(t,e,i){if(\"function\"!==typeof t)throw new TypeError(\"callback is not a function\");i=(null==i?kt():+i)+(null==e?0:+e),this._next||mt===this||(mt?mt._next=this:yt=this,mt=this),this._call=t,this._time=i,Pt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pt())}};var Ht=function t(e){function i(t){return Math.pow(t,e)}return e=+e,i.exponent=t,i}(3),Xt=function t(e){function i(t){return 1-Math.pow(1-t,e)}return e=+e,i.exponent=t,i}(3),Gt=function t(e){function i(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,i.exponent=t,i}(3),Vt=Math.PI,Wt=Vt/2;function qt(t){return 1-Math.cos(t*Wt)}function Ut(t){return Math.sin(t*Wt)}function $t(t){return(1-Math.cos(Vt*t))/2}function Zt(t){return Math.pow(2,10*t-10)}function Kt(t){return 1-Math.pow(2,-10*t)}function Qt(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Jt(t){return 1-Math.sqrt(1-t*t)}function te(t){return Math.sqrt(1- --t*t)}function ee(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var ie=4/11,ne=6/11,oe=8/11,re=.75,ae=9/11,se=10/11,le=.9375,ce=21/22,ue=63/64,he=1/ie/ie;function pe(t){return 1-fe(1-t)}function fe(t){return(t=+t)<ie?he*t*t:t<oe?he*(t-=ne)*t+re:t<se?he*(t-=ae)*t+le:he*(t-=ce)*t+ue}function de(t){return((t*=2)<=1?1-fe(1-t):fe(t-1)+1)/2}var ge=function t(e){function i(t){return t*t*((e+1)*t-e)}return e=+e,i.overshoot=t,i}(1.70158),ye=function t(e){function i(t){return--t*t*((e+1)*t+e)+1}return e=+e,i.overshoot=t,i}(1.70158),me=function t(e){function i(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,i.overshoot=t,i}(1.70158),ve=2*Math.PI,be=function t(e,i){var n=Math.asin(1/(e=Math.max(1,e)))*(i/=ve);function o(t){return e*Math.pow(2,10*--t)*Math.sin((n-t)/i)}return o.amplitude=function(e){return t(e,i*ve)},o.period=function(i){return t(e,i)},o}(1,.3),xe=function t(e,i){var n=Math.asin(1/(e=Math.max(1,e)))*(i/=ve);function o(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+n)/i)}return o.amplitude=function(e){return t(e,i*ve)},o.period=function(i){return t(e,i)},o}(1,.3),Oe=function t(e,i){var n=Math.asin(1/(e=Math.max(1,e)))*(i/=ve);function o(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((n-t)/i):2-e*Math.pow(2,-10*t)*Math.sin((n+t)/i))/2}return o.amplitude=function(e){return t(e,i*ve)},o.period=function(i){return t(e,i)},o}(1,.3),je=function(t,e,i){t.prototype=e.prototype=i,i.constructor=t};function Me(t,e){var i=Object.create(t.prototype);for(var n in e)i[n]=e[n];return i}function we(){}var _e=\"\\\\s*([+-]?\\\\d+)\\\\s*\",Ce=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",Se=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",ke=/^#([0-9a-f]{3,8})$/,Ae=new RegExp(\"^rgb\\\\(\"+[_e,_e,_e]+\"\\\\)$\"),Le=new RegExp(\"^rgb\\\\(\"+[Se,Se,Se]+\"\\\\)$\"),Be=new RegExp(\"^rgba\\\\(\"+[_e,_e,_e,Ce]+\"\\\\)$\"),De=new RegExp(\"^rgba\\\\(\"+[Se,Se,Se,Ce]+\"\\\\)$\"),Te=new RegExp(\"^hsl\\\\(\"+[Ce,Se,Se]+\"\\\\)$\"),Pe=new RegExp(\"^hsla\\\\(\"+[Ce,Se,Se,Ce]+\"\\\\)$\"),Ie={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ee(){return this.rgb().formatHex()}function Fe(){return this.rgb().formatRgb()}function Re(t){var e,i;return t=(t+\"\").trim().toLowerCase(),(e=ke.exec(t))?(i=e[1].length,e=parseInt(e[1],16),6===i?Ye(e):3===i?new He(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===i?new He(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===i?new He(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Ae.exec(t))?new He(e[1],e[2],e[3],1):(e=Le.exec(t))?new He(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Be.exec(t))?Ne(e[1],e[2],e[3],e[4]):(e=De.exec(t))?Ne(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Te.exec(t))?We(e[1],e[2]/100,e[3]/100,1):(e=Pe.exec(t))?We(e[1],e[2]/100,e[3]/100,e[4]):Ie.hasOwnProperty(t)?Ye(Ie[t]):\"transparent\"===t?new He(NaN,NaN,NaN,0):null}function Ye(t){return new He(t>>16&255,t>>8&255,255&t,1)}function Ne(t,e,i,n){return n<=0&&(t=e=i=NaN),new He(t,e,i,n)}function ze(t,e,i,n){return 1===arguments.length?((o=t)instanceof we||(o=Re(o)),o?new He((o=o.rgb()).r,o.g,o.b,o.opacity):new He):new He(t,e,i,null==n?1:n);var o}function He(t,e,i,n){this.r=+t,this.g=+e,this.b=+i,this.opacity=+n}function Xe(){return\"#\"+Ve(this.r)+Ve(this.g)+Ve(this.b)}function Ge(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?\"rgb(\":\"rgba(\")+Math.max(0,Math.min(255,Math.round(this.r)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.g)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?\")\":\", \"+t+\")\")}function Ve(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?\"0\":\"\")+t.toString(16)}function We(t,e,i,n){return n<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new Ue(t,e,i,n)}function qe(t){if(t instanceof Ue)return new Ue(t.h,t.s,t.l,t.opacity);if(t instanceof we||(t=Re(t)),!t)return new Ue;if(t instanceof Ue)return t;var e=(t=t.rgb()).r/255,i=t.g/255,n=t.b/255,o=Math.min(e,i,n),r=Math.max(e,i,n),a=NaN,s=r-o,l=(r+o)/2;return s?(a=e===r?(i-n)/s+6*(i<n):i===r?(n-e)/s+2:(e-i)/s+4,s/=l<.5?r+o:2-r-o,a*=60):s=l>0&&l<1?0:a,new Ue(a,s,l,t.opacity)}function Ue(t,e,i,n){this.h=+t,this.s=+e,this.l=+i,this.opacity=+n}function $e(t,e,i){return 255*(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)}function Ze(t,e,i,n,o){var r=t*t,a=r*t;return((1-3*t+3*r-a)*e+(4-6*r+3*a)*i+(1+3*t+3*r-3*a)*n+a*o)/6}je(we,Re,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ee,formatHex:Ee,formatHsl:function(){return qe(this).formatHsl()},formatRgb:Fe,toString:Fe}),je(He,ze,Me(we,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new He(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new He(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xe,formatHex:Xe,formatRgb:Ge,toString:Ge})),je(Ue,(function(t,e,i,n){return 1===arguments.length?qe(t):new Ue(t,e,i,null==n?1:n)}),Me(we,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ue(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ue(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*e,o=2*i-n;return new He($e(t>=240?t-240:t+120,o,n),$e(t,o,n),$e(t<120?t+240:t-120,o,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?\"hsl(\":\"hsla(\")+(this.h||0)+\", \"+100*(this.s||0)+\"%, \"+100*(this.l||0)+\"%\"+(1===t?\")\":\", \"+t+\")\")}}));var Ke=function(t){return function(){return t}};function Qe(t,e){return function(i){return t+i*e}}function Je(t){return 1===(t=+t)?ti:function(e,i){return i-e?function(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(n){return Math.pow(t+n*e,i)}}(e,i,t):Ke(isNaN(e)?i:e)}}function ti(t,e){var i=e-t;return i?Qe(t,i):Ke(isNaN(t)?e:t)}var ei=function t(e){var i=Je(e);function n(t,e){var n=i((t=ze(t)).r,(e=ze(e)).r),o=i(t.g,e.g),r=i(t.b,e.b),a=ti(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=o(e),t.b=r(e),t.opacity=a(e),t+\"\"}}return n.gamma=t,n}(1);function ii(t){return function(e){var i,n,o=e.length,r=new Array(o),a=new Array(o),s=new Array(o);for(i=0;i<o;++i)n=ze(e[i]),r[i]=n.r||0,a[i]=n.g||0,s[i]=n.b||0;return r=t(r),a=t(a),s=t(s),n.opacity=1,function(t){return n.r=r(t),n.g=a(t),n.b=s(t),n+\"\"}}}ii((function(t){var e=t.length-1;return function(i){var n=i<=0?i=0:i>=1?(i=1,e-1):Math.floor(i*e),o=t[n],r=t[n+1],a=n>0?t[n-1]:2*o-r,s=n<e-1?t[n+2]:2*r-o;return Ze((i-n/e)*e,a,o,r,s)}})),ii((function(t){var e=t.length;return function(i){var n=Math.floor(((i%=1)<0?++i:i)*e),o=t[(n+e-1)%e],r=t[n%e],a=t[(n+1)%e],s=t[(n+2)%e];return Ze((i-n/e)*e,o,r,a,s)}}));var ni=function(t,e){e||(e=[]);var i,n=t?Math.min(e.length,t.length):0,o=e.slice();return function(r){for(i=0;i<n;++i)o[i]=t[i]*(1-r)+e[i]*r;return o}};function oi(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}var ri=function(t,e){return(oi(e)?ni:ai)(t,e)};function ai(t,e){var i,n=e?e.length:0,o=t?Math.min(n,t.length):0,r=new Array(o),a=new Array(n);for(i=0;i<o;++i)r[i]=fi(t[i],e[i]);for(;i<n;++i)a[i]=e[i];return function(t){for(i=0;i<o;++i)a[i]=r[i](t);return a}}var si=function(t,e){var i=new Date;return t=+t,e=+e,function(n){return i.setTime(t*(1-n)+e*n),i}},li=function(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}},ci=function(t,e){var i,n={},o={};for(i in null!==t&&\"object\"===typeof t||(t={}),null!==e&&\"object\"===typeof e||(e={}),e)i in t?n[i]=fi(t[i],e[i]):o[i]=e[i];return function(t){for(i in n)o[i]=n[i](t);return o}},ui=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,hi=new RegExp(ui.source,\"g\");var pi=function(t,e){var i,n,o,r=ui.lastIndex=hi.lastIndex=0,a=-1,s=[],l=[];for(t+=\"\",e+=\"\";(i=ui.exec(t))&&(n=hi.exec(e));)(o=n.index)>r&&(o=e.slice(r,o),s[a]?s[a]+=o:s[++a]=o),(i=i[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,l.push({i:a,x:li(i,n)})),r=hi.lastIndex;return r<e.length&&(o=e.slice(r),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?function(t){return function(e){return t(e)+\"\"}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var i,n=0;n<e;++n)s[(i=l[n]).i]=i.x(t);return s.join(\"\")})},fi=function(t,e){var i,n=typeof e;return null==e||\"boolean\"===n?Ke(e):(\"number\"===n?li:\"string\"===n?(i=Re(e))?(e=i,ei):pi:e instanceof Re?ei:e instanceof Date?si:oi(e)?ni:Array.isArray(e)?ai:\"function\"!==typeof e.valueOf&&\"function\"!==typeof e.toString||isNaN(e)?ci:li)(t,e)},di=function(t){return[\"fill\",\"stroke\",\"fillStyle\",\"strokeStyle\"].includes(t)},gi=function(t){return/^[r,R,L,l]{1}[\\s]*\\(/.test(t)},yi=[1,0,0,0,1,0,0,0,1];function mi(t,e,i){var n,a=e.startTime;if(i<a+e.delay||e._paused)return!1;var s=e.duration,l=e.easing;if(i=i-a-e.delay,e.repeat)n=i%s/s,n=o[l](n);else{if(!((n=i/s)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;n=o[l](n)}if(e.onFrame){var u=e.onFrame(n);t.attr(u)}else!function(t,e,i){var n={},o=e.fromAttrs,a=e.toAttrs;if(!t.destroyed){var s;for(var l in a)if(!Object(r.isEqual)(o[l],a[l]))if(\"path\"===l){var u=a[l],h=o[l];u.length>h.length?(u=c(a[l]),h=c(o[l]),h=I(h,u),h=R(h,u),e.fromAttrs.path=h,e.toAttrs.path=u):e.pathFormatted||(u=c(a[l]),h=c(o[l]),h=R(h,u),e.fromAttrs.path=h,e.toAttrs.path=u,e.pathFormatted=!0),n[l]=[];for(var p=0;p<u.length;p++){for(var f=u[p],d=h[p],g=[],y=0;y<f.length;y++)Object(r.isNumber)(f[y])&&d&&Object(r.isNumber)(d[y])?(s=fi(d[y],f[y]),g.push(s(i))):g.push(f[y]);n[l].push(g)}}else if(\"matrix\"===l){var m=ri(o[l]||yi,a[l]||yi)(i);n[l]=m}else di(l)&&gi(a[l])?n[l]=a[l]:Object(r.isFunction)(a[l])||(s=fi(o[l],a[l]),n[l]=s(i));t.attr(n)}}(t,e,n);return!1}var vi=function(){function t(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return t.prototype.initTimer=function(){var t,e,i,n=this;this.timer=Bt((function(o){if(n.current=o,n.animators.length>0){for(var r=n.animators.length-1;r>=0;r--)if((t=n.animators[r]).destroyed)n.removeAnimator(r);else{if(!t.isAnimatePaused())for(var a=(e=t.get(\"animations\")).length-1;a>=0;a--)i=e[a],mi(t,i,o)&&(e.splice(a,1),!1,i.callback&&i.callback());0===e.length&&n.removeAnimator(r)}n.canvas.get(\"autoDraw\")||n.canvas.draw()}}))},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach((function(e){e.stopAnimate(t)})),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}(),bi=function(t){function e(e){var i=t.call(this,e)||this;return i.initContainer(),i.initDom(),i.initEvents(),i.initTimeline(),i}return Object(N.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.cursor=\"default\",e},e.prototype.initContainer=function(){var t=this.get(\"container\");W()(t)&&(t=document.getElementById(t),this.set(\"container\",t))},e.prototype.initDom=function(){var t=this.createDom();this.set(\"el\",t),this.get(\"container\").appendChild(t),this.setDOMSize(this.get(\"width\"),this.get(\"height\"))},e.prototype.initEvents=function(){},e.prototype.initTimeline=function(){var t=new vi(this);this.set(\"timeline\",t)},e.prototype.setDOMSize=function(t,e){var i=this.get(\"el\");it&&(i.style.width=t+\"px\",i.style.height=e+\"px\")},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set(\"width\",t),this.set(\"height\",e),this.onCanvasChange(\"changeSize\")},e.prototype.getRenderer=function(){return this.get(\"renderer\")},e.prototype.getCursor=function(){return this.get(\"cursor\")},e.prototype.setCursor=function(t){this.set(\"cursor\",t);var e=this.get(\"el\");it&&e&&(e.style.cursor=t)},e.prototype.getPointByClient=function(t,e){var i=this.get(\"el\").getBoundingClientRect();return{x:t-i.left,y:e-i.top}},e.prototype.getClientByPoint=function(t,e){var i=this.get(\"el\").getBoundingClientRect();return{x:t+i.left,y:e+i.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get(\"el\");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get(\"timeline\");this.get(\"destroyed\")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))},e}(vt),xi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(N.__extends)(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),i=this.getChildren(),n=0;n<i.length;n++){var o=i[n];e.add(o.clone())}return e},e}(vt),Oi=function(t){function e(e){return t.call(this,e)||this}return Object(N.__extends)(e,t),e.prototype._isInBBox=function(t,e){var i=this.getBBox();return i.minX<=t&&i.maxX>=t&&i.minY<=e&&i.maxY>=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.get(\"bbox\");return t||(t=this.calculateBBox(),this.set(\"bbox\",t)),t},e.prototype.getCanvasBBox=function(){var t=this.get(\"canvasBox\");return t||(t=this.calculateCanvasBBox(),this.set(\"canvasBox\",t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set(\"canvasBox\",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),i=t.minX,n=t.minY,o=t.maxX,r=t.maxY;if(e){var a=at(e,[t.minX,t.minY]),s=at(e,[t.maxX,t.minY]),l=at(e,[t.minX,t.maxY]),c=at(e,[t.maxX,t.maxY]);i=Math.min(a[0],s[0],l[0],c[0]),o=Math.max(a[0],s[0],l[0],c[0]),n=Math.min(a[1],s[1],l[1],c[1]),r=Math.max(a[1],s[1],l[1],c[1])}var u=this.attrs;if(u.shadowColor){var h=u.shadowBlur,p=void 0===h?0:h,f=u.shadowOffsetX,d=void 0===f?0:f,g=u.shadowOffsetY,y=void 0===g?0:g,m=i-p+d,v=o+p+d,b=n-p+y,x=r+p+y;i=Math.min(i,m),o=Math.max(o,v),n=Math.min(n,b),r=Math.max(r,x)}return{x:i,y:n,minX:i,minY:n,maxX:o,maxY:r,width:o-i,height:r-n}},e.prototype.clearCacheBBox=function(){this.set(\"bbox\",null),this.set(\"canvasBox\",null)},e.prototype.isClipShape=function(){return this.get(\"isClipShape\")},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var i=[t,e,1],n=(i=this.invertFromMatrix(i))[0],o=i[1],r=this._isInBBox(n,o);return this.isOnlyHitBox()?r:!(!r||this.isClipped(n,o))&&this.isInShape(n,o)},e}(pt);i.d(e,\"version\",(function(){return ji})),i.d(e,\"Event\",(function(){return Y})),i.d(e,\"Base\",(function(){return nt})),i.d(e,\"AbstractCanvas\",(function(){return bi})),i.d(e,\"AbstractGroup\",(function(){return xi})),i.d(e,\"AbstractShape\",(function(){return Oi})),i.d(e,\"PathUtil\",(function(){return n}));var ji=i(\"KjeG\").version},\"bH/o\":function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new n.ARRAY_TYPE(9);n.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0);return t[0]=1,t[4]=1,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new n.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,i,o,r,a,s,l,c){var u=new n.ARRAY_TYPE(9);return u[0]=t,u[1]=e,u[2]=i,u[3]=o,u[4]=r,u[5]=a,u[6]=s,u[7]=l,u[8]=c,u},e.set=function(t,e,i,n,o,r,a,s,l,c){return t[0]=e,t[1]=i,t[2]=n,t[3]=o,t[4]=r,t[5]=a,t[6]=s,t[7]=l,t[8]=c,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){var i=e[1],n=e[2],o=e[5];t[1]=e[3],t[2]=e[6],t[3]=i,t[5]=e[7],t[6]=n,t[7]=o}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){var i=e[0],n=e[1],o=e[2],r=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],h=u*a-s*c,p=-u*r+s*l,f=c*r-a*l,d=i*h+n*p+o*f;if(!d)return null;return d=1/d,t[0]=h*d,t[1]=(-u*n+o*c)*d,t[2]=(s*n-o*a)*d,t[3]=p*d,t[4]=(u*i-o*l)*d,t[5]=(-s*i+o*r)*d,t[6]=f*d,t[7]=(-c*i+n*l)*d,t[8]=(a*i-n*r)*d,t},e.adjoint=function(t,e){var i=e[0],n=e[1],o=e[2],r=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8];return t[0]=a*u-s*c,t[1]=o*c-n*u,t[2]=n*s-o*a,t[3]=s*l-r*u,t[4]=i*u-o*l,t[5]=o*r-i*s,t[6]=r*c-a*l,t[7]=n*l-i*c,t[8]=i*a-n*r,t},e.determinant=function(t){var e=t[0],i=t[1],n=t[2],o=t[3],r=t[4],a=t[5],s=t[6],l=t[7],c=t[8];return e*(c*r-a*l)+i*(-c*o+a*s)+n*(l*o-r*s)},e.multiply=o,e.translate=function(t,e,i){var n=e[0],o=e[1],r=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],h=e[8],p=i[0],f=i[1];return t[0]=n,t[1]=o,t[2]=r,t[3]=a,t[4]=s,t[5]=l,t[6]=p*n+f*a+c,t[7]=p*o+f*s+u,t[8]=p*r+f*l+h,t},e.rotate=function(t,e,i){var n=e[0],o=e[1],r=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],h=e[8],p=Math.sin(i),f=Math.cos(i);return t[0]=f*n+p*a,t[1]=f*o+p*s,t[2]=f*r+p*l,t[3]=f*a-p*n,t[4]=f*s-p*o,t[5]=f*l-p*r,t[6]=c,t[7]=u,t[8]=h,t},e.scale=function(t,e,i){var n=i[0],o=i[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=-i,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var i=e[0],n=e[1],o=e[2],r=e[3],a=i+i,s=n+n,l=o+o,c=i*a,u=n*a,h=n*s,p=o*a,f=o*s,d=o*l,g=r*a,y=r*s,m=r*l;return t[0]=1-h-d,t[3]=u-m,t[6]=p+y,t[1]=u+m,t[4]=1-c-d,t[7]=f-g,t[2]=p-y,t[5]=f+g,t[8]=1-c-h,t},e.normalFromMat4=function(t,e){var i=e[0],n=e[1],o=e[2],r=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],h=e[9],p=e[10],f=e[11],d=e[12],g=e[13],y=e[14],m=e[15],v=i*s-n*a,b=i*l-o*a,x=i*c-r*a,O=n*l-o*s,j=n*c-r*s,M=o*c-r*l,w=u*g-h*d,_=u*y-p*d,C=u*m-f*d,S=h*y-p*g,k=h*m-f*g,A=p*m-f*y,L=v*A-b*k+x*S+O*C-j*_+M*w;if(!L)return null;return L=1/L,t[0]=(s*A-l*k+c*S)*L,t[1]=(l*C-a*A-c*_)*L,t[2]=(a*k-s*C+c*w)*L,t[3]=(o*k-n*A-r*S)*L,t[4]=(i*A-o*C+r*_)*L,t[5]=(n*C-i*k-r*w)*L,t[6]=(g*M-y*j+m*O)*L,t[7]=(y*x-d*M-m*b)*L,t[8]=(d*j-g*x+m*v)*L,t},e.projection=function(t,e,i){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/i,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return\"mat3(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\", \"+t[4]+\", \"+t[5]+\", \"+t[6]+\", \"+t[7]+\", \"+t[8]+\")\"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t},e.subtract=r,e.multiplyScalar=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t},e.multiplyScalarAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t[4]=e[4]+i[4]*n,t[5]=e[5]+i[5]*n,t[6]=e[6]+i[6]*n,t[7]=e[7]+i[7]*n,t[8]=e[8]+i[8]*n,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var i=t[0],o=t[1],r=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],p=e[0],f=e[1],d=e[2],g=e[3],y=e[4],m=e[5],v=e[6],b=e[7],x=e[8];return Math.abs(i-p)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-f)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(r-d)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(a-g)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-y)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(l-m)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(c-v)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(u-b)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(h-x)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(x))};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(\"jWDG\"));function o(t,e,i){var n=e[0],o=e[1],r=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],h=e[8],p=i[0],f=i[1],d=i[2],g=i[3],y=i[4],m=i[5],v=i[6],b=i[7],x=i[8];return t[0]=p*n+f*a+d*c,t[1]=p*o+f*s+d*u,t[2]=p*r+f*l+d*h,t[3]=g*n+y*a+m*c,t[4]=g*o+y*s+m*u,t[5]=g*r+y*l+m*h,t[6]=v*n+b*a+x*c,t[7]=v*o+b*s+x*u,t[8]=v*r+b*l+x*h,t}function r(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t}e.mul=o,e.sub=r},c54I:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=i(\"KPlw\");e.default=function(t){return n.default(t)?\"\":t.toString()}},cvtA:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=i(\"Afl5\"),o=i(\"mrT1\");e.default=function(t,e){if(t)if(n.default(t))for(var i=0,r=t.length;i<r&&!1!==e(t[i],i);i++);else if(o.default(t))for(var a in t)if(t.hasOwnProperty(a)&&!1===e(t[a],a))break}},fIp6:function(t,e,i){\"use strict\";function n(t,e,i){if(t){if(\"function\"===typeof t.addEventListener)return t.addEventListener(e,i,!1),{remove:function(){t.removeEventListener(e,i,!1)}};if(\"function\"===typeof t.attachEvent)return t.attachEvent(\"on\"+e,i),{remove:function(){t.detachEvent(\"on\"+e,i)}}}}var o,r,a,s;function l(t){o||(o=document.createElement(\"table\"),r=document.createElement(\"tr\"),a=/^\\s*<(\\w+|!)[^>]*>/,s={tr:document.createElement(\"tbody\"),tbody:o,thead:o,tfoot:o,td:r,th:r,\"*\":document.createElement(\"div\")});var e=a.test(t)&&RegExp.$1;e&&e in s||(e=\"*\");var i=s[e];t=t.replace(/(^\\s*)|(\\s*$)/g,\"\"),i.innerHTML=\"\"+t;var n=i.childNodes[0];return i.removeChild(n),n}function c(t,e,i){var n;try{n=window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.style[e]}catch(o){}finally{n=void 0===n?i:n}return n}function u(t,e){var i=c(t,\"height\",e);return\"auto\"===i&&(i=t.offsetHeight),parseFloat(i)}function h(t,e){var i=u(t,e),n=parseFloat(c(t,\"borderTopWidth\"))||0,o=parseFloat(c(t,\"paddingTop\"))||0,r=parseFloat(c(t,\"paddingBottom\"))||0;return i+n+(parseFloat(c(t,\"borderBottomWidth\"))||0)+o+r+(parseFloat(c(t,\"marginTop\"))||0)+(parseFloat(c(t,\"marginBottom\"))||0)}function p(t,e){var i=c(t,\"width\",e);return\"auto\"===i&&(i=t.offsetWidth),parseFloat(i)}function f(t,e){var i=p(t,e),n=parseFloat(c(t,\"borderLeftWidth\"))||0,o=parseFloat(c(t,\"paddingLeft\"))||0,r=parseFloat(c(t,\"paddingRight\"))||0,a=parseFloat(c(t,\"borderRightWidth\"))||0,s=parseFloat(c(t,\"marginRight\"))||0;return i+n+a+o+r+(parseFloat(c(t,\"marginLeft\"))||0)+s}function d(){return window.devicePixelRatio?window.devicePixelRatio:2}function g(t,e){if(t)for(var i in e)e.hasOwnProperty(i)&&(t.style[i]=e[i]);return t}i.r(e),i.d(e,\"addEventListener\",(function(){return n})),i.d(e,\"createDom\",(function(){return l})),i.d(e,\"getHeight\",(function(){return u})),i.d(e,\"getOuterHeight\",(function(){return h})),i.d(e,\"getOuterWidth\",(function(){return f})),i.d(e,\"getRatio\",(function(){return d})),i.d(e,\"getStyle\",(function(){return c})),i.d(e,\"getWidth\",(function(){return p})),i.d(e,\"modifyCSS\",(function(){return g}))},fW3x:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.MarkerSymbols={hexagon:function(t,e,i){var n=i/2*Math.sqrt(3);return[[\"M\",t,e-i],[\"L\",t+n,e-i/2],[\"L\",t+n,e+i/2],[\"L\",t,e+i],[\"L\",t-n,e+i/2],[\"L\",t-n,e-i/2],[\"Z\"]]},bowtie:function(t,e,i){var n=i-1.5;return[[\"M\",t-i,e-n],[\"L\",t+i,e+n],[\"L\",t+i,e-n],[\"L\",t-i,e+n],[\"Z\"]]},cross:function(t,e,i){return[[\"M\",t-i,e-i],[\"L\",t+i,e+i],[\"M\",t+i,e-i],[\"L\",t-i,e+i]]},tick:function(t,e,i){return[[\"M\",t-i/2,e-i],[\"L\",t+i/2,e-i],[\"M\",t,e-i],[\"L\",t,e+i],[\"M\",t-i/2,e+i],[\"L\",t+i/2,e+i]]},plus:function(t,e,i){return[[\"M\",t-i,e],[\"L\",t+i,e],[\"M\",t,e-i],[\"L\",t,e+i]]},hyphen:function(t,e,i){return[[\"M\",t-i,e],[\"L\",t+i,e]]},line:function(t,e,i){return[[\"M\",t,e-i],[\"L\",t,e+i]]}}},fggK:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=i(\"mrSG\"),o=i(\"iTfj\");e.getStyle=function(t,e,i,r){void 0===r&&(r=\"\");var a=t.style,s=t.defaultStyle,l=t.color,c=t.size,u=n.__assign(n.__assign({},s),a);return l&&(e&&(o.get(a,\"stroke\")||(u.stroke=l)),i&&(o.get(a,\"fill\")||(u.fill=l))),r&&o.isNil(o.get(a,r))&&!o.isNil(c)&&(u[r]=c),u}},iTfj:function(t,e,i){\"use strict\";i.r(e);var n=function(t){return null!==t&&\"function\"!==typeof t&&isFinite(t.length)},o=function(t,e){return!!n(t)&&t.indexOf(e)>-1},r={}.toString,a=function(t,e){return r.call(t)===\"[object \"+e+\"]\"},s=function(t){return Array.isArray?Array.isArray(t):a(t,\"Array\")},l=function(t){var e=typeof t;return null!==t&&\"object\"===e||\"function\"===e};var c=function(t,e){if(t)if(s(t))for(var i=0,n=t.length;i<n&&!1!==e(t[i],i);i++);else if(l(t))for(var o in t)if(t.hasOwnProperty(o)&&!1===e(t[o],o))break},u=function(t,e){if(!n(t))return t;var i=[];return c(t,(function(t,n){e(t,n)&&i.push(t)})),i},h=function(t,e){return void 0===e&&(e=[]),u(t,(function(t){return!o(e,t)}))},p=function(t){return a(t,\"Function\")},f=function(t){return null===t||void 0===t},d=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return c(t,(function(i,n){p(t)&&\"prototype\"===n||e.push(n)})),e};var g=function(t,e){var i=d(e),n=i.length;if(f(t))return!n;for(var o=0;o<n;o+=1){var r=i[o];if(e[r]!==t[r]||!(r in t))return!1}return!0},y=function(t){return\"object\"===typeof t&&null!==t},m=function(t){if(!y(t)||!a(t,\"Object\"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var v=function(t,e){if(!s(t))return null;var i;if(p(e)&&(i=e),m(e)&&(i=function(t){return g(t,e)}),i)for(var n=0;n<t.length;n+=1)if(i(t[n]))return t[n];return null};var b=function(t,e,i){void 0===i&&(i=0);for(var n=i;n<t.length;n++)if(e(t[n],n))return n;return-1},x=function(t,e){for(var i=null,n=0;n<t.length;n++){var o=t[n][e];if(!f(o)){i=s(o)?o[0]:o;break}}return i},O=function(t){if(!s(t))return[];for(var e=[],i=0;i<t.length;i++)e=e.concat(t[i]);return e},j=function(t,e){if(void 0===e&&(e=[]),s(t))for(var i=0;i<t.length;i+=1)j(t[i],e);else e.push(t);return e},M=j,w=function(t){if(!(t=u(t,(function(t){return!isNaN(t)}))).length)return{min:0,max:0};if(s(t[0])){for(var e=[],i=0;i<t.length;i++)e=e.concat(t[i]);t=e}var n=Math.max.apply(null,t);return{min:Math.min.apply(null,t),max:n}},_=Array.prototype,C=_.splice,S=_.indexOf,k=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=0;n<e.length;n++)for(var o=e[n],r=-1;(r=S.call(t,o))>-1;)C.call(t,r,1);return t},A=Array.prototype.splice,L=function(t,e){if(!n(t))return[];for(var i=t?e.length:0,o=i-1;i--;){var r=void 0,a=e[i];i!==o&&a===r||(r=a,A.call(t,a,1))}return t},B=function(t,e,i){if(!s(t)&&!m(t))return t;var n=i;return c(t,(function(t,i){n=e(n,t,i)})),n},D=function(t,e){var i=[];if(!n(t))return i;for(var o=-1,r=[],a=t.length;++o<a;){var s=t[o];e(s,o,t)&&(i.push(s),r.push(o))}return L(t,r),i},T=function(t){return a(t,\"String\")};var P=function(t,e){var i;if(p(e))i=function(t,i){return e(t)-e(i)};else{var n=[];T(e)?n.push(e):s(e)&&(n=e),i=function(t,e){for(var i=0;i<n.length;i+=1){var o=n[i];if(t[o]>e[o])return 1;if(t[o]<e[o])return-1}return 0}}return t.sort(i),t},I=function(t){var e=[];return c(t,(function(t){o(e,t)||e.push(t)})),e},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return I([].concat.apply([],t))},F=function(t,e){var i=[],n={};return t.forEach((function(t){var o=t[e];f(o)||(s(o)||(o=[o]),c(o,(function(t){n[t]||(i.push(t),n[t]=!0)})))})),i};function R(t){if(n(t))return t[0]}function Y(t){if(n(t)){return t[t.length-1]}}var N=function(t,e){return!(!s(t)&&!T(t))&&t[0]===e};var z=function(t,e){return!(!s(t)&&!T(t))&&t[t.length-1]===e},H=function(t,e){for(var i=0;i<t.length;i++)if(!e(t[i],i))return!1;return!0},X=function(t,e){for(var i=0;i<t.length;i++)if(e(t[i],i))return!0;return!1},G=Object.prototype.hasOwnProperty;var V=function(t,e){if(!e||!s(t))return{};var i,n={},o=p(e)?e:function(t){return t[e]};return c(t,(function(t){i=o(t),G.call(n,i)?n[i].push(t):n[i]=[t]})),n},W=function(t,e){if(!e)return{0:t};if(!p(e)){var i=s(e)?e:e.replace(/\\s+/g,\"\").split(\"*\");e=function(t){for(var e=\"_\",n=0,o=i.length;n<o;n++)e+=t[i[n]]&&t[i[n]].toString();return e}}return V(t,e)},q=function(t,e){if(!e)return[t];var i=W(t,e),n=[];for(var o in i)n.push(i[o]);return n};var U=function(t,e){return t[\"_wrap_\"+e]};var $=function(t,e){if(t[\"_wrap_\"+e])return t[\"_wrap_\"+e];var i=function(i){t[e](i)};return t[\"_wrap_\"+e]=i,i},Z={};var K=function(t){var e=Z[t];if(!e){for(var i=t.toString(16),n=i.length;n<6;n++)i=\"0\"+i;e=\"#\"+i,Z[t]=e}return e};var Q=function(t){var e=0,i=0,n=0,o=0;return s(t)?1===t.length?e=i=n=o=t[0]:2===t.length?(e=n=t[0],i=o=t[1]):3===t.length?(e=t[0],i=o=t[1],n=t[2]):(e=t[0],i=t[1],n=t[2],o=t[3]):e=i=n=o=t,{r1:e,r2:i,r3:n,r4:o}},J=function(t,e,i){return t<e?e:t>i?i:t},tt=function(t,e){var i=e.toString(),n=i.indexOf(\".\");if(-1===n)return Math.round(t);var o=i.substr(n+1).length;return o>20&&(o=20),parseFloat(t.toFixed(o))},et=function(t){return a(t,\"Number\")},it=function(t){return et(t)&&t%1!==0},nt=function(t){return et(t)&&t%2===0},ot=Number.isInteger?Number.isInteger:function(t){return et(t)&&t%1===0},rt=function(t){return et(t)&&t<0},at=1e-5;function st(t,e,i){return void 0===i&&(i=at),Math.abs(t-e)<i}var lt=function(t){return et(t)&&t%2!==0},ct=function(t){return et(t)&&t>0},ut=function(t,e){if(s(t)){var i,n,o=t[0];return i=p(e)?e(t[0]):t[0][e],c(t,(function(t){(n=p(e)?e(t):t[e])>i&&(o=t,i=n)})),o}},ht=function(t,e){if(s(t)){var i,n,o=t[0];return i=p(e)?e(t[0]):t[0][e],c(t,(function(t){(n=p(e)?e(t):t[e])<i&&(o=t,i=n)})),o}},pt=function(t,e){return(t%e+e)%e},ft=180/Math.PI,dt=function(t){return ft*t},gt=parseInt,yt=Math.PI/180,mt=function(t){return yt*t},vt=c,bt=function(t,e){return t.hasOwnProperty(e)},xt=bt,Ot=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return c(t,(function(i,n){p(t)&&\"prototype\"===n||e.push(i)})),e},jt=function(t,e){return o(Ot(t),e)},Mt=function(t){return f(t)?\"\":t.toString()},wt=function(t){return Mt(t).toLowerCase()},_t=function(t){var e=Mt(t);return e.charAt(0).toLowerCase()+e.substring(1)};var Ct=function(t,e){return t&&e?t.replace(/\\\\?\\{([^{}]+)\\}/g,(function(t,i){return\"\\\\\"===t.charAt(0)?t.slice(1):void 0===e[i]?\"\":e[i]})):t},St=function(t){return Mt(t).toUpperCase()},kt=function(t){var e=Mt(t);return e.charAt(0).toUpperCase()+e.substring(1)},At={}.toString,Lt=function(t){return At.call(t).replace(/^\\[object /,\"\").replace(/]$/,\"\")},Bt=function(t){return a(t,\"Arguments\")},Dt=function(t){return a(t,\"Boolean\")},Tt=function(t){return a(t,\"Date\")},Pt=function(t){return a(t,\"Error\")},It=function(t){return et(t)&&isFinite(t)},Et=function(t){return null===t},Ft=Object.prototype,Rt=function(t){var e=t&&t.constructor;return t===(\"function\"===typeof e&&e.prototype||Ft)},Yt=function(t){return a(t,\"RegExp\")},Nt=function(t){return void 0===t},zt=function(t){return t instanceof Element||t instanceof HTMLDocument};function Ht(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}function Xt(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}function Gt(t,e){for(var i in e)e.hasOwnProperty(i)&&\"constructor\"!==i&&void 0!==e[i]&&(t[i]=e[i])}function Vt(t,e,i,n){return e&&Gt(t,e),i&&Gt(t,i),n&&Gt(t,n),t}var Wt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=t[0],n=1;n<t.length;n++){var o=t[n];p(o)&&(o=o.prototype),Vt(i.prototype,o)}},qt=function(t){if(\"object\"!==typeof t||null===t)return t;var e;if(s(t)){e=[];for(var i=0,n=t.length;i<n;i++)\"object\"===typeof t[i]&&null!=t[i]?e[i]=qt(t[i]):e[i]=t[i]}else for(var o in e={},t)\"object\"===typeof t[o]&&null!=t[o]?e[o]=qt(t[o]):e[o]=t[o];return e},Ut=qt;var $t=function(t,e,i){var n;return function(){var o=this,r=arguments,a=function(){n=null,i||t.apply(o,r)},s=i&&!n;clearTimeout(n),n=setTimeout(a,e),s&&t.apply(o,r)}},Zt=function(t,e){if(!p(t))throw new TypeError(\"Expected a function\");var i=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var r=e?e.apply(this,n):n[0],a=i.cache;if(a.has(r))return a.get(r);var s=t.apply(this,n);return a.set(r,s),s};return i.cache=new Map,i},Kt=5;function Qt(t,e,i,n){for(var o in i=i||0,n=n||Kt,e)if(e.hasOwnProperty(o)){var r=e[o];null!==r&&m(r)?(m(t[o])||(t[o]={}),i<n?Qt(t[o],r,i+1,n):t[o]=e[o]):s(r)?(t[o]=[],t[o]=t[o].concat(r)):void 0!==r&&(t[o]=r)}}var Jt=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=0;n<e.length;n+=1)Qt(t,e[n]);return t},te=function(t,e,i,n){p(e)||(i=e,e=t,t=function(){});var o=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function i(){}i.prototype=t;var n=new i;return n.constructor=e,n},r=o(e.prototype,t);return t.prototype=Vt(r,t.prototype),t.superclass=o(e.prototype,e),Vt(r,i),Vt(t,n),t},ee=function(t,e){if(!n(t))return-1;var i=Array.prototype.indexOf;if(i)return i.call(t,e);for(var o=-1,r=0;r<t.length;r++)if(t[r]===e){o=r;break}return o},ie=Object.prototype.hasOwnProperty;var ne=function(t){if(f(t))return!0;if(n(t))return!t.length;var e=Lt(t);if(\"Map\"===e||\"Set\"===e)return!t.size;if(Rt(t))return!Object.keys(t).length;for(var i in t)if(ie.call(t,i))return!1;return!0},oe=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(T(t)||T(e))return!1;if(n(t)||n(e)){if(t.length!==e.length)return!1;for(var i=!0,o=0;o<t.length&&(i=oe(t[o],e[o]));o++);return i}if(y(t)||y(e)){var r=Object.keys(t),a=Object.keys(e);if(r.length!==a.length)return!1;for(i=!0,o=0;o<r.length&&(i=oe(t[r[o]],e[r[o]]));o++);return i}return!1},re=oe,ae=function(t,e,i){return p(i)?!!i(t,e):re(t,e)},se=function(t,e){if(!n(t))return t;var i=[];return c(t,(function(t,n){i.push(e(t,n))})),i},le=function(t){return t},ce=function(t,e){void 0===e&&(e=le);var i={};return l(t)&&!f(t)&&Object.keys(t).forEach((function(n){i[n]=e(t[n],n)})),i},ue=function(t,e,i){for(var n=0,o=T(e)?e.split(\".\"):e;t&&n<o.length;)t=t[o[n++]];return void 0===t||n<o.length?i:t},he=function(t,e,i){var n=t,o=T(e)?e.split(\".\"):e;return o.forEach((function(t,e){e<o.length-1?(l(n[t])||(n[t]=et(o[e+1])?[]:{}),n=n[t]):n[t]=i})),t},pe=Object.prototype.hasOwnProperty,fe=function(t,e){if(null===t||!m(t))return{};var i={};return c(e,(function(e){pe.call(t,e)&&(i[e]=t[e])})),i},de=function(t,e,i){var n,o,r,a,s=0;i||(i={});var l=function(){s=!1===i.leading?0:Date.now(),n=null,a=t.apply(o,r),n||(o=r=null)},c=function(){var c=Date.now();s||!1!==i.leading||(s=c);var u=e-(c-s);return o=this,r=arguments,u<=0||u>e?(n&&(clearTimeout(n),n=null),s=c,a=t.apply(o,r),n||(o=r=null)):n||!1===i.trailing||(n=setTimeout(l,u)),a};return c.cancel=function(){clearTimeout(n),s=0,n=o=r=null},c},ge=function(t){return n(t)?Array.prototype.slice.call(t):[]},ye={},me=function(t){return ye[t=t||\"g\"]?ye[t]+=1:ye[t]=1,t+ye[t]},ve=function(){},be=function(t){return t};function xe(t){return f(t)?0:n(t)?t.length:Object.keys(t).length}var Oe=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var i=this.map[t];return void 0===i?e:i},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}();i.d(e,\"contains\",(function(){return o})),i.d(e,\"includes\",(function(){return o})),i.d(e,\"difference\",(function(){return h})),i.d(e,\"find\",(function(){return v})),i.d(e,\"findIndex\",(function(){return b})),i.d(e,\"firstValue\",(function(){return x})),i.d(e,\"flatten\",(function(){return O})),i.d(e,\"flattenDeep\",(function(){return M})),i.d(e,\"getRange\",(function(){return w})),i.d(e,\"pull\",(function(){return k})),i.d(e,\"pullAt\",(function(){return L})),i.d(e,\"reduce\",(function(){return B})),i.d(e,\"remove\",(function(){return D})),i.d(e,\"sortBy\",(function(){return P})),i.d(e,\"union\",(function(){return E})),i.d(e,\"uniq\",(function(){return I})),i.d(e,\"valuesOfKey\",(function(){return F})),i.d(e,\"head\",(function(){return R})),i.d(e,\"last\",(function(){return Y})),i.d(e,\"startsWith\",(function(){return N})),i.d(e,\"endsWith\",(function(){return z})),i.d(e,\"filter\",(function(){return u})),i.d(e,\"every\",(function(){return H})),i.d(e,\"some\",(function(){return X})),i.d(e,\"group\",(function(){return q})),i.d(e,\"groupBy\",(function(){return V})),i.d(e,\"groupToMap\",(function(){return W})),i.d(e,\"getWrapBehavior\",(function(){return U})),i.d(e,\"wrapBehavior\",(function(){return $})),i.d(e,\"number2color\",(function(){return K})),i.d(e,\"parseRadius\",(function(){return Q})),i.d(e,\"clamp\",(function(){return J})),i.d(e,\"fixedBase\",(function(){return tt})),i.d(e,\"isDecimal\",(function(){return it})),i.d(e,\"isEven\",(function(){return nt})),i.d(e,\"isInteger\",(function(){return ot})),i.d(e,\"isNegative\",(function(){return rt})),i.d(e,\"isNumberEqual\",(function(){return st})),i.d(e,\"isOdd\",(function(){return lt})),i.d(e,\"isPositive\",(function(){return ct})),i.d(e,\"maxBy\",(function(){return ut})),i.d(e,\"minBy\",(function(){return ht})),i.d(e,\"mod\",(function(){return pt})),i.d(e,\"toDegree\",(function(){return dt})),i.d(e,\"toInteger\",(function(){return gt})),i.d(e,\"toRadian\",(function(){return mt})),i.d(e,\"forIn\",(function(){return vt})),i.d(e,\"has\",(function(){return bt})),i.d(e,\"hasKey\",(function(){return xt})),i.d(e,\"hasValue\",(function(){return jt})),i.d(e,\"keys\",(function(){return d})),i.d(e,\"isMatch\",(function(){return g})),i.d(e,\"values\",(function(){return Ot})),i.d(e,\"lowerCase\",(function(){return wt})),i.d(e,\"lowerFirst\",(function(){return _t})),i.d(e,\"substitute\",(function(){return Ct})),i.d(e,\"upperCase\",(function(){return St})),i.d(e,\"upperFirst\",(function(){return kt})),i.d(e,\"getType\",(function(){return Lt})),i.d(e,\"isArguments\",(function(){return Bt})),i.d(e,\"isArray\",(function(){return s})),i.d(e,\"isArrayLike\",(function(){return n})),i.d(e,\"isBoolean\",(function(){return Dt})),i.d(e,\"isDate\",(function(){return Tt})),i.d(e,\"isError\",(function(){return Pt})),i.d(e,\"isFunction\",(function(){return p})),i.d(e,\"isFinite\",(function(){return It})),i.d(e,\"isNil\",(function(){return f})),i.d(e,\"isNull\",(function(){return Et})),i.d(e,\"isNumber\",(function(){return et})),i.d(e,\"isObject\",(function(){return l})),i.d(e,\"isObjectLike\",(function(){return y})),i.d(e,\"isPlainObject\",(function(){return m})),i.d(e,\"isPrototype\",(function(){return Rt})),i.d(e,\"isRegExp\",(function(){return Yt})),i.d(e,\"isString\",(function(){return T})),i.d(e,\"isType\",(function(){return a})),i.d(e,\"isUndefined\",(function(){return Nt})),i.d(e,\"isElement\",(function(){return zt})),i.d(e,\"requestAnimationFrame\",(function(){return Ht})),i.d(e,\"clearAnimationFrame\",(function(){return Xt})),i.d(e,\"augment\",(function(){return Wt})),i.d(e,\"clone\",(function(){return Ut})),i.d(e,\"debounce\",(function(){return $t})),i.d(e,\"memoize\",(function(){return Zt})),i.d(e,\"deepMix\",(function(){return Jt})),i.d(e,\"each\",(function(){return c})),i.d(e,\"extend\",(function(){return te})),i.d(e,\"indexOf\",(function(){return ee})),i.d(e,\"isEmpty\",(function(){return ne})),i.d(e,\"isEqual\",(function(){return re})),i.d(e,\"isEqualWith\",(function(){return ae})),i.d(e,\"map\",(function(){return se})),i.d(e,\"mapValues\",(function(){return ce})),i.d(e,\"mix\",(function(){return Vt})),i.d(e,\"assign\",(function(){return Vt})),i.d(e,\"get\",(function(){return ue})),i.d(e,\"set\",(function(){return he})),i.d(e,\"pick\",(function(){return fe})),i.d(e,\"throttle\",(function(){return de})),i.d(e,\"toArray\",(function(){return ge})),i.d(e,\"toString\",(function(){return Mt})),i.d(e,\"uniqueId\",(function(){return me})),i.d(e,\"noop\",(function(){return ve})),i.d(e,\"identity\",(function(){return be})),i.d(e,\"size\",(function(){return xe})),i.d(e,\"Cache\",(function(){return Oe}))},jCkq:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=i(\"mrSG\"),o=i(\"fIp6\"),r=i(\"iTfj\"),a=i(\"6UX8\"),s=i(\"Zsql\"),l=i(\"O4U/\"),c=i(\"nkna\"),u=i(\"/OH1\"),h=i(\"AmJ+\");function p(t){return t+\"px\"}var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return n.__assign(n.__assign({},e),{name:\"tooltip\",type:\"html\",x:0,y:0,items:[],containerTpl:'<div class=\"'+c.CONTAINER_CLASS+'\"><div class=\"'+c.TITLE_CLASS+'\"></div><ul class=\"'+c.LIST_CLASS+'\"></ul></div>',itemTpl:'<li class=\"'+c.LIST_ITEM_CLASS+'\" data-index={index}>\\n          <span class=\"'+c.MARKER_CLASS+'\" style=\"background:{color}\"></span>\\n          <span class=\"'+c.NAME_CLASS+'\">{name}</span>:\\n          <span class=\"'+c.VALUE_CLASS+'\">{value}</span>\\n        </li>',xCrosshairTpl:'<div class=\"'+c.CROSSHAIR_X+'\"></div>',yCrosshairTpl:'<div class=\"'+c.CROSSHAIR_Y+'\"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,crosshairs:null,offset:10,position:\"right\",domStyles:null,defaultStyles:u.default})},e.prototype.render=function(){this.resetTitle(),this.renderItems(),this.resetPosition()},e.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(\"\"),this.clearItemDoms()},e.prototype.update=function(e){t.prototype.update.call(this,e),function(t,e){var i=!1;return r.each(e,(function(e){if(r.hasKey(t,e))return i=!0,!1})),i}(e,[\"title\",\"showTitle\"])&&this.resetTitle(),r.hasKey(e,\"items\")&&this.renderItems(),r.hasKey(e,\"domStyles\")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},e.prototype.show=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set(\"visible\",!0),o.modifyCSS(t,{visibility:\"visible\"}),this.setCrossHairsVisible(!0))},e.prototype.hide=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set(\"visible\",!1),o.modifyCSS(t,{visibility:\"hidden\"}),this.setCrossHairsVisible(!1))},e.prototype.getLocation=function(){return{x:this.get(\"x\"),y:this.get(\"y\")}},e.prototype.setLocation=function(t){this.set(\"x\",t.x),this.set(\"y\",t.y),this.resetPosition()},e.prototype.setCrossHairsVisible=function(t){var e=t?\"\":\"none\",i=this.get(\"xCrosshairDom\"),n=this.get(\"yCrosshairDom\");i&&o.modifyCSS(i,{display:e}),n&&o.modifyCSS(n,{display:e})},e.prototype.initContainer=function(){t.prototype.initContainer.call(this),this.cacheDoms(),this.resetStyles(),this.applyStyles()},e.prototype.removeDom=function(){t.prototype.removeDom.call(this),this.clearCrosshairs()},e.prototype.cacheDoms=function(){var t=this.getContainer(),e=t.getElementsByClassName(c.TITLE_CLASS)[0],i=t.getElementsByClassName(c.LIST_CLASS)[0];this.set(\"titleDom\",e),this.set(\"listDom\",i)},e.prototype.resetPosition=function(){var t,e=this.get(\"x\"),i=this.get(\"y\"),n=this.get(\"offset\"),r=this.getOffset(),a=r.offsetX,s=r.offsetY,c=this.get(\"position\"),u=this.get(\"region\"),f=this.getContainer(),d=this.getBBox(),g=d.width,y=d.height;u&&(t=l.regionToBBox(u));var m=h.getAlignPoint(e,i,n,g,y,c,t);o.modifyCSS(f,{left:p(m.x+a),top:p(m.y+s)}),this.resetCrosshairs()},e.prototype.resetTitle=function(){var t=this.get(\"title\");this.get(\"showTitle\")&&t?this.setTitle(t):this.setTitle(\"\")},e.prototype.setTitle=function(t){var e=this.get(\"titleDom\");e&&(e.innerText=t)},e.prototype.resetCrosshairs=function(){var t=this.get(\"crosshairsRegion\"),e=this.get(\"crosshairs\");if(t&&e){var i=l.regionToBBox(t),n=this.get(\"xCrosshairDom\"),o=this.get(\"yCrosshairDom\");\"x\"===e?(this.resetCrosshair(\"x\",i),o&&(o.remove(),this.set(\"yCrosshairDom\",null))):\"y\"===e?(this.resetCrosshair(\"y\",i),n&&(n.remove(),this.set(\"xCrosshairDom\",null))):(this.resetCrosshair(\"x\",i),this.resetCrosshair(\"y\",i)),this.setCrossHairsVisible(this.get(\"visible\"))}else this.clearCrosshairs()},e.prototype.resetCrosshair=function(t,e){var i=this.checkCrosshair(t),n=this.get(t);\"x\"===t?o.modifyCSS(i,{left:p(n),top:p(e.y),height:p(e.height)}):o.modifyCSS(i,{top:p(n),left:p(e.x),width:p(e.width)})},e.prototype.checkCrosshair=function(t){var e=t+\"CrosshairDom\",i=t+\"CrosshairTpl\",n=\"CROSSHAIR_\"+t.toUpperCase(),r=c[n],a=this.get(e),s=this.get(\"parent\");return a||(a=o.createDom(this.get(i)),this.applyStyle(r,a),s.appendChild(a),this.set(e,a)),a},e.prototype.resetStyles=function(){var t=this.get(\"domStyles\"),e=this.get(\"defaultStyles\");t=t?r.deepMix({},e,t):e,this.set(\"domStyles\",t)},e.prototype.applyStyles=function(){var t=this.get(\"domStyles\"),e=this.getContainer();if(this.applyChildrenStyles(e,t),l.hasClass(e,c.CONTAINER_CLASS)){var i=t[c.CONTAINER_CLASS];o.modifyCSS(e,i)}},e.prototype.applyChildrenStyles=function(t,e){r.each(e,(function(e,i){var n=t.getElementsByClassName(i);r.each(n,(function(t){o.modifyCSS(t,e)}))}))},e.prototype.applyStyle=function(t,e){var i=this.get(\"domStyles\");o.modifyCSS(e,i[t])},e.prototype.renderItems=function(){this.clearItemDoms();var t=this.get(\"items\"),e=this.get(\"itemTpl\"),i=this.get(\"listDom\");r.each(t,(function(t){var s=a.default.toCSSGradient(t.color),l=n.__assign(n.__assign({},t),{color:s}),c=r.substitute(e,l),u=o.createDom(c);i.appendChild(u)})),this.applyChildrenStyles(i,this.get(\"domStyles\"))},e.prototype.clearItemDoms=function(){l.clearDom(this.get(\"listDom\"))},e.prototype.clearCrosshairs=function(){var t=this.get(\"xCrosshairDom\"),e=this.get(\"yCrosshairDom\");t&&t.remove(),e&&e.remove(),this.set(\"xCrosshairDom\",null),this.set(\"yCrosshairDom\",null)},e}(s.default);e.default=f},jWDG:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t},e.toRadian=function(t){return t*o},e.equals=function(t,e){return Math.abs(t-e)<=n*Math.max(1,Math.abs(t),Math.abs(e))};var n=e.EPSILON=1e-6;e.ARRAY_TYPE=\"undefined\"!==typeof Float32Array?Float32Array:Array,e.RANDOM=Math.random;var o=Math.PI/180},\"jk/P\":function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=i(\"6JdA\"),o=[1,0,0,0,1,0,0,0,1];function r(t,e){var i=[];return n.vec2.transformMat3(i,e,t),i}e.getMatrixByAngle=function(t,e){return e?n.transform(o,[[\"t\",-t.x,-t.y],[\"r\",e],[\"t\",t.x,t.y]]):null},e.getMatrixByTranslate=function(t,e){return t.x||t.y?n.transform(e||o,[[\"t\",t.x,t.y]]):null},e.getAngleByMatrix=function(t){var e=[];return n.vec3.transformMat3(e,[1,0,0],t),Math.atan2(e[1],e[0])},e.applyMatrix2BBox=function(t,e){var i=r(t,[e.minX,e.minY]),n=r(t,[e.maxX,e.minY]),o=r(t,[e.minX,e.maxY]),a=r(t,[e.maxX,e.maxY]),s=Math.min(i[0],n[0],o[0],a[0]),l=Math.max(i[0],n[0],o[0],a[0]),c=Math.min(i[1],n[1],o[1],a[1]),u=Math.max(i[1],n[1],o[1],a[1]);return{x:s,y:c,minX:s,minY:c,maxX:l,maxY:u,width:l-s,height:u-c}}},\"kd6+\":function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=i(\"Bu9b\"),o=i(\"W42+\"),r=i(\"Ydjw\"),a=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(r.default(t)||r.default(e))return!1;if(o.default(t)||o.default(e)){if(t.length!==e.length)return!1;for(var i=!0,s=0;s<t.length&&(i=a(t[s],e[s]));s++);return i}if(n.default(t)||n.default(e)){var l=Object.keys(t),c=Object.keys(e);if(l.length!==c.length)return!1;for(i=!0,s=0;s<l.length&&(i=a(t[l[s]],e[l[s]]));s++);return i}return!1};e.default=a},knIs:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=o,e.clone=function(t){var e=new n.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=r,e.fromValues=a,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,i,n){return t[0]=e,t[1]=i,t[2]=n,t},e.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t},e.subtract=s,e.multiply=l,e.divide=c,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t},e.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t},e.scaleAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t},e.distance=u,e.squaredDistance=h,e.squaredLength=p,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=f,e.dot=d,e.cross=function(t,e,i){var n=e[0],o=e[1],r=e[2],a=i[0],s=i[1],l=i[2];return t[0]=o*l-r*s,t[1]=r*a-n*l,t[2]=n*s-o*a,t},e.lerp=function(t,e,i,n){var o=e[0],r=e[1],a=e[2];return t[0]=o+n*(i[0]-o),t[1]=r+n*(i[1]-r),t[2]=a+n*(i[2]-a),t},e.hermite=function(t,e,i,n,o,r){var a=r*r,s=a*(2*r-3)+1,l=a*(r-2)+r,c=a*(r-1),u=a*(3-2*r);return t[0]=e[0]*s+i[0]*l+n[0]*c+o[0]*u,t[1]=e[1]*s+i[1]*l+n[1]*c+o[1]*u,t[2]=e[2]*s+i[2]*l+n[2]*c+o[2]*u,t},e.bezier=function(t,e,i,n,o,r){var a=1-r,s=a*a,l=r*r,c=s*a,u=3*r*s,h=3*l*a,p=l*r;return t[0]=e[0]*c+i[0]*u+n[0]*h+o[0]*p,t[1]=e[1]*c+i[1]*u+n[1]*h+o[1]*p,t[2]=e[2]*c+i[2]*u+n[2]*h+o[2]*p,t},e.random=function(t,e){e=e||1;var i=2*n.RANDOM()*Math.PI,o=2*n.RANDOM()-1,r=Math.sqrt(1-o*o)*e;return t[0]=Math.cos(i)*r,t[1]=Math.sin(i)*r,t[2]=o*e,t},e.transformMat4=function(t,e,i){var n=e[0],o=e[1],r=e[2],a=i[3]*n+i[7]*o+i[11]*r+i[15];return a=a||1,t[0]=(i[0]*n+i[4]*o+i[8]*r+i[12])/a,t[1]=(i[1]*n+i[5]*o+i[9]*r+i[13])/a,t[2]=(i[2]*n+i[6]*o+i[10]*r+i[14])/a,t},e.transformMat3=function(t,e,i){var n=e[0],o=e[1],r=e[2];return t[0]=n*i[0]+o*i[3]+r*i[6],t[1]=n*i[1]+o*i[4]+r*i[7],t[2]=n*i[2]+o*i[5]+r*i[8],t},e.transformQuat=function(t,e,i){var n=i[0],o=i[1],r=i[2],a=i[3],s=e[0],l=e[1],c=e[2],u=o*c-r*l,h=r*s-n*c,p=n*l-o*s,f=o*p-r*h,d=r*u-n*p,g=n*h-o*u,y=2*a;return u*=y,h*=y,p*=y,f*=2,d*=2,g*=2,t[0]=s+u+f,t[1]=l+h+d,t[2]=c+p+g,t},e.rotateX=function(t,e,i,n){var o=[],r=[];return o[0]=e[0]-i[0],o[1]=e[1]-i[1],o[2]=e[2]-i[2],r[0]=o[0],r[1]=o[1]*Math.cos(n)-o[2]*Math.sin(n),r[2]=o[1]*Math.sin(n)+o[2]*Math.cos(n),t[0]=r[0]+i[0],t[1]=r[1]+i[1],t[2]=r[2]+i[2],t},e.rotateY=function(t,e,i,n){var o=[],r=[];return o[0]=e[0]-i[0],o[1]=e[1]-i[1],o[2]=e[2]-i[2],r[0]=o[2]*Math.sin(n)+o[0]*Math.cos(n),r[1]=o[1],r[2]=o[2]*Math.cos(n)-o[0]*Math.sin(n),t[0]=r[0]+i[0],t[1]=r[1]+i[1],t[2]=r[2]+i[2],t},e.rotateZ=function(t,e,i,n){var o=[],r=[];return o[0]=e[0]-i[0],o[1]=e[1]-i[1],o[2]=e[2]-i[2],r[0]=o[0]*Math.cos(n)-o[1]*Math.sin(n),r[1]=o[0]*Math.sin(n)+o[1]*Math.cos(n),r[2]=o[2],t[0]=r[0]+i[0],t[1]=r[1]+i[1],t[2]=r[2]+i[2],t},e.angle=function(t,e){var i=a(t[0],t[1],t[2]),n=a(e[0],e[1],e[2]);f(i,i),f(n,n);var o=d(i,n);return o>1?0:o<-1?Math.PI:Math.acos(o)},e.str=function(t){return\"vec3(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\")\"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var i=t[0],o=t[1],r=t[2],a=e[0],s=e[1],l=e[2];return Math.abs(i-a)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(o-s)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(r-l)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(\"jWDG\"));function o(){var t=new n.ARRAY_TYPE(3);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function r(t){var e=t[0],i=t[1],n=t[2];return Math.sqrt(e*e+i*i+n*n)}function a(t,e,i){var o=new n.ARRAY_TYPE(3);return o[0]=t,o[1]=e,o[2]=i,o}function s(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}function l(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t}function c(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t}function u(t,e){var i=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(i*i+n*n+o*o)}function h(t,e){var i=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return i*i+n*n+o*o}function p(t){var e=t[0],i=t[1],n=t[2];return e*e+i*i+n*n}function f(t,e){var i=e[0],n=e[1],o=e[2],r=i*i+n*n+o*o;return r>0&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r),t}function d(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}e.sub=s,e.mul=l,e.div=c,e.dist=u,e.sqrDist=h,e.len=r,e.sqrLen=p,e.forEach=function(){var t=o();return function(e,i,n,o,r,a){var s=void 0,l=void 0;for(i||(i=3),n||(n=0),l=o?Math.min(o*i+n,e.length):e.length,s=n;s<l;s+=i)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],r(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}()},kzId:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return\"[Event (type=\"+this.type+\")]\"},t.prototype.save=function(){},t.prototype.restore=function(){},t}();e.default=n},\"ma/q\":function(t,e,i){\"use strict\";i.r(e);var n={};i.r(n),i.d(n,\"getDefault\",(function(){return Ct})),i.d(n,\"ellipsisHead\",(function(){return St})),i.d(n,\"ellipsisTail\",(function(){return kt})),i.d(n,\"ellipsisMiddle\",(function(){return At}));var o={};i.r(o),i.d(o,\"getDefault\",(function(){return Pt})),i.d(o,\"reserveFirst\",(function(){return It})),i.d(o,\"reserveLast\",(function(){return Et})),i.d(o,\"reserveBoth\",(function(){return Ft})),i.d(o,\"equidistance\",(function(){return Rt}));var r={};i.r(r),i.d(r,\"getDefault\",(function(){return Nt})),i.d(r,\"fixedAngle\",(function(){return zt})),i.d(r,\"unfixedAngle\",(function(){return Ht}));var a={};i.r(a),i.d(a,\"autoHide\",(function(){return o})),i.d(a,\"autoRotate\",(function(){return r})),i.d(a,\"autoEllipsis\",(function(){return n}));var s={};i.r(s),i.d(s,\"Line\",(function(){return Xt})),i.d(s,\"Circle\",(function(){return Gt})),i.d(s,\"Base\",(function(){return xt}));var l={};i.r(l),i.d(l,\"Category\",(function(){return $t})),i.d(l,\"Continuous\",(function(){return Zt})),i.d(l,\"Base\",(function(){return Ut}));var c={};i.r(c),i.d(c,\"CONTAINER_CLASS\",(function(){return te})),i.d(c,\"TITLE_CLASS\",(function(){return ee})),i.d(c,\"LIST_CLASS\",(function(){return ie})),i.d(c,\"LIST_ITEM_CLASS\",(function(){return ne})),i.d(c,\"MARKER_CLASS\",(function(){return oe})),i.d(c,\"VALUE_CLASS\",(function(){return re})),i.d(c,\"NAME_CLASS\",(function(){return ae})),i.d(c,\"CROSSHAIR_X\",(function(){return se})),i.d(c,\"CROSSHAIR_Y\",(function(){return le}));var u={};i.r(u),i.d(u,\"Html\",(function(){return he}));var h={};i.r(h),i.d(h,\"default\",(function(){return ji}));var p={};i.r(p),i.d(p,\"EVENT_MAP\",(function(){return R})),i.d(p,\"onEvent\",(function(){return z}));var f={};i.r(f),i.d(f,\"EVENT_MAP\",(function(){return R})),i.d(f,\"onEvent\",(function(){return z}));var d={};i.r(d),i.d(d,\"EVENT_MAP\",(function(){return R})),i.d(d,\"onEvent\",(function(){return z}));var g={};i.r(g),i.d(g,\"EVENT_MAP\",(function(){return R})),i.d(g,\"onEvent\",(function(){return z}));var y={};i.r(y),i.d(y,\"EVENT_MAP\",(function(){return R})),i.d(y,\"onEvent\",(function(){return z}));var m={};i.r(m),i.d(m,\"EVENT_MAP\",(function(){return R})),i.d(m,\"onEvent\",(function(){return z}));var v={};i.r(v),i.d(v,\"EVENT_MAP\",(function(){return R})),i.d(v,\"onEvent\",(function(){return z}));var b={};i.r(b),i.d(b,\"EVENT_MAP\",(function(){return R})),i.d(b,\"onEvent\",(function(){return z}));var x={};i.r(x),i.d(x,\"EVENT_MAP\",(function(){return R})),i.d(x,\"onEvent\",(function(){return z}));var O={};i.r(O),i.d(O,\"EVENT_MAP\",(function(){return R})),i.d(O,\"onEvent\",(function(){return z}));var j={};i.r(j),i.d(j,\"EVENT_MAP\",(function(){return R})),i.d(j,\"onEvent\",(function(){return z}));var M={};i.r(M),i.d(M,\"EVENT_MAP\",(function(){return R})),i.d(M,\"onEvent\",(function(){return z}));var w={};i.r(w),i.d(w,\"EVENT_MAP\",(function(){return R})),i.d(w,\"onEvent\",(function(){return z}));var _={};i.r(_),i.d(_,\"EVENT_MAP\",(function(){return R})),i.d(_,\"onEvent\",(function(){return z}));var C={};i.r(C),i.d(C,\"EVENT_MAP\",(function(){return R})),i.d(C,\"onEvent\",(function(){return z}));var S={};i.r(S),i.d(S,\"EVENT_MAP\",(function(){return R})),i.d(S,\"onEvent\",(function(){return z}));var k={};i.r(k),i.d(k,\"EVENT_MAP\",(function(){return R})),i.d(k,\"onEvent\",(function(){return z}));var A={};i.r(A),i.d(A,\"EVENT_MAP\",(function(){return R})),i.d(A,\"onEvent\",(function(){return z}));var L={};i.r(L),i.d(L,\"EVENT_MAP\",(function(){return R})),i.d(L,\"onEvent\",(function(){return z}));var B={};i.r(B),i.d(B,\"EVENT_MAP\",(function(){return R})),i.d(B,\"onEvent\",(function(){return z}));var D={};i.r(D),i.d(D,\"EVENT_MAP\",(function(){return R})),i.d(D,\"onEvent\",(function(){return z}));var T={second:{value:1e3,format:\"HH:mm:ss\"},miniute:{value:6e4,format:\"HH:mm\"},hour:{value:36e5,format:\"HH\"},day:{value:864e5,format:\"YYYY-MM-DD\"},week:{value:6048e5,format:\"YYYY-MM-DD\"},month:{value:2592e6,format:\"YYYY-MM\"},year:{value:31536e6,format:\"YYYY\"}},P=i(\"mrSG\"),I=i(\"Gd02\"),E=i.n(I),F=i(\"iTfj\"),R={onViewClick:\"click\",onViewDblClick:\"dblclick\",onViewMousemove:\"mousemove\",onViewMousedown:\"mousedown\",onViewMouseup:\"mouseup\",onViewMouseenter:\"mouseenter\",onViewMouseleave:\"mouseleave\",onViewContextmenu:\"contextmenu\",onAxisClick:\"axis-label:click\",onAxisDblClick:\"axis-label:dblclick\",onAxisMousemove:\"axis-label:mousemove\",onAxisMousedown:\"axis-label:mousedown\",onAxisMouseup:\"axis-label:mouseup\",onAxisMouseenter:\"axis-label:mouseenter\",onAxisMouseleave:\"axis-label:mouseleave\",onAxisContextmenu:\"axis-label:contextmenu\",onLabelClick:\"label:click\",onLabelDblClick:\"label:dblclick\",onLabelMousemove:\"label:mousemove\",onLabelMouseup:\"label:mouseup\",onLabelMousedown:\"label:mousedown\",onLabelMouseenter:\"label:mouseenter\",onLabelMouseleave:\"label:mouseleave\",onLabelContextmenu:\"label:contextmenu\",onLegendClick:\"legend-item:click\",onLegendDblClick:\"legend-item:dblclick\",onLegendMouseMove:\"legend-item:mousemove\",onLegendMouseDown:\"legend-item:mousedown\",onLegendMouseUp:\"legend-item:mouseup\",onLegendMouseLeave:\"legend-item:mouseleave\",onLegendMouseEnter:\"legend-item:mouseenter\",onLegendContextmenu:\"legend-item:contextmenu\"},Y={onPlotClick:\"click\",onPlotDblClick:\"dblclick\",onPlotMousemove:\"mousemove\",onPlotMousedown:\"mousedown\",onPlotMouseup:\"mouseup\",onPlotMouseenter:\"mouseenter\",onPlotMouseleave:\"mouseleave\",onPlotContextmenu:\"contextmenu\",onTitleClick:\"title:click\",onTitleDblClick:\"title:dblclick\",onTitleMousemove:\"title:mousemove\",onTitleMousedown:\"title:mousedown\",onTitleMouseup:\"title:mouseup\",onTitleMouseenter:\"title:mouseenter\",onTitleMouseleave:\"title:mouseleave\",onTitleContextmenu:\"title:contextmenu\",onDescriptionClick:\"description:click\",onDescriptionDblClick:\"description:dblclick\",onDescriptionMousemove:\"description:mousemove\",onDescriptionMousedown:\"description:mousedown\",onDescriptionMouseup:\"description:mouseup\",onDescriptionMouseenter:\"description:mouseenter\",onDescriptionMouseleave:\"description:mouseleave\",onDescriptionContextmenu:\"description:contextmenu\",onBreadcrumbClick:\"breadcrumb:click\",onBreadcrumbDblClick:\"breadcrumb:dblclick\",onBreadcrumbMousemove:\"breadcrumb:mousemove\",onBreadcrumbMousedown:\"breadcrumb:mousedown\",onBreadcrumbMouseup:\"breadcrumb:mouseup\",onBreadcrumbMouseenter:\"breadcrumb:mouseenter\",onBreadcrumbMouseleave:\"breadcrumb:mouseleave\",onBreadcrumbContextmenu:\"breadcrumb:contextmenu\"},N={onLayerClick:\"click\",onLayerDblClick:\"dblclick\",onLayerMousemove:\"mousemove\",onLayerMousedown:\"mousedown\",onLayerMouseup:\"mouseup\",onLayerMouseenter:\"mouseenter\",onLayerMouseleave:\"mouseleave\",onLayerContextmenu:\"contextmenu\"};function z(t,e,i){t.view.on(e,i)}var H=[\"Click\",\"Dblclick\",\"Mousemove\",\"Mouseenter\",\"Mouseleave\",\"Mousedown\",\"Mouseup\",\"Contextmenu\"];function X(t){var e={};return Object(F.each)(t,(function(t,i){var n=\"on\"+i,o=t+\":\";Object(F.each)(H,(function(t){var i=\"\"+n+t,r=t.toLowerCase(),a=\"\"+o+r;e[i]=a}))})),e}var G=function(){function t(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.height=n,this.width=i,this.x=t,this.y=e}return t.fromBBoxObject=function(e){return new t(e.x,e.y,e.width,e.height)},t.fromRange=function(e,i,n,o){return new t(e,i,n-e,o-i)},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},Object.defineProperty(t.prototype,\"minX\",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"maxX\",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"minY\",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"maxY\",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"tl\",{get:function(){return{x:this.x,y:this.y}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"tr\",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"bl\",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"br\",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!0,configurable:!0}),t}(),V=function(t){function e(e){var i=t.call(this)||this;return i.layers=[],i.destroyed=!1,i.visibility=!0,i.rendered=!1,i.eventHandlers=[],i.options=i.getOptions(e),i.processOptions(i.options),i}return Object(P.__extends)(e,t),e.prototype.processOptions=function(t){this.id=t.id,this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.canvas=t.canvas,this.parent=t.parent},e.prototype.updateConfig=function(t){this.options=Object(F.deepMix)({},this.options,t),this.processOptions(this.options)},e.prototype.beforeInit=function(){},e.prototype.init=function(){this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.eachLayer((function(t){t.init()}))},e.prototype.afterInit=function(){},e.prototype.render=function(){this.rendered||(this.container=this.parent?this.parent.container.addGroup():this.canvas.addGroup()),this.rendered=!0,this.beforeInit(),this.init(),this.afterInit(),this.eachLayer((function(t){t.render()})),this.canvas.draw()},e.prototype.clear=function(){this.eachLayer((function(t){t.destroy()})),this.layers=[],this.container.clear()},e.prototype.destroy=function(){var t=this;this.eachLayer((function(t){t.destroy()})),Object(F.each)(this.eventHandlers,(function(e){t.off(e.eventName,e.handler)})),this.container.remove(!0),this.destroyed=!0},e.prototype.show=function(){this.container.attr(\"visible\",!0),this.container.set(\"visible\",!0),this.visibility=!0,this.canvas.draw()},e.prototype.hide=function(){this.container.attr(\"visible\",!1),this.container.set(\"visible\",!1),this.visibility=!1,this.canvas.draw()},e.prototype.addLayer=function(t){Object(F.findIndex)(this.layers,(function(e){return e===t}))<0&&(t.parent!==this&&(t.parent=this,t.init()),this.layers.push(t))},e.prototype.removeLayer=function(t){var e=Object(F.findIndex)(this.layers,(function(e){return e===t}));e>=0&&this.layers.splice(e,1)},e.prototype.updateBBox=function(t,e){void 0===e&&(e=!1);var i={x:this.x,y:this.y,width:this.width,height:this.height},n=Object(F.deepMix)({},i,t);this.x=n.x,this.y=n.y,this.width=n.width,this.height=n.height,this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.render(),e&&this.eachLayer((function(t){t.updateBBoxByParent(),t.render()})),this.canvas.draw()},e.prototype.updateBBoxByParent=function(){var t=this.layerRegion;this.x=this.parent.x+this.parent.width*t.start.x,this.y=this.parent.y+this.parent.height*t.start.y,this.width=this.parent.width*(t.end.x-t.start.x),this.height=this.parent.height*(t.end.y-t.start.y),this.layerBBox=this.getLayerBBox()},e.prototype.getGlobalPosition=function(){for(var t=this.x,e=this.y,i=this.parent;i;)t+=i.x,e+=i.y,i=i.parent;return{x:t,y:e}},e.prototype.getGlobalBBox=function(){var t=this.getGlobalPosition();return new G(t.x,t.y,this.width,this.height)},e.prototype.getOptions=function(t){var e=0,i=0;t.parent&&(e=t.parent.width,i=t.parent.height);var n={x:0,y:0,width:e,height:i};return Object(F.deepMix)({},n,t)},e.prototype.eachLayer=function(t){Object(F.each)(this.layers,t)},e.prototype.parseEvents=function(t){var e=this,i=Object(F.keys)(N);Object(F.each)(t,(function(t,n){if(Object(F.contains)(i,n)&&Object(F.isFunction)(t)){var o=N[n]||n,r=t;e.on(o,r),e.eventHandlers.push({name:o,handler:r})}}))},e.prototype.getLayerBBox=function(){return new G(this.x,this.y,this.width,this.height)},e.prototype.getLayerRegion=function(){if(this.parent){var t=this.parent.width,e=this.parent.height,i=this.parent.x,n=this.parent.y;return{start:{x:(this.x-i)/t,y:(this.y-n)/e},end:{x:(this.x+this.width-i)/t,y:(this.y+this.height-n)/e}}}return{start:{x:0,y:0},end:{x:1,y:1}}},e}(E.a),W=i(\"kfiF\"),q=i(\"bnPk\"),U=i(\"+fYs\"),$=i(\"yLks\"),Z=i(\"jCkq\"),K=i.n(Z),Q=i(\"kzId\"),J=i.n(Q);var tt=i(\"6JdA\"),et=[1,0,0,0,1,0,0,0,1];function it(t,e){return e?Object(tt.transform)(et,[[\"t\",-t.x,-t.y],[\"r\",e],[\"t\",t.x,t.y]]):null}function nt(t,e){return t.x||t.y?Object(tt.transform)(e||et,[[\"t\",t.x,t.y]]):null}function ot(t,e){var i=[];return tt.vec2.transformMat3(i,e,t),i}function rt(t){var e=0,i=0,n=0,o=0;return Object(F.isNumber)(t)?e=i=n=o=t:Object(F.isArray)(t)&&(e=t[0],n=Object(F.isNil)(t[1])?t[0]:t[1],o=Object(F.isNil)(t[2])?t[0]:t[2],i=Object(F.isNil)(t[3])?n:t[3]),[e,n,o,i]}function at(t){for(var e=t.childNodes,i=e.length-1;i>=0;i--)t.removeChild(e[i])}function st(t){var e=t.start,i=t.end,n=Math.min(e.x,i.x),o=Math.min(e.y,i.y),r=Math.max(e.x,i.x),a=Math.max(e.y,i.y);return{x:n,y:o,minX:n,minY:o,maxX:r,maxY:a,width:r-n,height:a-o}}function lt(t,e,i,n){return{x:t,y:e,width:i,height:n,minX:t,minY:e,maxX:t+i,maxY:e+n}}function ct(t,e,i){return(1-i)*t+e*i}function ut(t,e,i){return{x:t.x+Math.cos(i)*e,y:t.y+Math.sin(i)*e}}function ht(t){var e,i=t.getClip(),n=i&&i.getBBox();if(t.isGroup()){var o=1/0,r=-1/0,a=1/0,s=-1/0,l=t.getChildren();l.length>0?Object(F.each)(l,(function(t){if(t.get(\"visible\")){if(t.isGroup()&&0===t.get(\"children\").length)return!0;var e=ht(t),i=t.applyToMatrix([e.minX,e.minY,1]),n=t.applyToMatrix([e.minX,e.maxY,1]),l=t.applyToMatrix([e.maxX,e.minY,1]),c=t.applyToMatrix([e.maxX,e.maxY,1]),u=Math.min(i[0],n[0],l[0],c[0]),h=Math.max(i[0],n[0],l[0],c[0]),p=Math.min(i[1],n[1],l[1],c[1]),f=Math.max(i[1],n[1],l[1],c[1]);u<o&&(o=u),h>r&&(r=h),p<a&&(a=p),f>s&&(s=f)}})):(o=0,r=0,a=0,s=0),e=lt(o,a,r-o,s-a)}else e=t.getBBox();return n?function(t,e){var i=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY);return lt(i,n,Math.min(t.maxX,e.maxX)-i,Math.min(t.maxY,e.maxY)-n)}(e,n):e}var pt=i(\"aFU3\"),ft={none:[],point:[\"x\",\"y\"],region:[\"start\",\"end\"],points:[\"points\"],circle:[\"center\",\"radius\",\"startAngle\",\"endAngle\"]},dt=function(t){function e(e){var i=t.call(this,e)||this;return i.initCfg(),i}return Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{id:\"\",name:\"\",type:\"\",locationType:\"none\",offsetX:0,offsetY:0,animate:!1,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:\"easeQuadInOut\"},enter:{duration:400,easing:\"easeQuadInOut\"},leave:{duration:350,easing:\"easeQuadIn\"}},events:null,defaultCfg:{},visible:!0}},e.prototype.clear=function(){},e.prototype.update=function(t){var e=this,i=this.get(\"defaultCfg\");Object(F.each)(t,(function(t,n){var o=t;e.get(n)!==t&&(Object(F.isObject)(t)&&i[n]&&(o=Object(F.deepMix)({},i[n],t)),e.set(n,o))}))},e.prototype.getLayoutBBox=function(){return this.getBBox()},e.prototype.getLocationType=function(){return this.get(\"locationType\")},e.prototype.getOffset=function(){return{offsetX:this.get(\"offsetX\"),offsetY:this.get(\"offsetY\")}},e.prototype.setOffset=function(t,e){this.update({offsetX:t,offsetY:e})},e.prototype.setLocation=function(t){var e=Object(P.__assign)({},t);this.update(e)},e.prototype.getLocation=function(){var t=this,e={},i=this.get(\"locationType\"),n=ft[i];return Object(F.each)(n,(function(i){e[i]=t.get(i)})),e},e.prototype.isList=function(){return!1},e.prototype.isSlider=function(){return!1},e.prototype.init=function(){},e.prototype.initCfg=function(){var t=this,e=this.get(\"defaultCfg\");Object(F.each)(e,(function(e,i){var n=t.get(i);if(Object(F.isObject)(n)){var o=Object(F.deepMix)({},e,n);t.set(i,o)}}))},e}(pt.Base),gt=[\"visible\",\"tip\",\"delegateObject\"],yt=[\"container\",\"group\",\"shapesMap\",\"isRegister\",\"isUpdating\",\"destroyed\"],mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},e.prototype.remove=function(){this.clear(),this.get(\"group\").remove()},e.prototype.clear=function(){this.get(\"group\").clear(),this.set(\"shapesMap\",{}),this.clearOffScreenCache(),this.set(\"isInit\",!0)},e.prototype.getChildComponentById=function(t){var e=this.getElementById(t);return e&&e.get(\"component\")},e.prototype.getElementById=function(t){return this.get(\"shapesMap\")[t]},e.prototype.getElementByLocalId=function(t){var e=this.getElementId(t);return this.getElementById(e)},e.prototype.getElementsByName=function(t){var e=[];return Object(F.each)(this.get(\"shapesMap\"),(function(i){i.get(\"name\")===t&&e.push(i)})),e},e.prototype.getContainer=function(){return this.get(\"container\")},e.prototype.update=function(e){t.prototype.update.call(this,e),this.offScreenRender(),this.get(\"updateAutoRender\")&&this.render()},e.prototype.render=function(){var t=this.get(\"offScreenGroup\");t||(t=this.offScreenRender());var e=this.get(\"group\");this.updateElements(t,e),this.deleteElements(),this.applyOffset(),this.get(\"eventInitted\")||(this.initEvent(),this.set(\"eventInitted\",!0)),this.set(\"isInit\",!1)},e.prototype.show=function(){this.get(\"group\").show(),this.set(\"visible\",!0)},e.prototype.hide=function(){this.get(\"group\").hide(),this.set(\"visible\",!1)},e.prototype.destroy=function(){this.removeEvent(),this.remove(),t.prototype.destroy.call(this)},e.prototype.getBBox=function(){return this.get(\"group\").getCanvasBBox()},e.prototype.getLayoutBBox=function(){var t=this.get(\"group\"),e=this.getInnerLayoutBBox(),i=t.getTotalMatrix();return i&&(e=function(t,e){var i=ot(t,[e.minX,e.minY]),n=ot(t,[e.maxX,e.minY]),o=ot(t,[e.minX,e.maxY]),r=ot(t,[e.maxX,e.maxY]),a=Math.min(i[0],n[0],o[0],r[0]),s=Math.max(i[0],n[0],o[0],r[0]),l=Math.min(i[1],n[1],o[1],r[1]),c=Math.max(i[1],n[1],o[1],r[1]);return{x:a,y:l,minX:a,minY:l,maxX:s,maxY:c,width:s-a,height:c-l}}(i,e)),e},e.prototype.on=function(t,e,i){return this.get(\"group\").on(t,e,i),this},e.prototype.off=function(t,e){var i=this.get(\"group\");return i&&i.off(t,e),this},e.prototype.emit=function(t,e){this.get(\"group\").emit(t,e)},e.prototype.init=function(){t.prototype.init.call(this),this.get(\"group\")||this.initGroup(),this.offScreenRender()},e.prototype.getInnerLayoutBBox=function(){return this.get(\"offScreenBBox\")||this.get(\"group\").getBBox()},e.prototype.delegateEmit=function(t,e){var i=this.get(\"group\");e.target=i,i.emit(t,e),function(t,e,i){var n=new J.a(e,i);n.target=t,n.propagationPath.push(t),t.emitDelegation(e,n);for(var o=t.getParent();o;)o.emitDelegation(e,n),n.propagationPath.push(o),o=o.getParent()}(i,t,e)},e.prototype.createOffScreenGroup=function(){return new(this.get(\"group\").getGroupBase())({delegateObject:this.getDelegateObject()})},e.prototype.applyOffset=function(){var t=this.get(\"offsetX\"),e=this.get(\"offsetY\");this.moveElementTo(this.get(\"group\"),{x:t,y:e})},e.prototype.initGroup=function(){var t=this.get(\"container\");this.set(\"group\",t.addGroup({id:this.get(\"id\"),name:this.get(\"name\"),capture:this.get(\"capture\"),visible:this.get(\"visible\"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},e.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set(\"offScreenGroup\",t),this.set(\"offScreenBBox\",ht(t)),t},e.prototype.addGroup=function(t,e){this.appendDelegateObject(t,e);var i=t.addGroup(e);return this.get(\"isRegister\")&&this.registerElement(i),i},e.prototype.addShape=function(t,e){this.appendDelegateObject(t,e);var i=t.addShape(e);return this.get(\"isRegister\")&&this.registerElement(i),i},e.prototype.addComponent=function(t,e){var i=e.id,n=e.component,o=Object(P.__rest)(e,[\"id\",\"component\"]),r=new n(Object(P.__assign)(Object(P.__assign)({},o),{id:i,container:t,updateAutoRender:this.get(\"updateAutoRender\")}));return r.init(),r.render(),this.get(\"isRegister\")&&this.registerElement(r.get(\"group\")),r},e.prototype.initEvent=function(){},e.prototype.removeEvent=function(){this.get(\"group\").off()},e.prototype.getElementId=function(t){return this.get(\"id\")+\"-\"+this.get(\"name\")+\"-\"+t},e.prototype.registerElement=function(t){var e=t.get(\"id\");this.get(\"shapesMap\")[e]=t},e.prototype.unregisterElement=function(t){var e=t.get(\"id\");delete this.get(\"shapesMap\")[e]},e.prototype.moveElementTo=function(t,e){var i=nt(e);t.attr(\"matrix\",i)},e.prototype.addAnimation=function(t,e,i){var n=e.attr(\"opacity\");Object(F.isNil)(n)&&(n=1),e.attr(\"opacity\",0),e.animate({opacity:n},i)},e.prototype.removeAnimation=function(t,e,i){e.animate({opacity:0},i)},e.prototype.updateAnimation=function(t,e,i,n){e.animate(i,n)},e.prototype.updateElements=function(t,e){var i,n=this,o=this.get(\"animate\"),r=this.get(\"animateOption\"),a=t.getChildren().slice(0);Object(F.each)(a,(function(t){var a=t.get(\"id\"),s=n.getElementById(a),l=t.get(\"name\");if(s)if(t.get(\"isComponent\")){var c=t.get(\"component\"),u=s.get(\"component\"),h=Object(F.pick)(c.cfg,Object(F.difference)(Object(F.keys)(c.cfg),yt));u.update(h),s.set(\"update_status\",\"update\")}else{var p=n.getReplaceAttrs(s,t);o&&r.update?n.updateAnimation(l,s,p,r.update):s.attr(p),t.isGroup()&&n.updateElements(t,s),Object(F.each)(gt,(function(e){s.set(e,t.get(e))})),function(t,e){if(t.getClip()||e.getClip()){var i=e.getClip();if(i){var n={type:i.get(\"type\"),attrs:i.attr()};t.setClip(n)}else t.setClip(null)}}(s,t),i=s,s.set(\"update_status\",\"update\")}else{e.add(t);var f=e.getChildren();if(f.splice(f.length-1,1),i){var d=f.indexOf(i);f.splice(d+1,0,t)}else f.unshift(t);if(n.registerElement(t),t.set(\"update_status\",\"add\"),t.get(\"isComponent\"))(c=t.get(\"component\")).set(\"container\",e);else t.isGroup()&&n.registerNewGroup(t);if(i=t,o){var g=n.get(\"isInit\")?r.appear:r.enter;g&&n.addAnimation(l,t,g)}}}))},e.prototype.clearUpdateStatus=function(t){var e=t.getChildren();Object(F.each)(e,(function(t){t.set(\"update_status\",null)}))},e.prototype.clearOffScreenCache=function(){var t=this.get(\"offScreenGroup\");t&&t.destroy(),this.set(\"offScreenGroup\",null),this.set(\"offScreenBBox\",null)},e.prototype.getDelegateObject=function(){var t;return(t={})[this.get(\"name\")]=this,t.component=this,t},e.prototype.appendDelegateObject=function(t,e){var i=t.get(\"delegateObject\");e.delegateObject||(e.delegateObject={}),Object(F.mix)(e.delegateObject,i)},e.prototype.getReplaceAttrs=function(t,e){var i=t.attr(),n=e.attr();return Object(F.each)(i,(function(t,e){void 0===n[e]&&(n[e]=void 0)})),n},e.prototype.registerNewGroup=function(t){var e=this,i=t.getChildren();Object(F.each)(i,(function(t){e.registerElement(t),t.set(\"update_status\",\"add\"),t.isGroup()&&e.registerNewGroup(t)}))},e.prototype.deleteElements=function(){var t=this,e=this.get(\"shapesMap\"),i=[];Object(F.each)(e,(function(t,e){!t.get(\"update_status\")||t.destroyed?i.push([e,t]):t.set(\"update_status\",null)}));var n=this.get(\"animate\"),o=this.get(\"animateOption\");Object(F.each)(i,(function(i){var r=i[0],a=i[1];if(!a.destroyed){var s=a.get(\"name\");if(n&&o.leave){var l=Object(F.mix)({callback:function(){t.removeElement(a)}},o.leave);t.removeAnimation(s,a,l)}else t.removeElement(a)}delete e[r]}))},e.prototype.removeElement=function(t){if(t.get(\"isGroup\")){var e=t.get(\"component\");e&&e.destroy()}t.remove()},e}(dt),vt={fontFamily:'\\n  \"-apple-system\", BlinkMacSystemFont, \"Segoe UI\", Roboto,\"Helvetica Neue\",\\n  Helvetica, \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\",\\n  SimSun, \"sans-serif\"',textColor:\"#2C3542\",activeTextColor:\"#333333\",uncheckedColor:\"#D8D8D8\",lineColor:\"#416180\",regionColor:\"#CCD7EB\",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4};(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{name:\"annotation\",type:\"line\",locationType:\"region\",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:vt.textColor,fontSize:12,textAlign:\"center\",textBaseline:\"bottom\",fontFamily:vt.fontFamily},text:{position:\"center\",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:vt.lineColor,lineWidth:1}}}})},e.prototype.renderInner=function(t){this.renderLine(t),this.get(\"text\")&&this.renderLabel(t)},e.prototype.renderLine=function(t){var e=this.get(\"start\"),i=this.get(\"end\"),n=this.get(\"style\");this.addShape(t,{type:\"line\",id:this.getElementId(\"line\"),name:\"annotation-line\",attrs:Object(P.__assign)({x1:e.x,y1:e.y,x2:i.x,y2:i.y},n)})},e.prototype.getLabelPoint=function(t,e,i){var n;return((n=\"start\"===i?0:\"center\"===i?.5:Object(F.isString)(i)&&-1!==i.indexOf(\"%\")?parseInt(i,10)/100:Object(F.isNumber)(i)?i:1)>1||n<0)&&(n=1),{x:ct(t.x,e.x,n),y:ct(t.y,e.y,n)}},e.prototype.renderLabel=function(t){var e=this.get(\"text\"),i=this.get(\"start\"),n=this.get(\"end\"),o=e.position,r=e.content,a=e.style,s=e.offsetX,l=e.offsetY,c=e.autoRotate,u=this.getLabelPoint(i,n,o),h=Object(P.__assign)({x:u.x+s,y:u.y+l,text:r},a);if(c){var p=[n.x-i.x,n.y-i.y],f=it(u,Math.atan2(p[1],p[0]));h.matrix=f}this.addShape(t,{type:\"text\",id:this.getElementId(\"line-text\"),name:\"annotation-line-text\",attrs:h})}})(mt),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{name:\"annotation\",type:\"text\",locationType:\"point\",x:0,y:0,content:\"\",rotate:null,style:{},defaultCfg:{style:{fill:vt.textColor,fontSize:12,textAlign:\"center\",textBaseline:\"middle\",fontFamily:vt.fontFamily}}})},e.prototype.setLocation=function(t){this.set(\"x\",t.x),this.set(\"y\",t.y),this.resetLocation()},e.prototype.renderInner=function(t){this.renderText(t)},e.prototype.renderText=function(t){var e=this.getLocation(),i=e.x,n=e.y,o=this.get(\"content\"),r=this.get(\"style\"),a=this.addShape(t,{type:\"text\",id:this.getElementId(\"text\"),name:\"annotation-text\",attrs:Object(P.__assign)({x:i,y:n,text:o},r)});this.applyRotate(a,i,n)},e.prototype.applyRotate=function(t,e,i){var n=this.get(\"rotate\"),o=null;n&&(o=it({x:e,y:i},n)),t.attr(\"matrix\",o)},e.prototype.resetLocation=function(){var t=this.getElementByLocalId(\"text\");if(t){var e=this.getLocation(),i=e.x,n=e.y;t.attr({x:i,y:n}),this.applyRotate(t,i,n)}}}(mt),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{name:\"annotation\",type:\"arc\",locationType:\"circle\",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,style:{stroke:\"#999\",lineWidth:1}})},e.prototype.renderInner=function(t){this.renderArc(t)},e.prototype.getArcPath=function(){var t=this.getLocation(),e=t.center,i=t.radius,n=t.startAngle,o=t.endAngle,r=ut(e,i,n),a=ut(e,i,o),s=o-n>Math.PI?1:0,l=[[\"M\",r.x,r.y]];if(o-n===2*Math.PI){var c=ut(e,i,n+Math.PI);l.push([\"A\",i,i,0,s,1,c.x,c.y]),l.push([\"A\",i,i,0,s,1,a.x,a.y])}else l.push([\"A\",i,i,0,s,1,a.x,a.y]);return l},e.prototype.renderArc=function(t){var e=this.getArcPath(),i=this.get(\"style\");this.addShape(t,{type:\"path\",id:this.getElementId(\"arc\"),name:\"annotation-arc\",attrs:Object(P.__assign)({path:e},i)})}}(mt),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{name:\"annotation\",type:\"region\",locationType:\"region\",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:vt.regionColor,opacity:.4}}})},e.prototype.renderInner=function(t){this.renderRegion(t)},e.prototype.renderRegion=function(t){var e=this.get(\"start\"),i=this.get(\"end\"),n=this.get(\"style\"),o=st({start:e,end:i});this.addShape(t,{type:\"rect\",id:this.getElementId(\"region\"),name:\"annotation-region\",attrs:Object(P.__assign)({x:o.x,y:o.y,width:o.width,height:o.height},n)})}}(mt),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{name:\"annotation\",type:\"image\",locationType:\"region\",start:null,end:null,src:null,style:{}})},e.prototype.renderInner=function(t){this.renderImage(t)},e.prototype.getImageAttrs=function(){var t=this.get(\"start\"),e=this.get(\"end\"),i=this.get(\"style\"),n=st({start:t,end:e}),o=this.get(\"src\");return Object(P.__assign)({x:n.x,y:n.y,img:o,width:n.width,height:n.height},i)},e.prototype.renderImage=function(t){this.addShape(t,{type:\"image\",id:this.getElementId(\"image\"),name:\"annotation-image\",attrs:this.getImageAttrs()})}}(mt),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{name:\"annotation\",type:\"dataMarker\",locationType:\"point\",x:0,y:0,point:{},line:{},text:{},direction:\"upward\",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:\"#FFFFFF\",stroke:\"#1890FF\",lineWidth:2}},line:{display:!0,length:20,style:{stroke:vt.lineColor,lineWidth:1}},text:{content:\"\",display:!0,style:{fill:vt.textColor,opacity:.65,fontSize:12,textAlign:\"start\",fontFamily:vt.fontFamily}}}})},e.prototype.renderInner=function(t){Object(F.get)(this.get(\"line\"),\"display\")&&this.renderLine(t),Object(F.get)(this.get(\"text\"),\"display\")&&this.renderText(t),Object(F.get)(this.get(\"point\"),\"display\")&&this.renderPoint(t),this.get(\"autoAdjust\")&&this.autoAdjust(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get(\"group\"),{x:this.get(\"x\")+this.get(\"offsetX\"),y:this.get(\"y\")+this.get(\"offsetY\")})},e.prototype.renderPoint=function(t){var e=this.getShapeAttrs().point;this.addShape(t,{type:\"circle\",id:this.getElementId(\"point\"),name:\"annotation-point\",attrs:e})},e.prototype.renderLine=function(t){var e=this.getShapeAttrs().line;this.addShape(t,{type:\"path\",id:this.getElementId(\"line\"),name:\"annotation-line\",attrs:e})},e.prototype.renderText=function(t){var e=this.getShapeAttrs().text;this.addShape(t,{type:\"text\",id:this.getElementId(\"text\"),name:\"annotation-text\",attrs:e})},e.prototype.autoAdjust=function(t){var e=this.get(\"direction\"),i=this.get(\"x\"),n=this.get(\"y\"),o=Object(F.get)(this.get(\"line\"),\"length\",0),r=this.get(\"coordinateBBox\"),a=t.getBBox(),s=a.minX,l=a.maxX,c=a.minY,u=a.maxY,h=t.findById(this.getElementId(\"text\")),p=t.findById(this.getElementId(\"line\"));if(r&&(h&&(i+s<=r.minX&&h.attr(\"textAlign\",\"start\"),i+l>=r.maxX&&h.attr(\"textAlign\",\"end\")),\"upward\"===e&&n+c<=r.minY||\"upward\"!==e&&n+u>=r.maxY)){var f=void 0,d=void 0;\"upward\"===e&&n+c<=r.minY?(f=\"top\",d=1):(f=\"bottom\",d=-1),h.attr(\"textBaseline\",f),p&&p.attr(\"path\",[[\"M\",0,0],[\"L\",0,o*d]]),h.attr(\"y\",(o+2)*d)}},e.prototype.getShapeAttrs=function(){var t=Object(F.get)(this.get(\"line\"),\"display\"),e=Object(F.get)(this.get(\"point\"),\"style\",{}),i=Object(F.get)(this.get(\"line\"),\"style\",{}),n=Object(F.get)(this.get(\"text\"),\"style\",{}),o=this.get(\"direction\"),r=t?Object(F.get)(this.get(\"line\"),\"length\",0):0,a=\"upward\"===o?-1:1;return{point:Object(P.__assign)({x:0,y:0},e),line:Object(P.__assign)({path:[[\"M\",0,0],[\"L\",0,r*a]]},i),text:Object(P.__assign)({x:0,y:(r+2)*a,text:Object(F.get)(this.get(\"text\"),\"content\",\"\"),textBaseline:\"upward\"===o?\"bottom\":\"top\"},n)}}}(mt),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{name:\"annotation\",type:\"dataRegion\",locationType:\"points\",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:vt.regionColor,opacity:.4}},text:{content:\"\",style:{textAlign:\"center\",textBaseline:\"bottom\",fontSize:12,fill:vt.textColor,fontFamily:vt.fontFamily}}}})},e.prototype.renderInner=function(t){var e=Object(F.get)(this.get(\"region\"),\"style\",{}),i=Object(F.get)(this.get(\"text\"),\"style\",{}),n=this.get(\"lineLength\")||0,o=this.get(\"points\");if(o.length){var r=function(t){var e=t.map((function(t){return t.x})),i=t.map((function(t){return t.y})),n=Math.min.apply(Math,e),o=Math.min.apply(Math,i),r=Math.max.apply(Math,e),a=Math.max.apply(Math,i);return{x:n,y:o,minX:n,minY:o,maxX:r,maxY:a,width:r-n,height:a-o}}(o),a=[];a.push([\"M\",o[0].x,r.minY-n]),o.forEach((function(t){a.push([\"L\",t.x,t.y])})),a.push([\"L\",o[o.length-1].x,o[o.length-1].y-n]),this.addShape(t,{type:\"path\",id:this.getElementId(\"region\"),name:\"annotation-region\",attrs:Object(P.__assign)({path:a},e)}),this.addShape(t,{type:\"text\",id:this.getElementId(\"text\"),name:\"annotation-text\",attrs:Object(P.__assign)({x:(r.minX+r.maxX)/2,y:r.minY-n,text:Object(F.get)(this.get(\"text\"),\"content\",\"\")},i)})}}}(mt),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{name:\"annotation\",type:\"regionFilter\",locationType:\"region\",start:null,end:null,color:null,shape:[]})},e.prototype.renderInner=function(t){var e=this,i=this.get(\"start\"),n=this.get(\"end\"),o=this.addGroup(t,{id:this.getElementId(\"region-filter\"),capture:!1});Object(F.each)(this.get(\"shapes\"),(function(t,i){var n=t.get(\"type\"),r=Object(F.clone)(t.attr());e.adjustShapeAttrs(r),e.addShape(o,{id:e.getElementId(\"shape-\"+n+\"-\"+i),capture:!1,type:n,attrs:r})}));var r=st({start:i,end:n});o.setClip({type:\"rect\",attrs:{x:r.minX,y:r.minY,width:r.width,height:r.height}})},e.prototype.adjustShapeAttrs=function(t){var e=this.get(\"color\");t.fill&&(t.fill=t.fillStyle=e),t.stroke=t.strokeStyle=e}}(mt);function bt(t,e,i){var n=e+\"Style\",o=null;return Object(F.each)(i,(function(e,i){t[i]&&e[n]&&(o||(o={}),Object(F.mix)(o,e[n]))})),o}var xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{name:\"axis\",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:[\"autoRotate\",\"autoEllipsis\",\"autoHide\"],tickStates:{},defaultCfg:{line:{style:{lineWidth:1,stroke:vt.lineColor}},tickLine:{style:{lineWidth:1,stroke:vt.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:vt.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:vt.textColor,textBaseline:\"middle\",fontFamily:vt.fontFamily,fontWeight:\"normal\"},offset:10},title:{autoRotate:!0,spacing:5,position:\"center\",style:{fontSize:12,fill:vt.textColor,textBaseline:\"middle\",fontFamily:vt.fontFamily,textAlign:\"center\"},offset:48},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:vt.uncheckedColor}}}}})},e.prototype.renderInner=function(t){this.get(\"line\")&&this.drawLine(t),this.drawTicks(t),this.get(\"title\")&&this.drawTitle(t)},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get(\"ticks\")},e.prototype.setItems=function(t){this.update({ticks:t})},e.prototype.updateItem=function(t,e){Object(F.mix)(t,e),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId(\"label-group\");t&&t.clear()},e.prototype.setItemState=function(t,e,i){t[e]=i,this.updateTickStates(t)},e.prototype.hasState=function(t,e){return!!t[e]},e.prototype.getItemStates=function(t){var e=this.get(\"tickStates\"),i=[];return Object(F.each)(e,(function(e,n){t[n]&&i.push(n)})),i},e.prototype.clearItemsState=function(t){var e=this,i=this.getItemsByState(t);Object(F.each)(i,(function(i){e.setItemState(i,t,!1)}))},e.prototype.getItemsByState=function(t){var e=this,i=this.getItems();return Object(F.filter)(i,(function(i){return e.hasState(i,t)}))},e.prototype.getSidePoint=function(t,e){var i=this.getSideVector(e,t);return{x:t.x+i[0],y:t.y+i[1]}},e.prototype.getTextAnchor=function(t){var e;return Object(F.isNumberEqual)(t[0],0)?e=\"center\":t[0]>0?e=\"start\":t[0]<0&&(e=\"end\"),e},e.prototype.processOverlap=function(t){},e.prototype.drawLine=function(t){var e=this.getLinePath(),i=this.get(\"line\");this.addShape(t,{type:\"path\",id:this.getElementId(\"line\"),name:\"axis-line\",attrs:Object(F.mix)({path:e},i.style)})},e.prototype.getTickLineItems=function(t){var e=this,i=[],n=this.get(\"tickLine\"),o=n.alignTick,r=n.length,a=1;return t.length>=2&&(a=t[1].value-t[0].value),Object(F.each)(t,(function(t){var n=t.point;o||(n=e.getTickPoint(t.value-a/2));var s=e.getSidePoint(n,r);i.push({startPoint:n,tickValue:t.value,endPoint:s,tickId:t.id,id:\"tickline-\"+t.id})})),i},e.prototype.getSubTickLineItems=function(t){var e=[],i=this.get(\"subTickLine\"),n=i.count,o=t.length;if(o>=2)for(var r=0;r<o-1;r++)for(var a=t[r],s=t[r+1],l=0;l<n;l++){var c=(l+1)/(n+1),u=(1-c)*a.tickValue+c*s.tickValue,h=this.getTickPoint(u),p=this.getSidePoint(h,i.length);e.push({startPoint:h,endPoint:p,tickValue:u,id:\"sub-\"+a.id+\"-\"+l})}return e},e.prototype.getTickLineAttrs=function(t){var e=this.get(\"tickLine\").style,i=t.startPoint,n=t.endPoint;return Object(F.mix)({x1:i.x,y1:i.y,x2:n.x,y2:n.y},e)},e.prototype.drawTick=function(t,e){this.addShape(e,{type:\"line\",id:this.getElementId(t.id),name:\"axis-tickline\",attrs:this.getTickLineAttrs(t)})},e.prototype.drawTickLines=function(t){var e=this,i=this.get(\"ticks\"),n=this.get(\"subTickLine\"),o=this.getTickLineItems(i),r=this.addGroup(t,{name:\"axis-tickline-group\",id:this.getElementId(\"tickline-group\")}),a=this.get(\"tickLine\");if(Object(F.each)(o,(function(i){if(a.displayWithLabel){var n=e.getElementId(\"label-\"+i.tickId);t.findById(n)&&e.drawTick(i,r)}else e.drawTick(i,r)})),n){var s=this.getSubTickLineItems(o);Object(F.each)(s,(function(t){e.drawTick(t,r)}))}},e.prototype.processTicks=function(){var t=this,e=this.get(\"ticks\");Object(F.each)(e,(function(e){e.point=t.getTickPoint(e.value),Object(F.isNil)(e.id)&&(e.id=e.name)}))},e.prototype.drawTicks=function(t){var e=this;this.processTicks(),this.get(\"label\")&&this.drawLabels(t),this.get(\"tickLine\")&&this.drawTickLines(t);var i=this.get(\"ticks\");Object(F.each)(i,(function(i){e.applyTickStates(i,t)}))},e.prototype.getLabelAttrs=function(t,e){var i=this.get(\"label\"),n=i.offset,o=i.style,r=i.rotate,a=i.formatter,s=this.getSidePoint(t.point,n),l=this.getSideVector(n,s),c=a?a(t.name,t,e):t.name,u=Object(F.mix)({x:s.x,y:s.y,text:c,textAlign:this.getTextAnchor(l)},o);return r&&(u.matrix=it(s,r)),u},e.prototype.drawLabels=function(t){var e=this,i=this.get(\"ticks\"),n=this.addGroup(t,{name:\"axis-label-group\",id:this.getElementId(\"label-group\")});Object(F.each)(i,(function(t,i){e.addShape(n,{type:\"text\",name:\"axis-label\",id:e.getElementId(\"label-\"+t.id),attrs:e.getLabelAttrs(t,i),delegateObject:{tick:t,item:t,index:i}})})),this.processOverlap(n)},e.prototype.getTitleAttrs=function(){var t=this.get(\"title\"),e=t.style,i=t.position,n=t.offset,o=t.autoRotate,r=.5;\"start\"===i?r=0:\"end\"===i&&(r=1);var a=this.getTickPoint(r),s=this.getSidePoint(a,n),l=Object(F.mix)({x:s.x,y:s.y,text:t.text},e),c=t.rotate,u=c;if(Object(F.isNil)(c)&&o){var h=this.getAxisVector(a);u=tt.vec2.angleTo(h,[1,0],!0)}if(u){var p=it(s,u);l.matrix=p}return l},e.prototype.drawTitle=function(t){this.addShape(t,{type:\"text\",id:this.getElementId(\"title\"),name:\"axis-title\",attrs:this.getTitleAttrs()})},e.prototype.applyTickStates=function(t,e){if(this.getItemStates(t).length){var i=this.get(\"tickStates\"),n=this.getElementId(\"label-\"+t.id),o=e.findById(n);if(o){var r=bt(t,\"label\",i);r&&o.attr(r)}var a=this.getElementId(\"tickline-\"+t.id),s=e.findById(a);if(s){var l=bt(t,\"tickLine\",i);l&&s.attr(l)}}},e.prototype.updateTickStates=function(t){var e=this.getItemStates(t),i=this.get(\"tickStates\"),n=this.get(\"label\"),o=this.getElementByLocalId(\"label-\"+t.id),r=this.get(\"tickLine\"),a=this.getElementByLocalId(\"tickline-\"+t.id);if(e.length){if(o){var s=bt(t,\"label\",i);s&&o.attr(s)}if(a){var l=bt(t,\"tickLine\",i);l&&a.attr(l)}}else o&&o.attr(n.style),a&&a.attr(r.style)},e}(mt),Ot=\"\\u2026\",jt=2;function Mt(t,e){return t.charCodeAt(e)>0&&t.charCodeAt(e)<128?1:2}function wt(t,e,i,n){var o=e.attr(\"text\"),r=function(t,e){var i=e.getCanvasBBox();return t?i.width:i.height}(t,e),a=function(t){for(var e=0,i=0;i<t.length;i++)e+=Mt(t,i);return e}(o),s=!1;if(i<r){var l=Math.floor(i/r*a)-jt,c=void 0;(c=l>=0?function(t,e,i){var n=t.length,o=\"\";if(\"tail\"===i){for(var r=0,a=0;r<e;){var s=Mt(t,a);if(!(r+s<=e))break;o+=t[a],r+=Mt(t,a),a++}o+=Ot}else if(\"head\"===i){for(r=0,a=n-1;r<e;){s=Mt(t,a);if(!(r+s<=e))break;o+=t[a],r+=Mt(t,a),a--}o=Ot+o}else{for(var l=\"\",c=\"\",u=(r=0,0),h=n-1;r<e;){var p=Mt(t,u),f=!1;p+r<=e&&(l+=t[u],u++,r+=p,f=!0);var d=Mt(t,h);if(d+r<=e&&(c=t[h]+c,r+=d,h--,f=!0),!f)break}o=l+Ot+c}return o}(o,l,n):Ot)&&(e.attr(\"text\",c),s=!0)}return s?e.set(\"tip\",o):e.set(\"tip\",null),s}function _t(t,e,i,n){var o=e.getChildren(),r=!1;return Object(F.each)(o,(function(e){var o=wt(t,e,i,n);r=r||o})),r}function Ct(){return kt}function St(t,e,i){return _t(t,e,i,\"head\")}function kt(t,e,i){return _t(t,e,i,\"tail\")}function At(t,e,i){return _t(t,e,i,\"middle\")}function Lt(t){var e=0;return Object(F.each)(t,(function(t){var i=t.getBBox().width;e<i&&(e=i)})),e}function Bt(t){var e=t.attr(\"matrix\");return e&&1!==e[0]}function Dt(t,e,i,n,o){void 0===o&&(o=!1);var r=!1;if(t)r=Math.abs(i.y-n.y)<i.height;else if(e){var a=o?n.height:i.height;r=Math.abs(i.x-n.x)<a}else{var s=o?n.width:i.width;r=Math.abs(i.x-n.x)<s}return r}function Tt(t,e,i){var n=e.getChildren().slice();if(!n.length)return!1;var o=!1;i&&n.reverse();for(var r=n.length,a=n[0],s=Bt(a),l=a.getBBox(),c=1;c<r;c++){var u=n[c],h=u.getBBox();Dt(t,s,l,h,i)?(u.hide(),o=!0):l=h}return o}function Pt(){return Rt}function It(t,e){return Tt(t,e,!1)}function Et(t,e){return Tt(t,e,!0)}function Ft(t,e){var i=e.getChildren().slice();if(i.length<=2)return!1;for(var n=!1,o=i.length,r=i[0],a=i[o-1],s=Bt(r),l=r.getBBox(),c=r,u=1;u<o-1;u++){var h=i[u],p=h.getBBox();Dt(t,s,l,p)?(h.hide(),n=!0):(l=p,c=h)}return Dt(t,s,l,a.getBBox())&&(c.hide(),n=!0),n}function Rt(t,e){var i=e.getChildren().slice();if(i.length<2)return!1;var n=!1,o=i[0],r=o.getBBox(),a=i[1],s=Bt(o),l=i.length,c=0;if(t){var u=Math.abs(a.attr(\"y\")-o.attr(\"y\"));c=r.height/u}else if(s){u=Math.abs(a.attr(\"x\")-o.attr(\"x\"));c=r.width/u}else{c=Lt(i)/(u=Math.abs(a.attr(\"x\")-o.attr(\"x\")))}if(c>1){c=Math.ceil(c);for(var h=0;h<l;h++)h%c!==0&&(i[h].hide(),n=!0)}return n}function Yt(t,e,i,n){var o=e.getChildren();if(!o.length)return!1;if(!t&&o.length<2)return!1;var r=Lt(o),a=!1;t?a=!!i&&r>i:a=r>Math.abs(o[1].attr(\"x\")-o[0].attr(\"x\"));a&&function(t,e){Object(F.each)(t,(function(t){var i=it({x:t.attr(\"x\"),y:t.attr(\"y\")},e);t.attr(\"matrix\",i)}))}(o,n(i,r));return a}function Nt(){return zt}function zt(t,e,i){return Yt(t,e,i,(function(){return t?vt.verticalAxisRotate:vt.horizontalAxisRotate}))}function Ht(t,e,i){return Yt(t,e,i,(function(e,i){if(!e)return t?vt.verticalAxisRotate:vt.horizontalAxisRotate;if(t)return-Math.acos(e/i);var n=0;return e>i?n=Math.PI/4:(n=Math.asin(e/i))>Math.PI/4&&(n=Math.PI/4),n}))}var Xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{type:\"line\",locationType:\"region\",start:null,end:null})},e.prototype.getLinePath=function(){var t=this.get(\"start\"),e=this.get(\"end\"),i=[];return i.push([\"M\",t.x,t.y]),i.push([\"L\",e.x,e.y]),i},e.prototype.getInnerLayoutBBox=function(){var e=this.get(\"start\"),i=this.get(\"end\"),n=t.prototype.getInnerLayoutBBox.call(this),o=Math.min(e.x,i.x,n.x),r=Math.min(e.y,i.y,n.y),a=Math.max(e.x,i.x,n.maxX),s=Math.max(e.y,i.y,n.maxY);return{x:o,y:r,minX:o,minY:r,maxX:a,maxY:s,width:a-o,height:s-r}},e.prototype.isVertical=function(){var t=this.get(\"start\"),e=this.get(\"end\");return Object(F.isNumberEqual)(t.x,e.x)},e.prototype.isHorizontal=function(){var t=this.get(\"start\"),e=this.get(\"end\");return Object(F.isNumberEqual)(t.y,e.y)},e.prototype.getTickPoint=function(t){var e=this.get(\"start\"),i=this.get(\"end\"),n=i.x-e.x,o=i.y-e.y;return{x:e.x+n*t,y:e.y+o*t}},e.prototype.getSideVector=function(t){var e=this.getAxisVector(),i=tt.vec2.normalize([],e),n=this.get(\"verticalFactor\"),o=[i[1],-1*i[0]];return tt.vec2.scale([],o,t*n)},e.prototype.getAxisVector=function(){var t=this.get(\"start\"),e=this.get(\"end\");return[e.x-t.x,e.y-t.y]},e.prototype.processOverlap=function(t){var e=this,i=this.isVertical(),n=this.isHorizontal();if(i||n){var o=this.get(\"label\"),r=this.get(\"title\"),a=this.get(\"verticalLimitLength\"),s=o.offset,l=a,c=0,u=0;r&&(c=r.style.fontSize,u=r.spacing),l&&(l=l-s-u-c);var h=this.get(\"overlapOrder\");if(Object(F.each)(h,(function(i){o[i]&&e.autoProcessOverlap(i,o[i],t,l)})),r){var p=t.getBBox(),f=i?p.width:p.height;r.offset=s+f+u+c/2}}},e.prototype.autoProcessOverlap=function(t,e,i,n){var o=this,r=this.isVertical(),s=!1,l=a[t];if(!0===e?s=l.getDefault()(r,i,n):Object(F.isFunction)(e)?s=e(r,i,n):l[e]&&(s=l[e](r,i,n)),\"autoRotate\"===t){if(s){var c=i.getChildren(),u=this.get(\"verticalFactor\");Object(F.each)(c,(function(t){if(\"center\"===t.attr(\"textAlign\")){var e=u>0?\"end\":\"start\";t.attr(\"textAlign\",e)}}))}}else if(\"autoHide\"===t){var h=i.getChildren().slice(0);Object(F.each)(h,(function(t){t.get(\"visible\")||(o.get(\"isRegister\")&&o.unregisterElement(t),t.remove())}))}},e}(xt),Gt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{type:\"circle\",locationType:\"circle\",center:null,radius:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},e.prototype.getLinePath=function(){var t=this.get(\"center\"),e=t.x,i=t.y,n=this.get(\"radius\"),o=n,r=this.get(\"startAngle\"),a=this.get(\"endAngle\"),s=[];if(Math.abs(a-r)===2*Math.PI)s=[[\"M\",e,i-o],[\"A\",n,o,0,1,1,e,i+o],[\"A\",n,o,0,1,1,e,i-o],[\"Z\"]];else{var l=this.getCirclePoint(r),c=this.getCirclePoint(a),u=Math.abs(a-r)>Math.PI?1:0,h=r>a?0:1;s=[[\"M\",e,i],[\"L\",l.x,l.y],[\"A\",n,o,0,u,h,c.x,c.y],[\"L\",e,i]]}return s},e.prototype.getTickPoint=function(t){var e=this.get(\"startAngle\"),i=e+(this.get(\"endAngle\")-e)*t;return this.getCirclePoint(i)},e.prototype.getSideVector=function(t,e){var i=this.get(\"center\"),n=[e.x-i.x,e.y-i.y],o=this.get(\"verticalFactor\"),r=tt.vec2.length(n);return tt.vec2.scale(n,n,o*t/r),n},e.prototype.getAxisVector=function(t){var e=this.get(\"center\"),i=[t.x-e.x,t.y-e.y];return[i[1],-1*i[0]]},e.prototype.getCirclePoint=function(t,e){var i=this.get(\"center\");return e=e||this.get(\"radius\"),{x:i.x+Math.cos(t)*e,y:i.y+Math.sin(t)*e}},e}(xt),Vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{name:\"crosshair\",type:\"base\",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:vt.lineColor}},text:{position:\"start\",offset:10,autoRotate:!1,content:null,style:{fill:vt.textColor,textAlign:\"center\",textBaseline:\"middle\",fontFamily:vt.fontFamily}},textBackground:{padding:5,style:{stroke:vt.lineColor}}}})},e.prototype.renderInner=function(t){this.get(\"line\")&&this.renderLine(t),this.get(\"text\")&&(this.renderText(t),this.renderBackground(t))},e.prototype.renderText=function(t){var e=this.get(\"text\"),i=e.style,n=e.autoRotate,o=e.content;if(!Object(F.isNil)(o)){var r=this.getTextPoint(),a=null;if(n)a=it(r,this.getRotateAngle());this.addShape(t,{type:\"text\",name:\"crosshair-text\",id:this.getElementId(\"text\"),attrs:Object(P.__assign)(Object(P.__assign)(Object(P.__assign)({},r),{text:o,matrix:a}),i)})}},e.prototype.renderLine=function(t){var e=this.getLinePath(),i=this.get(\"line\").style;this.addShape(t,{type:\"path\",name:\"crosshair-line\",id:this.getElementId(\"line\"),attrs:Object(P.__assign)({path:e},i)})},e.prototype.renderBackground=function(t){var e=this.getElementId(\"text\"),i=t.findById(e),n=this.get(\"textBackground\");if(n&&i){var o=i.getBBox(),r=rt(n.padding),a=n.style;this.addShape(t,{type:\"rect\",name:\"crosshair-text-background\",id:this.getElementId(\"text-background\"),attrs:Object(P.__assign)({x:o.x-r[3],y:o.y-r[0],width:o.width+r[1]+r[3],height:o.height+r[0]+r[2],matrix:i.attr(\"matrix\")},a)}).toBack()}},e}(mt),Wt=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{type:\"line\",locationType:\"region\",start:null,end:null})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.start,i=t.end,n=this.get(\"text\").position,o=Math.atan2(i.y-e.y,i.x-e.x);return\"start\"===n?o-Math.PI/2:o+Math.PI/2},e.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,i=t.end,n=this.get(\"text\"),o=n.position,r=n.offset/function(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)}(e,i),a=0;return\"start\"===o?a=0-r:\"end\"===o&&(a=1+r),{x:ct(e.x,i.x,a),y:ct(e.y,i.y,a)}},e.prototype.getLinePath=function(){var t=this.getLocation(),e=t.start,i=t.end;return[[\"M\",e.x,e.y],[\"L\",i.x,i.y]]}}(Vt),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{type:\"circle\",locationType:\"circle\",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.startAngle,i=t.endAngle;return\"start\"===this.get(\"text\").position?e+Math.PI/2:i-Math.PI/2},e.prototype.getTextPoint=function(){var t=this.get(\"text\"),e=t.position,i=t.offset,n=this.getLocation(),o=n.center,r=n.radius,a=n.startAngle,s=n.endAngle,l=\"start\"===e?a:s,c=this.getRotateAngle()-Math.PI,u=ut(o,r,l),h=Math.cos(c)*i,p=Math.sin(c)*i;return{x:u.x+h,y:u.y+p}},e.prototype.getLinePath=function(){var t=this.getLocation(),e=t.center,i=t.radius,n=t.startAngle,o=t.endAngle,r=null;if(o-n===2*Math.PI){var a=e.x,s=e.y;r=[[\"M\",a,s-i],[\"A\",i,i,0,1,1,a,s+i],[\"A\",i,i,0,1,1,a,s-i],[\"Z\"]]}else{var l=ut(e,i,n),c=ut(e,i,o),u=Math.abs(o-n)>Math.PI?1:0,h=n>o?0:1;r=[[\"M\",l.x,l.y],[\"A\",i,i,0,u,h,c.x,c.y]]}return r}}(Vt),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{name:\"grid\",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:\"line\",style:{lineWidth:1,stroke:vt.lineColor}}}})},e.prototype.getLineType=function(){return(this.get(\"line\")||this.get(\"defaultCfg\").line).type},e.prototype.renderInner=function(t){this.drawGrid(t)},e.prototype.getAlternatePath=function(t,e){var i=this.getGridPath(t),n=e.slice(0).reverse(),o=this.getGridPath(n,!0);return this.get(\"closed\")?i=i.concat(o):(o[0][0]=\"L\",(i=i.concat(o)).push([\"Z\"])),i},e.prototype.getPathStyle=function(){return this.get(\"line\").style},e.prototype.drawGrid=function(t){var e=this,i=this.get(\"line\"),n=this.get(\"items\"),o=this.get(\"alternateColor\"),r=null;Object(F.each)(n,(function(n,a){var s=n.id||a;if(i){var l=e.getPathStyle(),c=e.getElementId(\"line-\"+s),u=e.getGridPath(n.points);e.addShape(t,{type:\"path\",name:\"grid-line\",id:c,attrs:Object(F.mix)({path:u},l)})}if(o&&a>0){var h=e.getElementId(\"region-\"+s),p=a%2===0;if(Object(F.isString)(o))p&&e.drawAlternateRegion(h,t,r.points,n.points,o);else{var f=p?o[1]:o[0];e.drawAlternateRegion(h,t,r.points,n.points,f)}}r=n}))},e.prototype.drawAlternateRegion=function(t,e,i,n,o){var r=this.getAlternatePath(i,n);this.addShape(e,{type:\"path\",id:t,name:\"grid-region\",attrs:{path:r,fill:o}})},e}(mt));(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{type:\"circle\",center:null,closed:!0})},e.prototype.getGridPath=function(t,e){var i=this.getLineType(),n=this.get(\"closed\"),o=[];if(t.length)if(\"circle\"===i){var r=this.get(\"center\"),a=t[0],s=function(t,e,i,n){var o=i-t,r=n-e;return Math.sqrt(o*o+r*r)}(r.x,r.y,a.x,a.y),l=e?0:1;n?(o.push([\"M\",r.x,r.y-s]),o.push([\"A\",s,s,0,0,l,r.x,r.y+s]),o.push([\"A\",s,s,0,0,l,r.x,r.y-s]),o.push([\"Z\"])):Object(F.each)(t,(function(t,e){0===e?o.push([\"M\",t.x,t.y]):o.push([\"A\",s,s,0,0,l,t.x,t.y])}))}else Object(F.each)(t,(function(t,e){0===e?o.push([\"M\",t.x,t.y]):o.push([\"L\",t.x,t.y])})),n&&o.push([\"Z\"]);return o}})(Wt),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{type:\"line\"})},e.prototype.getGridPath=function(t){var e=[];return Object(F.each)(t,(function(t,i){0===i?e.push([\"M\",t.x,t.y]):e.push([\"L\",t.x,t.y])})),e}}(Wt);var qt,Ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{name:\"legend\",layout:\"horizontal\",locationType:\"point\",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},e.prototype.getLayoutBBox=function(){var e=t.prototype.getLayoutBBox.call(this),i=this.get(\"x\"),n=this.get(\"y\"),o=this.get(\"offsetX\"),r=this.get(\"offsetY\"),a=this.get(\"maxWidth\"),s=this.get(\"maxHeight\"),l=i+o,c=n+r,u=e.maxX-l,h=e.maxY-c;return a&&(u=Math.min(u,a)),s&&(h=Math.min(h,s)),lt(l,c,u,h)},e.prototype.setLocation=function(t){this.set(\"x\",t.x),this.set(\"y\",t.y),this.resetLocation()},e.prototype.resetLocation=function(){var t=this.get(\"x\"),e=this.get(\"y\"),i=this.get(\"offsetX\"),n=this.get(\"offsetY\");this.moveElementTo(this.get(\"group\"),{x:t+i,y:e+n})},e.prototype.applyOffset=function(){this.resetLocation()},e.prototype.getDrawPoint=function(){return this.get(\"currentPoint\")},e.prototype.setDrawPoint=function(t){return this.set(\"currentPoint\",t)},e.prototype.renderInner=function(t){this.resetDraw(),this.get(\"title\")&&this.drawTitle(t),this.drawLegendContent(t),this.get(\"background\")&&this.drawBackground(t)},e.prototype.drawBackground=function(t){var e=this.get(\"background\"),i=t.getBBox(),n=rt(e.padding),o=Object(P.__assign)({x:0,y:0,width:i.width+n[1]+n[3],height:i.height+n[0]+n[2]},e.style);this.addShape(t,{type:\"rect\",id:this.getElementId(\"background\"),name:\"legend-background\",attrs:o}).toBack()},e.prototype.drawTitle=function(t){var e=this.get(\"currentPoint\"),i=this.get(\"title\"),n=i.spacing,o=i.style,r=i.text,a=this.addShape(t,{type:\"text\",id:this.getElementId(\"title\"),name:\"legend-title\",attrs:Object(P.__assign)({text:r,x:e.x,y:e.y},o)}).getBBox();this.set(\"currentPoint\",{x:e.x,y:a.maxY+n})},e.prototype.resetDraw=function(){var t=this.get(\"background\"),e={x:0,y:0};if(t){var i=rt(t.padding);e.x=i[3],e.y=i[0]}this.set(\"currentPoint\",e)},e}(mt),$t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentPageIndex=1,e.totalPagesCnt=1,e.pageWidth=0,e.pageHeight=0,e.startX=0,e.startY=0,e.onNavigationBack=function(){var t=e.getElementByLocalId(\"item-group\");if(e.currentPageIndex>1){e.currentPageIndex-=1,e.updateNavigation();var i=e.getCurrentNavigationMatrix();t.animate({matrix:i},100)}},e.onNavigationAfter=function(){var t=e.getElementByLocalId(\"item-group\");if(e.currentPageIndex<e.totalPagesCnt){e.currentPageIndex+=1,e.updateNavigation();var i=e.getCurrentNavigationMatrix();t.animate({matrix:i},100)}},e}return Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{name:\"legend\",type:\"category\",itemSpacing:24,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},defaultCfg:{title:{spacing:5,style:{fill:vt.textColor,fontSize:12,textAlign:\"start\",textBaseline:\"top\"}},background:{padding:5,style:{stroke:vt.lineColor}},itemBackground:{style:{opacity:0,fill:\"#fff\"}},itemName:{spacing:16,style:{fill:vt.textColor,fontSize:12,textAlign:\"start\",textBaseline:\"middle\"}},marker:{spacing:8,style:{r:6,symbol:\"circle\"}},itemValue:{alignRight:!1,formatter:null,style:{fill:vt.textColor,fontSize:12,textAlign:\"start\",textBaseline:\"middle\"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:vt.uncheckedColor},markerStyle:{fill:vt.uncheckedColor,stroke:vt.uncheckedColor}},inactive:{nameStyle:{fill:vt.uncheckedColor},markerStyle:{opacity:.2}}}}})},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get(\"items\")},e.prototype.setItems=function(t){this.update({items:t})},e.prototype.updateItem=function(t,e){Object(F.mix)(t,e),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId(\"item-group\");t&&t.clear()},e.prototype.setItemState=function(t,e,i){t[e]=i;var n=this.getElementByLocalId(\"item-\"+t.id);if(n){var o=this.getItems().indexOf(t),r=this.createOffScreenGroup(),a=this.drawItem(t,o,this.getItemHeight(),r);this.updateElements(a,n),this.clearUpdateStatus(n)}},e.prototype.hasState=function(t,e){return!!t[e]},e.prototype.getItemStates=function(t){var e=this.get(\"itemStates\"),i=[];return Object(F.each)(e,(function(e,n){t[n]&&i.push(n)})),i},e.prototype.clearItemsState=function(t){var e=this,i=this.getItemsByState(t);Object(F.each)(i,(function(i){e.setItemState(i,t,!1)}))},e.prototype.getItemsByState=function(t){var e=this,i=this.getItems();return Object(F.filter)(i,(function(i){return e.hasState(i,t)}))},e.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},e.prototype.processItems=function(){var t=this.get(\"items\");Object(F.each)(t,(function(t){t.id||(t.id=t.name)}))},e.prototype.drawItems=function(t){var e=this,i=this.addGroup(t,{id:this.getElementId(\"item-container-group\"),name:\"legend-item-container-group\"}),n=this.addGroup(i,{id:this.getElementId(\"item-group\"),name:\"legend-item-group\"}),o=this.getItemHeight(),r=this.get(\"itemWidth\"),a=this.get(\"itemSpacing\"),s=this.get(\"currentPoint\"),l=s.x,c=s.y,u=this.get(\"layout\"),h=this.get(\"items\"),p=!1,f=0,d=this.get(\"maxWidth\"),g=this.get(\"maxHeight\");Object(F.each)(h,(function(t,i){var h=e.drawItem(t,i,o,n),y=h.getBBox(),m=r||y.width;m>f&&(f=m),\"horizontal\"===u?(d&&d<s.x+m-l&&(p=!0,s.x=l,s.y+=o),e.moveElementTo(h,s),s.x+=m+a):(g&&g<s.y+o-c&&(p=!0,s.x+=f+a,s.y=c,f=0),e.moveElementTo(h,s),s.y+=o)})),p&&this.get(\"flipPage\")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=l,this.startY=c,this.adjustNavigation(t,n))},e.prototype.getItemHeight=function(){var t=this.get(\"itemHeight\");if(!t){var e=this.get(\"itemName\");e&&(t=e.style.fontSize+8)}return t},e.prototype.drawMarker=function(t,e,i,n){var o=Object(P.__assign)(Object(P.__assign)(Object(P.__assign)({x:0,y:n/2},e.style),{symbol:Object(F.get)(i.marker,\"symbol\",\"circle\")}),Object(F.get)(i.marker,\"style\",{})),r=this.addShape(t,{type:\"marker\",id:this.getElementId(\"item-\"+i.id+\"-marker\"),name:\"legend-item-marker\",attrs:o}),a=r.getBBox();r.attr(\"x\",a.width/2);var s=r.attr(),l=s.stroke,c=s.fill;return l&&r.set(\"isStroke\",!0),c&&r.set(\"isFill\",!0),r},e.prototype.drawItemText=function(t,e,i,n,o,r,a){var s=i.formatter,l=Object(P.__assign)({x:r,y:o/2,text:s?s(n[e],n,a):n[e]},i.style);return this.addShape(t,{type:\"text\",id:this.getElementId(\"item-\"+n.id+\"-\"+e),name:\"legend-item-\"+e,attrs:l})},e.prototype.drawItem=function(t,e,i,n){var o=\"item-\"+t.id,r=this.addGroup(n,{name:\"legend-item\",id:this.getElementId(o),delegateObject:{item:t,index:e}}),a=this.get(\"marker\"),s=this.get(\"itemName\"),l=this.get(\"itemValue\"),c=this.get(\"itemBackground\"),u=0;a&&(u=this.drawMarker(r,a,t,i).getBBox().maxX+a.spacing);s&&(u=this.drawItemText(r,\"name\",s,t,i,u,e).getBBox().maxX+s.spacing);if(l){var h=this.drawItemText(r,\"value\",l,t,i,u,e),p=this.get(\"itemWidth\");p&&l.alignRight&&h.attr({textAlign:\"right\",x:p})}if(c){var f=r.getBBox();this.addShape(r,{type:\"rect\",name:\"legend-item-background\",id:this.getElementId(o+\"-background\"),attrs:Object(P.__assign)({x:0,y:0,width:f.width,height:i},c.style)}).toBack()}return this.applyItemStates(t,r),r},e.prototype.adjustNavigation=function(t,e){var i=this,n=this.startX,o=this.startY,r=this.get(\"layout\"),a=e.findAll((function(t){return\"legend-item\"===t.get(\"name\")})),s=this.get(\"maxWidth\"),l=this.get(\"maxHeight\"),c=this.get(\"itemWidth\"),u=this.get(\"itemSpacing\"),h=this.getItemHeight(),p=this.drawNavigation(t,r,\"00/00\",12),f=p.getBBox(),d={x:n,y:o},g=1,y=0,m=0,v=0;if(\"horizontal\"===r)this.pageHeight=h,Object(F.each)(a,(function(t){var e=t.getBBox(),o=c||e.width;(y&&y<d.x+o+u||s<d.x+o+u+f.width)&&(1===g&&(y=d.x+u,i.pageWidth=y,i.moveElementTo(p,{x:s-u-f.width-f.minX,y:d.y+h/2-f.height/2-f.minY})),g+=1,d.x=n,d.y+=h),i.moveElementTo(t,d),d.x+=o+u}));else{Object(F.each)(a,(function(t){var e=t.getBBox();e.width>m&&(m=e.width)})),v=m,m+=u,s&&(m=Math.min(s,m),v=Math.min(s,v)),this.pageWidth=m,this.pageHeight=l-Math.max(f.height,h);var b=Math.floor(this.pageHeight/h);Object(F.each)(a,(function(t,e){0!==e&&e%b===0&&(g+=1,d.x+=m,d.y=o),i.moveElementTo(t,d),d.y+=h})),this.totalPagesCnt=g,this.moveElementTo(p,{x:n+v/2-f.width/2-f.minX,y:l-f.height-f.minY})}this.pageHeight&&this.pageWidth&&e.getParent().setClip({type:\"rect\",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=g,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(p),e.attr(\"matrix\",this.getCurrentNavigationMatrix())},e.prototype.drawNavigation=function(t,e,i,n){var o={x:0,y:0},r=this.addGroup(t,{id:this.getElementId(\"navigation-group\"),name:\"legend-navigation\"}),a=this.drawArrow(r,o,\"navigation-arrow-left\",\"horizontal\"===e?\"up\":\"left\",n);a.on(\"click\",this.onNavigationBack);var s=a.getBBox();o.x+=s.width+2;var l=this.addShape(r,{type:\"text\",id:this.getElementId(\"navigation-text\"),name:\"navigation-text\",attrs:{x:o.x,y:o.y+n/2,text:i,fontSize:12,fill:\"#ccc\",textBaseline:\"middle\"}}).getBBox();return o.x+=l.width+2,this.drawArrow(r,o,\"navigation-arrow-right\",\"horizontal\"===e?\"down\":\"right\",n).on(\"click\",this.onNavigationAfter),r},e.prototype.updateNavigation=function(t){var e=this.currentPageIndex+\"/\"+this.totalPagesCnt,i=t?t.getChildren()[1]:this.getElementByLocalId(\"navigation-text\"),n=t?t.findById(this.getElementId(\"navigation-arrow-left\")):this.getElementByLocalId(\"navigation-arrow-left\"),o=t?t.findById(this.getElementId(\"navigation-arrow-right\")):this.getElementByLocalId(\"navigation-arrow-right\"),r=i.getBBox();i.attr(\"text\",e);var a=i.getBBox();i.attr(\"x\",i.attr(\"x\")-(a.width-r.width)/2),n.attr(\"opacity\",1===this.currentPageIndex?.45:1),n.attr(\"cursor\",1===this.currentPageIndex?\"not-allowed\":\"pointer\"),o.attr(\"opacity\",this.currentPageIndex===this.totalPagesCnt?.45:1),o.attr(\"cursor\",this.currentPageIndex===this.totalPagesCnt?\"not-allowed\":\"pointer\")},e.prototype.drawArrow=function(t,e,i,n,o){var r=e.x,a=e.y,s={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},l=this.addShape(t,{type:\"path\",id:this.getElementId(i),name:i,attrs:{path:[[\"M\",r+o/2,a],[\"L\",r,a+o],[\"L\",r+o,a+o],[\"Z\"]],fill:\"#000\",cursor:\"pointer\"}});return l.attr(\"matrix\",it({x:r+o/2,y:a+o/2},s[n])),l},e.prototype.getCurrentNavigationMatrix=function(){var t=this.currentPageIndex,e=this.pageWidth,i=this.pageHeight;return nt(\"horizontal\"===this.get(\"layout\")?{x:0,y:i*(1-t)}:{x:e*(1-t),y:0})},e.prototype.applyItemStates=function(t,e){if(this.getItemStates(t).length>0){var i=e.getChildren(),n=this.get(\"itemStates\");Object(F.each)(i,(function(e){var i=e.get(\"name\").split(\"-\")[2],o=bt(t,i,n);o&&(e.attr(o),\"marker\"!==i||e.get(\"isStroke\")&&e.get(\"isFill\")||(e.get(\"isStroke\")&&e.attr(\"fill\",null),e.get(\"isFill\")&&e.attr(\"stroke\",null)))}))}},e}(Ut),Zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{type:\"continue\",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:\"rail\",spacing:5,formatter:null,style:{fontSize:12,fill:vt.textColor,textBaseline:\"middle\",fontFamily:vt.fontFamily}},handler:{size:10,style:{fill:\"#fff\",stroke:\"#333\"}},track:{},rail:{type:\"color\",size:20,defaultLength:100,style:{fill:\"#DCDEE2\"}},title:{spacing:5,style:{fill:vt.textColor,fontSize:12,textAlign:\"start\",textBaseline:\"top\"}}}})},e.prototype.isSlider=function(){return!0},e.prototype.getValue=function(){return this.getCurrentValue()},e.prototype.getRange=function(){return{min:this.get(\"min\"),max:this.get(\"max\")}},e.prototype.setRange=function(t,e){this.update({min:t,max:e})},e.prototype.setValue=function(t){var e=this.getValue();this.set(\"value\",t);var i=this.get(\"group\");this.resetTrackClip(),this.get(\"slidable\")&&this.resetHandlers(i),this.delegateEmit(\"valuechanged\",{originValue:e,value:t})},e.prototype.initEvent=function(){var t=this.get(\"group\");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},e.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get(\"slidable\")&&this.resetHandlers(t)},e.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},e.prototype.bindHandlersEvent=function(t){var e=this;t.on(\"legend-handler-min:drag\",(function(t){var i=e.getValueByCanvasPoint(t.x,t.y),n=e.getCurrentValue()[1];n<i&&(n=i),e.setValue([i,n])})),t.on(\"legend-handler-max:drag\",(function(t){var i=e.getValueByCanvasPoint(t.x,t.y),n=e.getCurrentValue()[0];n>i&&(n=i),e.setValue([n,i])}))},e.prototype.bindRailEvent=function(t){},e.prototype.bindTrackEvent=function(t){var e=this,i=null;t.on(\"legend-track:dragstart\",(function(t){i={x:t.x,y:t.y}})),t.on(\"legend-track:drag\",(function(t){if(i){var n=e.getValueByCanvasPoint(i.x,i.y),o=e.getValueByCanvasPoint(t.x,t.y),r=e.getCurrentValue(),a=r[1]-r[0],s=e.getRange(),l=o-n;l<0?r[0]+l>s.min?e.setValue([r[0]+l,r[1]+l]):e.setValue([s.min,s.min+a]):l>0&&(l>0&&r[1]+l<s.max?e.setValue([r[0]+l,r[1]+l]):e.setValue([s.max-a,s.max])),i={x:t.x,y:t.y}}})),t.on(\"legend-track:dragend\",(function(t){i=null}))},e.prototype.drawLabels=function(t){this.drawLabel(\"min\",t),this.drawLabel(\"max\",t)},e.prototype.drawLabel=function(t,e){var i=this.get(\"label\"),n=i.style,o=i.align,r=this.get(t),a=this.getLabelAlignAttrs(t,o),s=\"label-\"+t;this.addShape(e,{type:\"text\",id:this.getElementId(s),name:\"legend-label-\"+t,attrs:Object(P.__assign)(Object(P.__assign)({x:0,y:0,text:r},n),a)})},e.prototype.getLabelAlignAttrs=function(t,e){var i=\"center\",n=\"middle\";return this.isVertical()?(i=\"start\",n=\"rail\"!==e?\"min\"===t?\"top\":\"bottom\":\"top\"):\"rail\"!==e?(n=\"top\",i=\"min\"===t?\"start\":\"end\"):(i=\"start\",n=\"middle\"),{textAlign:i,textBaseline:n}},e.prototype.getRailPath=function(t,e,i,n){var o=this.get(\"rail\"),r=o.size,a=o.defaultLength,s=o.type,l=this.isVertical(),c=i,u=n;c||(c=l?r:a),u||(u=l?a:r);var h=[];return\"color\"===s?(h.push([\"M\",t,e]),h.push([\"L\",t+c,e]),h.push([\"L\",t+c,e+u]),h.push([\"L\",t,e+u]),h.push([\"Z\"])):(h.push([\"M\",t+c,e]),h.push([\"L\",t+c,e+u]),h.push([\"L\",t,e+u]),h.push([\"Z\"])),h},e.prototype.drawRail=function(t){var e=this.get(\"rail\").style;this.addShape(t,{type:\"path\",id:this.getElementId(\"rail\"),name:\"legend-rail\",attrs:Object(P.__assign)({path:this.getRailPath(0,0)},e)})},e.prototype.getTrackColor=function(t){var e,i=t.length;if(!i)return null;if(1===i)return t[0];e=this.isVertical()?\"l(90)\":\"l(0)\";for(var n=0;n<i;n++){e+=\" \"+n/(i-1)+\":\"+t[n]}return e},e.prototype.getTrackPath=function(t){var e=this.getRailShape(t).attr(\"path\");return Object(F.clone)(e)},e.prototype.getClipTrackAttrs=function(t){var e,i,n,o,r=this.getCurrentValue(),a=r[0],s=r[1],l=this.getRailBBox(t),c=this.getPointByValue(a,t),u=this.getPointByValue(s,t);return this.isVertical()?(e=l.minX,i=c.y,n=l.width,o=u.y-c.y):(e=c.x,i=l.minY,n=u.x-c.x,o=l.height),{x:e,y:i,width:n,height:o}},e.prototype.getTrackAttrs=function(t){var e=this.get(\"track\"),i=this.get(\"colors\"),n=this.getTrackPath(t);return Object(F.mix)({path:n,fill:this.getTrackColor(i)},e.style)},e.prototype.resetTrackClip=function(t){var e=t||this.get(\"group\"),i=this.getElementId(\"track\"),n=e.findById(i),o=n.getClip(),r=this.getClipTrackAttrs(t);o?o.attr(r):n.setClip({type:\"rect\",attrs:r})},e.prototype.resetTrack=function(t){var e=this.getElementId(\"track\"),i=t.findById(e),n=this.getTrackAttrs(t);i?i.attr(n):this.addShape(t,{type:\"path\",id:e,draggable:this.get(\"slidable\"),name:\"legend-track\",attrs:n})},e.prototype.getPointByValue=function(t,e){var i=this.getRange(),n=i.min,o=(t-n)/(i.max-n),r=this.getRailBBox(e),a={x:0,y:0};return this.isVertical()?(a.x=r.minX+r.width/2,a.y=ct(r.minY,r.maxY,o)):(a.x=ct(r.minX,r.maxX,o),a.y=r.minY+r.height/2),a},e.prototype.getRailShape=function(t){return(t||this.get(\"group\")).findById(this.getElementId(\"rail\"))},e.prototype.getRailBBox=function(t){return this.getRailShape(t).getBBox()},e.prototype.getRailCanvasBBox=function(){return this.get(\"group\").findById(this.getElementId(\"rail\")).getCanvasBBox()},e.prototype.isVertical=function(){return\"vertical\"===this.get(\"layout\")},e.prototype.getValueByCanvasPoint=function(t,e){var i=this.getRange(),n=i.min,o=i.max,r=this.getRailCanvasBBox(),a=this.isVertical(),s=this.get(\"step\"),l=ct(n,o,a?(e-r.minY)/r.height:(t-r.minX)/r.width);s&&(l=n+Math.round((l-n)/s)*s);return l>o&&(l=o),l<n&&(l=n),l},e.prototype.getCurrentValue=function(){var t=this.get(\"value\");return t||(t=[this.get(\"min\"),this.get(\"max\")]),t},e.prototype.resetHandlers=function(t){var e=this.getCurrentValue(),i=e[0],n=e[1];this.resetHandler(t,\"min\",i),this.resetHandler(t,\"max\",n)},e.prototype.getHandlerPath=function(t,e){var i=this.isVertical(),n=[],o=t.size,r=e.x,a=e.y,s=1.4*o,l=o/2,c=o/6;if(i){var u=r+.4*s;n.push([\"M\",r,a]),n.push([\"L\",u,a+l]),n.push([\"L\",r+s,a+l]),n.push([\"L\",r+s,a-l]),n.push([\"L\",u,a-l]),n.push([\"Z\"]),n.push([\"M\",u,a+c]),n.push([\"L\",r+s-2,a+c]),n.push([\"M\",u,a-c]),n.push([\"L\",r+s-2,a-c])}else{var h=a+.4*s;n.push([\"M\",r,a]),n.push([\"L\",r-l,h]),n.push([\"L\",r-l,a+s]),n.push([\"L\",r+l,a+s]),n.push([\"L\",r+l,h]),n.push([\"Z\"]),n.push([\"M\",r-c,h]),n.push([\"L\",r-c,a+s-2]),n.push([\"M\",r+c,h]),n.push([\"L\",r+c,a+s-2])}return n},e.prototype.resetHandler=function(t,e,i){var n=this.getPointByValue(i,t),o=this.get(\"handler\"),r=this.getHandlerPath(o,n),a=this.getElementId(\"handler-\"+e),s=t.findById(a),l=this.isVertical();s?s.attr(\"path\",r):this.addShape(t,{type:\"path\",name:\"legend-handler-\"+e,draggable:!0,id:a,attrs:Object(P.__assign)(Object(P.__assign)({path:r},o.style),{cursor:l?\"ns-resize\":\"ew-resize\"})})},e.prototype.fixedElements=function(t){var e=t.findById(this.getElementId(\"rail\")),i=t.findById(this.getElementId(\"label-min\")),n=t.findById(this.getElementId(\"label-max\")),o=this.getDrawPoint();this.isVertical()?this.fixedVertail(i,n,e,o):this.fixedHorizontal(i,n,e,o)},e.prototype.fitRailLength=function(t,e,i,n){var o=this.isVertical()?\"height\":\"width\",r=this.get(\"label\"),a=r.align,s=r.spacing,l=this.get(\"max\"+Object(F.upperFirst)(o));if(l){var c=(\"rail\"===a?i[o]+t[o]+e[o]+2*s:i[o])-l;c>0&&this.changeRailLength(n,o,i[o]-c)}},e.prototype.changeRailLength=function(t,e,i){var n,o=t.getBBox();n=\"height\"===e?this.getRailPath(o.x,o.y,o.width,i):this.getRailPath(o.x,o.y,i,o.height),t.attr(\"path\",n)},e.prototype.changeRailPosition=function(t,e,i){var n=t.getBBox(),o=this.getRailPath(e,i,n.width,n.height);t.attr(\"path\",o)},e.prototype.fixedHorizontal=function(t,e,i,n){var o=this.get(\"label\"),r=o.align,a=o.spacing,s=i.getBBox(),l=t.getBBox(),c=e.getBBox(),u=s.height;this.fitRailLength(l,c,s,i),s=i.getBBox(),\"rail\"===r?(t.attr({x:n.x,y:n.y+u/2}),this.changeRailPosition(i,n.x+l.width+a,n.y),e.attr({x:n.x+l.width+s.width+2*a,y:n.y+u/2})):\"top\"===r?(t.attr({x:n.x,y:n.y}),e.attr({x:n.x+s.width,y:n.y}),this.changeRailPosition(i,n.x,n.y+l.height+a)):(this.changeRailPosition(i,n.x,n.y),t.attr({x:n.x,y:n.y+s.height+a}),e.attr({x:n.x+s.width,y:n.y+s.height+a}))},e.prototype.fixedVertail=function(t,e,i,n){var o=this.get(\"label\"),r=o.align,a=o.spacing,s=i.getBBox(),l=t.getBBox(),c=e.getBBox();if(this.fitRailLength(l,c,s,i),s=i.getBBox(),\"rail\"===r)t.attr({x:n.x,y:n.y}),this.changeRailPosition(i,n.x,n.y+l.height+a),e.attr({x:n.x,y:n.y+l.height+s.height+2*a});else if(\"right\"===r)t.attr({x:n.x+s.width+a,y:n.y}),this.changeRailPosition(i,n.x,n.y),e.attr({x:n.x+s.width+a,y:n.y+s.height});else{var u=Math.max(l.width,c.width);t.attr({x:n.x,y:n.y}),this.changeRailPosition(i,n.x+u+a,n.y),e.attr({x:n.x,y:n.y+s.height})}},e}(Ut),Kt=i(\"fIp6\"),Qt=i(\"6UX8\"),Jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{container:null,containerTpl:\"<div></div>\",updateAutoRender:!0,parent:null})},e.prototype.getContainer=function(){return this.get(\"container\")},e.prototype.show=function(){this.get(\"container\").style.display=\"\"},e.prototype.hide=function(){this.get(\"container\").style.display=\"none\"},e.prototype.getBBox=function(){var t=this.getContainer();return lt(parseFloat(t.style.left)||0,parseFloat(t.style.top)||0,t.clientWidth,t.clientHeight)},e.prototype.clear=function(){at(this.get(\"container\"))},e.prototype.destroy=function(){this.removeEvent(),this.removeDom(),t.prototype.destroy.call(this)},e.prototype.init=function(){t.prototype.init.call(this),this.initContainer(),this.initEvent(),this.initVisible()},e.prototype.initVisible=function(){this.get(\"visible\")?this.show():this.hide()},e.prototype.initContainer=function(){var t=this.get(\"container\");if(Object(F.isNil)(t)){t=this.createDom();var e=this.get(\"parent\");Object(F.isString)(e)&&(e=document.getElementById(e),this.set(\"parent\",e)),e.appendChild(t),this.set(\"container\",t)}else Object(F.isString)(t)&&(t=document.getElementById(t),this.set(\"container\",t));this.get(\"parent\")||this.set(\"parent\",t.parentNode)},e.prototype.createDom=function(){var t=this.get(\"containerTpl\");return Object(Kt.createDom)(t)},e.prototype.initEvent=function(){},e.prototype.removeDom=function(){var t=this.get(\"container\");t&&t.parentNode.removeChild(t)},e.prototype.removeEvent=function(){},e}(dt),te=\"g2-tooltip\",ee=\"g2-tooltip-title\",ie=\"g2-tooltip-list\",ne=\"g2-tooltip-list-item\",oe=\"g2-tooltip-marker\",re=\"g2-tooltip-value\",ae=\"g2-tooltip-name\",se=\"g2-tooltip-crosshair-x\",le=\"g2-tooltip-crosshair-y\",ce=((qt={})[\"\"+te]={position:\"absolute\",visibility:\"visible\",zIndex:8,transition:\"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)\",backgroundColor:\"rgba(255, 255, 255, 0.9)\",boxShadow:\"0px 0px 10px #aeaeae\",borderRadius:\"3px\",color:\"rgb(87, 87, 87)\",fontSize:\"12px\",fontFamily:vt.fontFamily,lineHeight:\"20px\",padding:\"10px 10px 6px 10px\"},qt[\"\"+ee]={marginBottom:\"4px\"},qt[\"\"+ie]={margin:0,listStyleType:\"none\",padding:0},qt[\"\"+ne]={listStyleType:\"none\",marginBottom:\"4px\"},qt[\"\"+oe]={width:\"8px\",height:\"8px\",borderRadius:\"50%\",display:\"inline-block\",marginRight:\"8px\"},qt[\"\"+re]={display:\"inline-block\",float:\"right\",marginLeft:\"30px\"},qt[\"\"+se]={position:\"absolute\",width:\"1px\",backgroundColor:\"rgba(0, 0, 0, 0.25)\"},qt[\"\"+le]={position:\"absolute\",height:\"1px\",backgroundColor:\"rgba(0, 0, 0, 0.25)\"},qt);function ue(t){return t+\"px\"}var he=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{name:\"tooltip\",type:\"html\",x:0,y:0,items:[],containerTpl:'<div class=\"'+te+'\"><div class=\"'+ee+'\"></div><ul class=\"'+ie+'\"></ul></div>',itemTpl:'<li class=\"'+ne+'\" data-index={index}>\\n          <span class=\"'+oe+'\" style=\"background:{color}\"></span>\\n          <span class=\"'+ae+'\">{name}</span>:\\n          <span class=\"'+re+'\">{value}</span>\\n        </li>',xCrosshairTpl:'<div class=\"'+se+'\"></div>',yCrosshairTpl:'<div class=\"'+le+'\"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,crosshairs:null,offset:10,position:\"right\",domStyles:null,defaultStyles:ce})},e.prototype.render=function(){this.resetTitle(),this.renderItems(),this.resetPosition()},e.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(\"\"),this.clearItemDoms()},e.prototype.update=function(e){t.prototype.update.call(this,e),function(t,e){var i=!1;return Object(F.each)(e,(function(e){if(Object(F.hasKey)(t,e))return i=!0,!1})),i}(e,[\"title\",\"showTitle\"])&&this.resetTitle(),Object(F.hasKey)(e,\"items\")&&this.renderItems(),Object(F.hasKey)(e,\"domStyles\")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},e.prototype.show=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set(\"visible\",!0),Object(Kt.modifyCSS)(t,{visibility:\"visible\"}),this.setCrossHairsVisible(!0))},e.prototype.hide=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set(\"visible\",!1),Object(Kt.modifyCSS)(t,{visibility:\"hidden\"}),this.setCrossHairsVisible(!1))},e.prototype.getLocation=function(){return{x:this.get(\"x\"),y:this.get(\"y\")}},e.prototype.setLocation=function(t){this.set(\"x\",t.x),this.set(\"y\",t.y),this.resetPosition()},e.prototype.setCrossHairsVisible=function(t){var e=t?\"\":\"none\",i=this.get(\"xCrosshairDom\"),n=this.get(\"yCrosshairDom\");i&&Object(Kt.modifyCSS)(i,{display:e}),n&&Object(Kt.modifyCSS)(n,{display:e})},e.prototype.initContainer=function(){t.prototype.initContainer.call(this),this.cacheDoms(),this.resetStyles(),this.applyStyles()},e.prototype.removeDom=function(){t.prototype.removeDom.call(this),this.clearCrosshairs()},e.prototype.cacheDoms=function(){var t=this.getContainer(),e=t.getElementsByClassName(ee)[0],i=t.getElementsByClassName(ie)[0];this.set(\"titleDom\",e),this.set(\"listDom\",i)},e.prototype.resetPosition=function(){var t,e=this.get(\"x\"),i=this.get(\"y\"),n=this.get(\"offset\"),o=this.getOffset(),r=o.offsetX,a=o.offsetY,s=this.get(\"position\"),l=this.get(\"region\"),c=this.getContainer(),u=this.getBBox(),h=u.width,p=u.height;l&&(t=st(l));var f=function(t,e,i,n,o,r,a){var s=function(t,e,i,n,o,r){var a=t,s=e;switch(r){case\"left\":a=t-n-i,s=e-o/2;break;case\"right\":a=t+i,s=e-o/2;break;case\"top\":a=t-n/2,s=e-o-i;break;default:a=t-n/2,s=e+i}return{x:a,y:s}}(t,e,i,n,o,r);if(a){var l=function(t,e,i,n,o){return{left:t<o.x,right:t+i>o.x+o.width,top:e<o.y,bottom:e+n>o.y+o.height}}(s.x,s.y,n,o,a);\"top\"===r||\"bottom\"===r?(l.left&&(s.x=a.x),l.right&&(s.x=a.x+a.width-n),\"top\"===r&&l.top&&(s.y=e+i),\"bottom\"===r&&l.bottom&&(s.y=e-o-i)):(l.top&&(s.y=a.y),l.bottom&&(s.y=a.y+a.height-o),\"left\"===r&&l.left&&(s.x=t+i),\"right\"===r&&l.right&&(s.x=t-n-i))}return s}(e,i,n,h,p,s,t);Object(Kt.modifyCSS)(c,{left:ue(f.x+r),top:ue(f.y+a)}),this.resetCrosshairs()},e.prototype.resetTitle=function(){var t=this.get(\"title\");this.get(\"showTitle\")&&t?this.setTitle(t):this.setTitle(\"\")},e.prototype.setTitle=function(t){var e=this.get(\"titleDom\");e&&(e.innerText=t)},e.prototype.resetCrosshairs=function(){var t=this.get(\"crosshairsRegion\"),e=this.get(\"crosshairs\");if(t&&e){var i=st(t),n=this.get(\"xCrosshairDom\"),o=this.get(\"yCrosshairDom\");\"x\"===e?(this.resetCrosshair(\"x\",i),o&&(o.remove(),this.set(\"yCrosshairDom\",null))):\"y\"===e?(this.resetCrosshair(\"y\",i),n&&(n.remove(),this.set(\"xCrosshairDom\",null))):(this.resetCrosshair(\"x\",i),this.resetCrosshair(\"y\",i)),this.setCrossHairsVisible(this.get(\"visible\"))}else this.clearCrosshairs()},e.prototype.resetCrosshair=function(t,e){var i=this.checkCrosshair(t),n=this.get(t);\"x\"===t?Object(Kt.modifyCSS)(i,{left:ue(n),top:ue(e.y),height:ue(e.height)}):Object(Kt.modifyCSS)(i,{top:ue(n),left:ue(e.x),width:ue(e.width)})},e.prototype.checkCrosshair=function(t){var e=t+\"CrosshairDom\",i=t+\"CrosshairTpl\",n=\"CROSSHAIR_\"+t.toUpperCase(),o=c[n],r=this.get(e),a=this.get(\"parent\");return r||(r=Object(Kt.createDom)(this.get(i)),this.applyStyle(o,r),a.appendChild(r),this.set(e,r)),r},e.prototype.resetStyles=function(){var t=this.get(\"domStyles\"),e=this.get(\"defaultStyles\");t=t?Object(F.deepMix)({},e,t):e,this.set(\"domStyles\",t)},e.prototype.applyStyles=function(){var t,e=this.get(\"domStyles\"),i=this.getContainer();if(this.applyChildrenStyles(i,e),t=te,i.className.match(new RegExp(\"(\\\\s|^)\"+t+\"(\\\\s|$)\"))){var n=e[te];Object(Kt.modifyCSS)(i,n)}},e.prototype.applyChildrenStyles=function(t,e){Object(F.each)(e,(function(e,i){var n=t.getElementsByClassName(i);Object(F.each)(n,(function(t){Object(Kt.modifyCSS)(t,e)}))}))},e.prototype.applyStyle=function(t,e){var i=this.get(\"domStyles\");Object(Kt.modifyCSS)(e,i[t])},e.prototype.renderItems=function(){this.clearItemDoms();var t=this.get(\"items\"),e=this.get(\"itemTpl\"),i=this.get(\"listDom\");Object(F.each)(t,(function(t){var n=Qt.default.toCSSGradient(t.color),o=Object(P.__assign)(Object(P.__assign)({},t),{color:n}),r=Object(F.substitute)(e,o),a=Object(Kt.createDom)(r);i.appendChild(a)})),this.applyChildrenStyles(i,this.get(\"domStyles\"))},e.prototype.clearItemDoms=function(){at(this.get(\"listDom\"))},e.prototype.clearCrosshairs=function(){var t=this.get(\"xCrosshairDom\"),e=this.get(\"yCrosshairDom\");t&&t.remove(),e&&e.remove(),this.set(\"xCrosshairDom\",null),this.set(\"yCrosshairDom\",null)},e}(Jt),pe={opacity:0},fe={stroke:\"#C5C5C5\",strokeOpacity:.85},de={fill:\"#CACED4\",opacity:.85};i(\"cvtA\"),i(\"Afl5\"),i(\"Ydjw\");i(\"kd6+\");var ge=\"\\t\\n\\v\\f\\r \\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029\";new RegExp(\"([a-z])[\"+ge+\",]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\"+ge+\"]*,?[\"+ge+\"]*)+)\",\"ig\"),new RegExp(\"(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[\"+ge+\"]*,?[\"+ge+\"]*\",\"ig\");i(\"3wFy\"),i(\"N1Pg\");var ye=function(){function t(t){this.type=\"base\",this.range=[0,1],this.ticks=[],this.__cfg__=t,this._initDefaultCfg(),F.assign(this,t),this._init()}return t.prototype.translate=function(t){return t},t.prototype.change=function(t){this.constructor(F.assign(this.__cfg__,t))},t.prototype.clone=function(){return this.constructor(this.__cfg__)},t.prototype.getTicks=function(){var t=this;return F.map(this.ticks,(function(e,i){return F.isObject(e)?e:{text:t.getText(e,i),tickValue:e,value:t.scale(e)}}))},t.prototype.getText=function(t,e){var i=this.formatter,n=i?i(t,e):t;return F.isNil(n)||!F.isFunction(n.toString)?\"\":n.toString()},t.prototype._calcPercent=function(t,e,i){return F.isNumber(t)?(t-e)/(i-e):NaN},t.prototype._calcValue=function(t,e,i){return e+t*(i-e)},t}(),me={};function ve(t,e){if(function(t){return me[t]}(t))throw new Error(\"type '\"+t+\"' existed.\");me[t]=e}var be=[1,5,2,2.5,4,3],xe=[1,5,2,2.5,4,3,1.5,7,6,8,9],Oe=100*Number.EPSILON;function je(t,e,i,n,o,r){var a=F.size(e),s=F.indexOf(e,t),l=0,c=function(t,e){return(t%e+e)%e}(n,r);return(c<Oe||r-c<Oe)&&n<=0&&o>=0&&(l=1),1-s/(a-1)-i+l}function Me(t,e,i){var n=F.size(e);return 1-F.indexOf(e,t)/(n-1)-i+1}function we(t,e,i,n,o,r){var a=(t-1)/(r-o),s=(e-1)/(Math.max(r,n)-Math.min(i,o));return 2-Math.max(a/s,s/a)}function _e(t,e){return t>=e?2-(t-1)/(e-1):1}function Ce(t,e,i,n){var o=e-t;return 1-.5*(Math.pow(e-n,2)+Math.pow(t-i,2))/Math.pow(.1*o,2)}function Se(t,e,i){var n=e-t;if(i>n){var o=(i-n)/2;return 1-Math.pow(o,2)/Math.pow(.1*n,2)}return 1}function ke(t,e,i,n,o,r){if(void 0===i&&(i=5),void 0===n&&(n=!0),void 0===o&&(o=be),void 0===r&&(r=[.25,.2,.5,.05]),t===e||1===i)return{min:t,max:e,ticks:[t]};for(var a={score:-2,lmin:0,lmax:0,lstep:0},s=1;s<1/0;){for(var l=0,c=o;l<c.length;l++){var u=c[l],h=Me(u,o,s);if(Number.isNaN(h))throw new Error(\"NaN\");if(r[0]*h+r[1]+r[2]+r[3]<a.score){s=1/0;break}for(var p=2;p<1/0;){var f=_e(p,i);if(r[0]*h+r[1]+r[2]*f+r[3]<a.score)break;for(var d=(e-t)/(p+1)/s/u,g=Math.ceil(Math.log10(d));g<1/0;){var y=s*u*Math.pow(10,g),m=Se(t,e,y*(p-1));if(r[0]*h+r[1]*m+r[2]*f+r[3]<a.score)break;var v=Math.floor(e/y)*s-(p-1)*s,b=Math.ceil(t/y)*s;if(v>b)g+=1;else{for(var x=v;x<=b;x+=1){var O=x*(y/s),j=O+y*(p-1),M=y,w=je(u,o,s,O,j,M),_=Ce(t,e,O,j),C=we(p,i,t,e,O,j),S=r[0]*w+r[1]*_+r[2]*C+1*r[3];S>a.score&&(!n||O<=t&&j>=e)&&(a.lmin=O,a.lmax=j,a.lstep=M,a.score=S)}g+=1}}p+=1}}s+=1}for(var k=Number.isInteger(a.lstep)?0:Math.ceil(Math.abs(Math.log10(a.lstep))),A=[],L=a.lmin;L<=a.lmax;L+=a.lstep)A.push(L);var B=k?F.map(A,(function(t){return Number.parseFloat(t.toFixed(k))})):A;return{min:Math.min(t,F.head(B)),max:Math.max(e,F.last(B)),ticks:B}}var Ae=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.translate=function(t){var e=F.indexOf(this.values,t);return-1===e?F.isNumber(t)?t:NaN:e},e.prototype.scale=function(t){var e=this.translate(t),i=this._calcPercent(e,this.min,this.max);return this._calcValue(i,F.head(this.range),F.last(this.range))},e.prototype.invert=function(t){if(!F.isNumber(t))return t;var e=F.size(this.values)-1,i=this._calcPercent(t,F.head(this.range),F.last(this.range)),n=Math.round(e*i);return this.values[n]},e.prototype.getText=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o=e;return F.isNumber(e)&&!F.includes(this.values,e)&&(o=this.values[o]),t.prototype.getText.apply(this,Object(P.__spreadArrays)([o],i))},e.prototype._initDefaultCfg=function(){this.type=\"cat\",this.values=[],this.isCategory=!0},e.prototype._init=function(){var t=F.size(this.values);this.min=0,this.max=t>1?t-1:t,F.isEmpty(this.ticks)&&(this.ticks=this._setTicks())},e.prototype._setTicks=function(){var t=this,e=this.values;if(F.isNumber(this.tickInterval))return F.filter(e,(function(e,i){return i%(t.tickInterval+1)===0}));if(F.isNumber(this.tickCount)){var i=xe.filter((function(t){return Number.isInteger(t)})),n=ke(this.min,this.max,this.tickCount,!1,i).ticks;return F.filter(n,(function(e){return e>=t.min&&e<=t.max})).map((function(e){return t.values[e]}))}return this.values},e}(ye),Le=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),Object.defineProperty(e.prototype,\"_unknown\",{get:function(){return F.has(this.__cfg__,\"unknown\")?this.__cfg__.unknown:this.range[0]},enumerable:!0,configurable:!0}),e.prototype.scale=function(t){return this._scale(t)},e.prototype.invert=function(t){return this._scale(t)},e.prototype._initDefaultCfg=function(){this.type=\"identity\",this.values=[],this.isIdentity=!0},e.prototype._init=function(){},e.prototype._scale=function(t){return F.isNumber(t)?t:this._unknown},e}(ye),Be=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.scale=function(t){if(F.isNil(t))return NaN;var e=this._transform(this.max),i=this._transform(this.min);if(i===e)return.5;var n=Math.min(Math.max(this._transform(t),i),e),o=this._calcPercent(n,i,e),r=F.head(this.range),a=F.last(this.range);return this._calcValue(o,r,a)},e.prototype.invert=function(t){var e=F.head(this.range),i=F.last(this.range),n=this._transform(this.max),o=this._transform(this.min),r=this._calcPercent(t,e,i);return this._calcValue(r,o,n)},e.prototype._initDefaultCfg=function(){this.values=[],this.type=\"linear\",this.isLinear=!0,this.nice=!0,this.tickCount=5,this.maxTickCount=10},e.prototype._init=function(){this._setDomain(),F.isEmpty(this.ticks)&&(this.ticks=this._setTicks())},e.prototype._setDomain=function(){var t=F.getRange(this.values),e=t.min,i=t.max;F.isNil(this.min)&&(this.min=e),F.isNil(this.max)&&(this.max=i),this.min>this.max&&(console.error(\"min should less than max\"),this.min=e,this.max=i)},e.prototype._transform=function(t){return t},e.prototype._setTicks=function(){var t,e,i,n,o=this,r=this._getAlgoParams(),a=r.onlyLoose,s=r.Q,l=r.w,c=r.m,u=[],h=c,p=this.minLimit,f=this.maxLimit;F.isNil(p)||F.isNil(f)||p!==f||(console.error(\"minLimit should less than maxLimit\"),0===(p/=2)&&(f=1)),(i=F.isNil(p)?this.min:this.minLimit)>(n=F.isNil(f)?this.max:this.maxLimit)&&(console.error(\"minLimit should less than maxLimit\"),i=(t=[n,i])[0],n=t[1],p=(e=[f,p])[0],f=e[1]);do{var d=ke(i,n,h,a,s,l),g=d.min,y=d.max,m=d.ticks;if(u=[],this.nice&&(this.min=g,this.max=y),F.isNil(p)||(this.min=p),F.isNil(f)||(this.max=f),u.push(this.min),F.each(m,(function(t){t>o.min&&t<o.max&&u.push(t)})),u[u.length-1]<this.max&&u.push(this.max),F.isNil(p)&&F.isNil(f))break;if(m.indexOf(this.min)>=0&&m.indexOf(this.max)>=0)break;h+=1}while(h<this.maxTickCount);return u},e.prototype._getAlgoParams=function(){var t=this.algoParam||{},e=t.onlyLoose,i=t.Q,n=t.w,o=i,r=this.tickCount;if(this.minTickInterval){var a=Math.abs(this.minTickInterval),s=Math.floor(Math.log10(a)),l=a/Math.pow(10,s);o=xe.filter((function(t){return t>=l})),F.includes(o,l)||o.push(l),r=Math.ceil((this.max-this.min)/this.minTickInterval)+1,1===o.length&&o.push(1)}return{m:r,w:n,Q:o,onlyLoose:e}},e}(ye),De=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.scale=function(t){var e=F.head(this.range),i=F.last(this.range),n=Math.log(t/this.min)/Math.log(this.max/this.min);return this._calcValue(n,e,i)},e.prototype.invert=function(t){var e=F.head(this.range),i=F.last(this.range),n=this._calcPercent(t,e,i);return this.min<0?-Math.pow(-this.max,n)*Math.pow(-this.min,1-n):Math.pow(this.max,n)*Math.pow(this.min,1-n)},e.prototype._initDefaultCfg=function(){this.type=\"log\",this.values=[],this.base=10},e.prototype._init=function(){this._setDomain(),this.ticks=this._setTicks()},e}(Be),Te=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.invert=function(e){var i=t.prototype.invert.call(this,e);return i>=0?Math.pow(i,1/this.exponent):-Math.pow(-i,1/this.exponent)},e.prototype._initDefaultCfg=function(){this.type=\"pow\",this.values=[],this.exponent=1},e.prototype._init=function(){this._setDomain(),this.ticks=this._setTicks()},e.prototype._transform=function(t){return t>=0?Math.pow(t,this.exponent):-Math.pow(-t,this.exponent)},e}(Be),Pe=i(\"wd/R\");var Ie=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.translate=function(t){return Pe(t).valueOf()},e.prototype.scale=function(t){var e=this.min,i=this.max,n=Math.min(Math.max(this.translate(t),e),i),o=this._calcPercent(n,e,i),r=F.head(this.range),a=F.last(this.range);return this._calcValue(o,r,a)},e.prototype.invert=function(t){var e=F.head(this.range),i=F.last(this.range),n=this.min,o=this.max,r=this._calcPercent(t,e,i);return Pe(this._calcValue(r,n,o)).startOf(\"s\")},e.prototype._initDefaultCfg=function(){this.type=\"time\",this.values=[],this.tickCount=10},e.prototype._init=function(){var t=this;this.values=F.map(this.values,(function(e){return t.translate(e)})),this._setDomain(),F.isEmpty(this.ticks)&&(this.tickInterval?this.ticks=this._setTicksByInterval():this.tickCount&&(this.ticks=this._setTicks()))},e.prototype._setDomain=function(){F.isNil(this.min)?this.min=F.minBy(this.values,(function(t){return t})):this.min=this.translate(this.min),F.isNil(this.max)?this.max=F.maxBy(this.values,(function(t){return t})):this.max=this.translate(this.max)},e.prototype._setTicks=function(){var t,e=this,i=[[\"HH:mm:ss\",1e3],[\"HH:mm:ss\",1e4],[\"HH:mm:ss\",3e4],[\"HH:mm\",6e4],[\"HH:mm\",6e5],[\"HH:mm\",18e5],[\"HH\",36e5],[\"HH\",216e5],[\"HH\",432e5],[\"YYYY-MM-DD\",864e5],[\"YYYY-MM-DD\",3456e5],[\"YYYY-WW\",6048e5],[\"YYYY-MM\",26784e5],[\"YYYY-MM\",107136e5],[\"YYYY-MM\",160704e5],[\"YYYY\",32832e6]],n=this.tickCount,o=this.min,r=this.max,a=(t=function(t){return t[1]},function(e,i,n,o){for(var r=F.isNil(n)?0:n,a=F.isNil(o)?e.length:o;r<a;){var s=r+a>>>1;t(e[s])>i?a=s:r=s+1}return r})(i,(r-o)/n);a===i.length?this.interval=F.last(i):a?this.interval=i[a]:(n=Math.min(Math.floor((r-o)/1e3),n),this.interval=i[0]);var s=this.interval[1],l=function(t,e,i){void 0===i&&(i=5);var n={max:0,min:0,ticks:[]},o=(e-t)/i,r=Math.pow(10,Math.floor(Math.log10(o))),a=r<1?Math.ceil(Math.abs(Math.log10(r))):0,s=r;2*r-o<1.5*(o-s)&&5*r-o<2.75*(o-(s=2*r))&&10*r-o<1.5*(o-(s=5*r))&&(s=10*r);var l=Math.ceil(e/s),c=Math.floor(t/s);n.max=Math.max(l*s,e),n.min=Math.min(c*s,t);for(var u=Number.parseFloat((c*s).toFixed(a));u<e;)n.ticks.push(u),u+=s,a&&(u=Number.parseFloat(u.toFixed(a)));return n.ticks.push(u),n}(0,Math.ceil((r-o)/s),n).ticks.map((function(t){return t*s+o})).filter((function(t){return t>=o&&t<=r}));return this.showLast&&(l[l.length-1]=this.max),this.formatter||(this.formatter=function(t){return Pe(t).format(e.interval[0])}),l},e.prototype._setTicksByInterval=function(){for(var t=this,e=this.min,i=this.max,n=this.tickInterval[1],o=Math.ceil((i-e)/n),r=[],a=0;a<=o;a++){var s=e+n*a;s>i&&this.showLast&&(s=i),r.push(s)}var l=[];return F.each(r,(function(e){l.push(Pe(e).format(t.tickInterval[0]))})),l},e}(ye),Ee=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type=\"timeCat\"},e.prototype._setTicks=function(){var t=this,e=this.tickCount||Math.ceil(this.max/2),i=ke(this.min,this.max,e,!1,[1,2,5,3,4,7,6,8,9]).ticks,n=F.map(i,(function(e){return t.values[e]}));return n[n.length-1]=F.last(this.values),n},e}(Ae);function Fe(t){return function(t){return Object(F.map)(t,(function(t,e){return[0===e?\"M\":\"L\",t[0],t[1]]}))}(t)}function Re(t,e,i,n){void 0===n&&(n=!0);var o=new Be({values:t}),r=new Ae({values:Object(F.map)(t,(function(t,e){return e}))}),a=Object(F.map)(t,(function(t,n){return[r.scale(n)*e,i-o.scale(t)*i]}));return n?function(t){if(t.length<=2)return Fe(t);var e=[];Object(F.each)(t,(function(t){Object(F.isEqual)(t,e.slice(e.length-2))||e.push(t[0],t[1])}));var i=function(t,e){for(var i=[],n=0,o=t.length;o-2*!e>n;n+=2){var r=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?o-4===n?r[3]={x:+t[0],y:+t[1]}:o-2===n&&(r[2]={x:+t[0],y:+t[1]},r[3]={x:+t[2],y:+t[3]}):r[0]={x:+t[o-2],y:+t[o-1]}:o-4===n?r[3]=r[2]:n||(r[0]={x:+t[n],y:+t[n+1]}),i.push([\"C\",(-r[0].x+6*r[1].x+r[2].x)/6,(-r[0].y+6*r[1].y+r[2].y)/6,(r[1].x+6*r[2].x-r[3].x)/6,(r[1].y+6*r[2].y-r[3].y)/6,r[2].x,r[2].y])}return i}(e,!1),n=Object(F.head)(t),o=n[0],r=n[1];return i.unshift([\"M\",o,r]),i}(a):Fe(a)}ve(\"cat\",Ae),ve(\"category\",Ae),ve(\"identity\",Le),ve(\"linear\",Be),ve(\"log\",De),ve(\"pow\",Te),ve(\"time\",Ie),ve(\"timeCat\",Ee);var Ye=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{name:\"trend\",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:pe,lineStyle:fe,areaStyle:de})},e.prototype.renderInner=function(t){var e=this.cfg,i=e.width,n=e.height,o=e.data,r=e.smooth,a=e.isArea,s=e.backgroundStyle,l=e.lineStyle,c=e.areaStyle;this.addShape(t,{id:this.getElementId(\"background\"),type:\"rect\",attrs:Object(P.__assign)({x:0,y:0,width:i,height:n},s)});var u=Re(o,i,n,r);if(this.addShape(t,{id:this.getElementId(\"line\"),type:\"path\",attrs:Object(P.__assign)({path:u},l)}),a){var h=function(t,e,i){var n=Object(P.__spreadArrays)(t);return n.push([\"L\",e,0]),n.push([\"L\",0,i]),n.push([\"Z\"]),n}(u,i,n);this.addShape(t,{id:this.getElementId(\"area\"),type:\"path\",attrs:Object(P.__assign)({path:h},c)})}},e.prototype.applyOffset=function(){var t=this.cfg,e=t.x,i=t.y;this.moveElementTo(this.get(\"group\"),{x:e,y:i})},e}(mt),Ne={fill:\"#416180 \",opacity:.05},ze={fill:\"#5B8FF9\",opacity:.15,cursor:\"move\"},He={width:10,height:24},Xe={textBaseline:\"middle\",fill:\"#000\",opacity:.45},Ge=\"sliderchange\",Ve={fill:\"#F7F7F7\",stroke:\"#BFBFBF\",radius:2,opacity:1,cursor:\"ew-resize\",highLightFill:\"#FFF\"},We=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{name:\"handler\",x:0,y:0,width:10,height:24,style:Ve})},e.prototype.renderInner=function(t){var e=this.cfg,i=e.width,n=e.height,o=e.style,r=o.fill,a=o.stroke,s=o.radius,l=o.opacity,c=o.cursor;this.addShape(t,{type:\"rect\",id:this.getElementId(\"background\"),attrs:{x:0,y:0,width:i,height:n,fill:r,stroke:a,radius:s,opacity:l,cursor:c}});var u=1/3*i,h=2/3*i,p=.25*n,f=.75*n;this.addShape(t,{id:this.getElementId(\"line-left\"),type:\"line\",attrs:{x1:u,y1:p,x2:u,y2:f,stroke:a,cursor:c}}),this.addShape(t,{id:this.getElementId(\"line-right\"),type:\"line\",attrs:{x1:h,y1:p,x2:h,y2:f,stroke:a,cursor:c}})},e.prototype.applyOffset=function(){this.moveElementTo(this.get(\"group\"),{x:this.get(\"x\"),y:this.get(\"y\")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.bindEvents=function(){var t=this;this.get(\"group\").on(\"mouseenter\",(function(){var e=t.get(\"style\").highLightFill;t.getElementByLocalId(\"background\").attr(\"fill\",e),t.draw()})),this.get(\"group\").on(\"mouseleave\",(function(){var e=t.get(\"style\").fill;t.getElementByLocalId(\"background\").attr(\"fill\",e),t.draw()}))},e.prototype.draw=function(){var t=this.get(\"container\").get(\"canvas\");t&&t.draw()},e}(mt),qe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onMouseDown=function(t){return function(i){e.currentTarget=t;var n=i.originalEvent;n.stopPropagation(),n.preventDefault(),e.prevX=Object(F.get)(n,\"touches.0.pageX\",n.pageX),e.prevY=Object(F.get)(n,\"touches.0.pageY\",n.pageY);var o=e.getContainerDOM();o.addEventListener(\"mousemove\",e.onMouseMove),o.addEventListener(\"mouseup\",e.onMouseUp),o.addEventListener(\"mouseleave\",e.onMouseUp),o.addEventListener(\"touchmove\",e.onMouseMove),o.addEventListener(\"touchend\",e.onMouseUp),o.addEventListener(\"touchcancel\",e.onMouseUp)}},e.onMouseMove=function(t){var i=e.cfg.width,n=[e.get(\"start\"),e.get(\"end\")];t.stopPropagation(),t.preventDefault();var o=Object(F.get)(t,\"touches.0.pageX\",t.pageX),r=Object(F.get)(t,\"touches.0.pageY\",t.pageY),a=o-e.prevX,s=e.adjustOffsetRange(a/i);e.updateStartEnd(s),e.updateUI(e.getElementByLocalId(\"foreground\"),e.getElementByLocalId(\"minText\"),e.getElementByLocalId(\"maxText\")),e.prevX=o,e.prevY=r,e.draw(),e.emit(Ge,[e.get(\"start\"),e.get(\"end\")].sort()),e.delegateEmit(\"valuechanged\",{originValue:n,value:[e.get(\"start\"),e.get(\"end\")]})},e.onMouseUp=function(){e.currentTarget&&(e.currentTarget=void 0);var t=e.getContainerDOM();t&&(t.removeEventListener(\"mousemove\",e.onMouseMove),t.removeEventListener(\"mouseup\",e.onMouseUp),t.removeEventListener(\"mouseleave\",e.onMouseUp),t.removeEventListener(\"touchmove\",e.onMouseMove),t.removeEventListener(\"touchend\",e.onMouseUp),t.removeEventListener(\"touchcancel\",e.onMouseUp))},e}return Object(P.__extends)(e,t),e.prototype.setRange=function(t,e){this.set(\"minLimit\",t),this.set(\"maxLimit\",e)},e.prototype.getRange=function(){return{min:this.get(\"minLimit\")||0,max:this.get(\"maxLimit\")||1}},e.prototype.setValue=function(t){if(Object(F.isArray)(t)&&2===t.length){var e=[this.get(\"start\"),this.get(\"end\")];this.update({start:t[0],end:t[1]}),this.get(\"updateAutoRender\")||this.render(),this.delegateEmit(\"valuechanged\",{originValue:e,value:t})}},e.prototype.getValue=function(){return[this.get(\"start\"),this.get(\"end\")]},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{name:\"slider\",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:Ne,foregroundStyle:ze,handlerStyle:He,textStyle:Xe}})},e.prototype.update=function(e){var i=e.start,n=e.end,o=Object(P.__assign)({},e);Object(F.isNil)(i)||(o.start=Object(F.clamp)(i,0,1)),Object(F.isNil)(n)||(o.end=Object(F.clamp)(n,0,1)),t.prototype.update.call(this,o),this.minHandler=this.getChildComponentById(this.getElementId(\"minHandler\")),this.maxHandler=this.getChildComponentById(this.getElementId(\"maxHandler\"))},e.prototype.init=function(){this.set(\"start\",Object(F.clamp)(this.get(\"start\"),0,1)),this.set(\"end\",Object(F.clamp)(this.get(\"end\"),0,1)),t.prototype.init.call(this)},e.prototype.renderInner=function(t){var e=this.cfg,i=(e.start,e.end,e.width),n=e.height,o=e.trendCfg,r=void 0===o?{}:o,a=e.minText,s=e.maxText,l=e.backgroundStyle,c=void 0===l?{}:l,u=e.foregroundStyle,h=void 0===u?{}:u,p=e.textStyle,f=void 0===p?{}:p,d=e.handlerStyle,g=void 0===d?{}:d;Object(F.size)(Object(F.get)(r,\"data\"))&&this.addComponent(t,Object(P.__assign)({component:Ye,id:this.getElementId(\"trend\"),x:0,y:0,width:i,height:n},r)),this.addShape(t,{id:this.getElementId(\"background\"),type:\"rect\",attrs:Object(P.__assign)({x:0,y:0,width:i,height:n},c)});var y=this.addShape(t,{id:this.getElementId(\"minText\"),type:\"text\",attrs:Object(P.__assign)({y:n/2,textAlign:\"right\",text:a,silent:!1},f)}),m=this.addShape(t,{id:this.getElementId(\"maxText\"),type:\"text\",attrs:Object(P.__assign)({y:n/2,textAlign:\"left\",text:s,silent:!1},f)}),v=this.addShape(t,{id:this.getElementId(\"foreground\"),name:\"foreground\",type:\"rect\",attrs:Object(P.__assign)({y:0,height:n},h)}),b=Object(F.get)(g,\"height\",24);this.minHandler=this.addComponent(t,Object(P.__assign)({component:We,id:this.getElementId(\"minHandler\"),name:\"handler-min\",x:0,y:(n-b)/2,width:i,height:b,cursor:\"ew-resize\"},g)),this.maxHandler=this.addComponent(t,Object(P.__assign)({component:We,id:this.getElementId(\"maxHandler\"),name:\"handler-max\",x:0,y:(n-b)/2,width:i,height:b,cursor:\"ew-resize\"},g)),this.updateUI(v,y,m)},e.prototype.applyOffset=function(){this.moveElementTo(this.get(\"group\"),{x:this.get(\"x\"),y:this.get(\"y\")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.updateUI=function(t,e,i){var n=this.cfg,o=n.start,r=n.end,a=n.width,s=n.minText,l=n.maxText,c=n.handlerStyle,u=o*a,h=r*a;t.attr(\"x\",u),t.attr(\"width\",h-u);var p=Object(F.get)(c,\"width\",10);e.attr(\"text\",s),i.attr(\"text\",l);var f=this._dodgeText([u,h],e,i),d=f[0],g=f[1];this.minHandler&&(this.minHandler.update({x:u-p/2}),this.get(\"updateAutoRender\")||this.minHandler.render()),Object(F.each)(d,(function(t,i){return e.attr(i,t)})),this.maxHandler&&(this.maxHandler.update({x:h-p/2}),this.get(\"updateAutoRender\")||this.maxHandler.render()),Object(F.each)(g,(function(t,e){return i.attr(e,t)}))},e.prototype.bindEvents=function(){var t=this.get(\"group\");t.on(\"handler-min:mousedown\",this.onMouseDown(\"minHandler\")),t.on(\"handler-min:touchstart\",this.onMouseDown(\"minHandler\")),t.on(\"handler-max:mousedown\",this.onMouseDown(\"maxHandler\")),t.on(\"handler-max:touchstart\",this.onMouseDown(\"maxHandler\"));var e=t.findById(this.getElementId(\"foreground\"));e.on(\"mousedown\",this.onMouseDown(\"foreground\")),e.on(\"touchstart\",this.onMouseDown(\"foreground\"))},e.prototype.adjustOffsetRange=function(t){var e=this.cfg,i=e.start,n=e.end;switch(this.currentTarget){case\"minHandler\":var o=0-i,r=1-i;return Math.min(r,Math.max(o,t));case\"maxHandler\":o=0-n,r=1-n;return Math.min(r,Math.max(o,t));case\"foreground\":o=0-i,r=1-n;return Math.min(r,Math.max(o,t));default:return 0}},e.prototype.updateStartEnd=function(t){var e=this.cfg,i=e.start,n=e.end;switch(this.currentTarget){case\"minHandler\":i+=t;break;case\"maxHandler\":n+=t;break;case\"foreground\":i+=t,n+=t}this.set(\"start\",i),this.set(\"end\",n)},e.prototype._dodgeText=function(t,e,i){var n,o,r=this.cfg,a=r.handlerStyle,s=r.width,l=Object(F.get)(a,\"width\",10),c=t[0],u=t[1],h=!1;c>u&&(c=(n=[u,c])[0],u=n[1],e=(o=[i,e])[0],i=o[1],h=!0);var p=e.getBBox(),f=i.getBBox(),d=p.width>c-2?{x:c+l/2+2,textAlign:\"left\"}:{x:c-l/2-2,textAlign:\"right\"},g=f.width>s-u-2?{x:u-l/2-2,textAlign:\"right\"}:{x:u+l/2+2,textAlign:\"left\"};return h?[g,d]:[d,g]},e.prototype.draw=function(){var t=this.get(\"container\"),e=t&&t.get(\"canvas\");e&&e.draw()},e.prototype.getContainerDOM=function(){var t=this.get(\"container\"),e=t&&t.get(\"canvas\");return e&&e.get(\"container\")},e}(mt),Ue={default:{trackColor:\"rgba(0,0,0,0)\",thumbColor:\"rgba(0,0,0,0.15)\",size:8,lineCap:\"round\"},hover:{thumbColor:\"rgba(0,0,0,0.2)\"}},$e=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clearEvents=F.noop,e.onStartEvent=function(t){return function(i){e.isMobile=t,i.originalEvent.preventDefault();var n=t?Object(F.get)(i.originalEvent,\"touches.0.clientX\"):i.clientX,o=t?Object(F.get)(i.originalEvent,\"touches.0.clientY\"):i.clientY;e.startPos=e.cfg.isHorizontal?n:o,e.bindLaterEvent()}},e.bindLaterEvent=function(){var t=e.getContainerDOM(),i=[];i=e.isMobile?[Object(Kt.addEventListener)(t,\"touchmove\",e.onMouseMove),Object(Kt.addEventListener)(t,\"touchend\",e.onMouseUp),Object(Kt.addEventListener)(t,\"touchcancel\",e.onMouseUp)]:[Object(Kt.addEventListener)(t,\"mousemove\",e.onMouseMove),Object(Kt.addEventListener)(t,\"mouseup\",e.onMouseUp),Object(Kt.addEventListener)(t,\"mouseleave\",e.onMouseUp)],e.clearEvents=function(){i.forEach((function(t){t.remove()}))}},e.onMouseMove=function(t){var i=e.cfg,n=i.isHorizontal,o=i.thumbOffset;t.preventDefault();var r=e.isMobile?Object(F.get)(t,\"touches.0.clientX\"):t.clientX,a=e.isMobile?Object(F.get)(t,\"touches.0.clientY\"):t.clientY,s=n?r:a,l=s-e.startPos;e.startPos=s,e.updateThumbOffset(o+l)},e.onMouseUp=function(t){t.preventDefault(),e.clearEvents()},e.onTrackClick=function(t){var i=e.cfg,n=i.isHorizontal,o=i.x,r=i.y,a=i.thumbLen,s=e.getContainerDOM().getBoundingClientRect(),l=t.clientX,c=t.clientY,u=n?l-s.left-o-a/2:c-s.top-r-a/2,h=e.validateRange(u);e.updateThumbOffset(h)},e.onThumbMouseOver=function(){var t=e.cfg.theme.hover.thumbColor;e.getElementByLocalId(\"thumb\").attr(\"stroke\",t),e.draw()},e.onThumbMouseOut=function(){var t=e.cfg.theme.default.thumbColor;e.getElementByLocalId(\"thumb\").attr(\"stroke\",t),e.draw()},e}Object(P.__extends)(e,t),e.prototype.setRange=function(t,e){this.set(\"minLimit\",t),this.set(\"maxLimit\",e)},e.prototype.getRange=function(){return{min:this.get(\"minLimit\"),max:this.get(\"maxLimit\")}},e.prototype.setValue=function(t){var e=this.getValue();this.update({thumbOffset:this.get(\"trackLen\")-this.get(\"thumbLen\")*Object(F.clamp)(t,0,1)}),this.delegateEmit(\"valuechange\",{originalValue:e,value:this.getValue()})},e.prototype.getValue=function(){return Object(F.clamp)(this.get(\"thumbOffset\")/(this.get(\"trackLen\")-this.get(\"thumbLen\")),0,1)},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(P.__assign)(Object(P.__assign)({},e),{name:\"scrollbar\",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:Ue})},e.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get(\"group\"),{x:this.get(\"x\"),y:this.get(\"y\")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.renderTrackShape=function(t){var e=this.cfg,i=e.trackLen,n=e.theme,o=(void 0===n?{default:{}}:n).default,r=o.lineCap,a=o.trackColor,s=o.size,l=this.get(\"isHorizontal\")?{x1:0+s/2,y1:s/2,x2:i-s/2,y2:s/2,lineWidth:s,stroke:a,lineCap:r}:{x1:s/2,y1:0+s/2,x2:s/2,y2:i-s/2,lineWidth:s,stroke:a,lineCap:r};return this.addShape(t,{id:this.getElementId(\"track\"),name:\"track\",type:\"line\",attrs:l})},e.prototype.renderThumbShape=function(t){var e=this.cfg,i=e.thumbOffset,n=e.thumbLen,o=e.theme,r=(void 0===o?{default:{}}:o).default,a=r.size,s=r.lineCap,l=r.thumbColor,c=this.get(\"isHorizontal\")?{x1:i+a/2,y1:a/2,x2:i+n-a/2,y2:a/2,lineWidth:a,stroke:l,lineCap:s,cursor:\"default\"}:{x1:a/2,y1:i+a/2,x2:a/2,y2:i+n-a/2,lineWidth:a,stroke:l,lineCap:s,cursor:\"default\"};return this.addShape(t,{id:this.getElementId(\"thumb\"),name:\"thumb\",type:\"line\",attrs:c})},e.prototype.bindEvents=function(){var t=this.get(\"group\");t.on(\"mousedown\",this.onStartEvent(!1)),t.on(\"mouseup\",this.onMouseUp),t.on(\"touchstart\",this.onStartEvent(!0)),t.on(\"touchend\",this.onMouseUp),t.findById(this.getElementId(\"track\")).on(\"click\",this.onTrackClick);var e=t.findById(this.getElementId(\"thumb\"));e.on(\"mouseover\",this.onThumbMouseOver),e.on(\"mouseout\",this.onThumbMouseOut)},e.prototype.getContainerDOM=function(){var t=this.get(\"container\"),e=t&&t.get(\"canvas\");return e&&e.get(\"container\")},e.prototype.validateRange=function(t){var e=this.cfg,i=e.thumbLen,n=e.trackLen,o=t;return t+i>n?o=n-i:t+i<i&&(o=0),o},e.prototype.draw=function(){var t=this.get(\"container\"),e=t&&t.get(\"canvas\");e&&e.draw()},e.prototype.updateThumbOffset=function(t){var e=this.cfg,i=e.thumbOffset,n=e.isHorizontal,o=e.thumbLen,r=e.size,a=this.validateRange(t);if(a!==i){var s=this.getElementByLocalId(\"thumb\");n?s.attr({x1:a+r/2,x2:a+o-r/2}):s.attr({y1:a+r/2,y2:a+o-r/2}),this.emitOffsetChange(a)}},e.prototype.emitOffsetChange=function(t){var e=this.cfg,i=e.thumbOffset,n=e.trackLen,o=e.thumbLen;this.cfg.thumbOffset=t,this.emit(\"scrollchange\",{thumbOffset:t,ratio:Object(F.clamp)(t/(n-o),0,1)}),this.delegateEmit(\"valuechange\",{originalValue:i,value:t})}}(mt),i(\"sGDc\"));function Ze(t){return!!t&&!(!0!==t.visible||\"string\"!==typeof t.text||!t.text.trim())}function Ke(t,e){var i=Object(P.__spreadArrays)(t);return e.forEach((function(t,e){i.splice(t+e,0,\"\\n\")})),i.join(\"\")}var Qe=function(){function t(t){this.position=\"top\",this.destroyed=!1,Object(F.assign)(this,t),this.init()}return t.prototype.getBBox=function(){var t=this;if(this.shape){var e=this.shape.getBBox();if(0===this.index)return G.fromBBoxObject(e);var i=this.plot.theme.description.padding;return Object(F.isArray)(i)&&Object(F.each)(i,(function(e,n){\"function\"===typeof i[n]&&(i[n]=i[n](t.plot.options.legend.position))})),new G(e.maxX,e.minY,e.width,e.height+i[2])}return null},t.prototype.clear=function(){this.shape&&this.shape.attr(\"text\",\"\")},t.prototype.destroy=function(){this.shape&&this.shape.remove(),this.destroyed=!0},t.prototype.init=function(){var t=this.textWrapper();this.shape=this.container.addShape(\"text\",{attrs:Object(F.mix)({x:this.leftMargin,y:this.topMargin,text:t},this.style)}),this.shape.name=this.name},t.prototype.getPosition=function(){return\"left\"===this.alignTo?{x:this.leftMargin,y:this.topMargin}:\"middle\"===this.alignTo?{x:this.leftMargin+this.wrapperWidth/2,y:this.topMargin}:{x:this.rightMargin,y:this.topMargin}},t.prototype.getTextAlign=function(){return\"left\"===this.alignTo?\"left\":\"middle\"===this.alignTo?\"center\":\"right\"},t.prototype.textWrapper=function(){var t=this.wrapperWidth,e=this.style,i=this.text,n=this.container.addShape(\"text\",{attrs:Object(P.__assign)({text:\"\",x:0,y:0},e)}),o=i.split(\"\\n\").map((function(e){for(var i=\"\",o=e.split(\"\"),r=[],a=0;a<o.length;a++){var s=o[a];if(n.attr(\"text\",i+=s),n.getBBox().width-1>t){if(0===a)break;r.push(a),i=\"\"}}return Ke(o,r)}));return n.remove(),o.join(\"\\n\")},t}(),Je=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e,i,n){return t.reduce((function(t,e){return e(t,i,n)}),e)}},ti=function(t){return function(e,i,n){var o=Number(e);return isNaN(o)||Object(F.isNil)(t)?e:o.toFixed(t)}},ei=function(t){return function(e,i,n){return Object(F.isNil)(t)?e:e+\" \"+t}};function ii(t,e,i){t[i]&&(e[i]=t[i])}var ni=function(){function t(t){this.config=!1,this.plot=t.plot,this.dim=t.dim,this.init()}return t.prototype.init=function(){this.config=!1;var t=this.plot.getPlotTheme();this.themeConfig=t&&t.axis&&t.axis[this.dim],this._needDraw()&&this._styleParser()},t.prototype._styleParser=function(){this.config=Object(P.__assign)({},this.localProps),this._isVisible(\"line\")?this._lineParser():this.config.line=null,this._isVisible(\"grid\")?this._gridParser():this.config.grid=null,this._isVisible(\"tickLine\")?this._tickLineParser():this.config.tickLine=null,this._isVisible(\"label\")?this._labelParser():this.config.label=null,this._isVisible(\"title\")?this._titleParser():this.config.title=null,ii(this.localProps,this.config,\"autoHideLabel\"),ii(this.localProps,this.config,\"autoRotateLabel\"),ii(this.localProps,this.config,\"autoRotateTitle\")},t.prototype._needDraw=function(){var t=this.plot.options,e=t[this.dim+\"Axis\"]?t[this.dim+\"Axis\"]:{},i=Object(F.deepMix)({},this.themeConfig,e);return this.localProps=i,!!i.visible},t.prototype._lineParser=function(){this.config.line=this.localProps.line,this.localProps.line.style&&(this.config.line={style:this.localProps.line.style}),this.applyThemeConfig(\"line\")},t.prototype._gridParser=function(){var t,e,i,n,o,r=this,a=(this.localProps.grid,null===(e=null===(t=this.localProps.grid)||void 0===t?void 0:t.line)||void 0===e?void 0:e.style),s=null===(n=null===(i=this.localProps.grid)||void 0===i?void 0:i.line)||void 0===n?void 0:n.type,l=null===(o=this.localProps.grid)||void 0===o?void 0:o.alternateColor;Object(F.isFunction)(a)?this.config.grid=function(t,e,i){var n=a(t,e,i);return{line:{type:s,style:Object(F.deepMix)({},Object(F.get)(r.themeConfig,\"grid.line.style\"),n)},alternateColor:l}}:a&&(this.config.grid={line:{type:s,style:a},alternateColor:l},this.applyThemeConfig(\"grid\"))},t.prototype._tickLineParser=function(){this.config.tickLine=this.localProps.tickLine,this.localProps.tickLine.style&&(this.config.tickLine={style:this.localProps.tickLine.style}),this.applyThemeConfig(\"tickLine\")},t.prototype._labelParser=function(){var t=this.localProps.label,e=t.style,i=Object(P.__rest)(t,[\"style\"]),n=Object(P.__assign)({},i);e&&(n.style=Object(P.__assign)({},this.localProps.label.style)),n.style=Object(F.deepMix)({},Object(F.get)(this.themeConfig,\"label.style\"),n.style);var o=this.parseFormatter(n);n.formatter=o,this.config.label=n},t.prototype._titleParser=function(){var t=Object(P.__assign)({},this.localProps.title),e=this.localProps.title,i=e.visible,n=e.style,o=e.text;i?(this.config.showTitle=!0,n&&(t.style=n),t.style=Object(F.deepMix)({},Object(F.get)(this.config,\"title.style\"),t.textStyle),o&&(t.text=o)):this.config.showTitle=!1,this.config.title=t},t.prototype._isVisible=function(t){return!(!this.localProps[t]||!this.localProps[t].visible)},t.prototype.applyThemeConfig=function(t){this.config[t]=Object(F.deepMix)({},Object(F.get)(this.themeConfig,t+\".style\"),this.config[t])},t.prototype.parseFormatter=function(t){var e=Je((function(t,e,i){return t}),ti(t.precision),ei(t.suffix));return t.formatter&&(e=Je(e,t.formatter)),e},t}(),oi={};function ri(t,e){oi[t]=e}var ai=function(){function t(t){this.type=\"base\",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}return t.prototype.translate=function(t){return t},t.prototype.change=function(t){Object(F.assign)(this.__cfg__,t),this.init()},t.prototype.clone=function(){return this.constructor(this.__cfg__)},t.prototype.getTicks=function(){var t=this;return Object(F.map)(this.ticks,(function(e,i){return Object(F.isObject)(e)?e:{text:t.getText(e,i),tickValue:e,value:t.scale(e)}}))},t.prototype.getText=function(t,e){var i=this.formatter,n=i?i(t,e):t;return Object(F.isNil)(n)||!Object(F.isFunction)(n.toString)?\"\":n.toString()},t.prototype.getConfig=function(t){return this.__cfg__[t]},t.prototype.init=function(){Object(F.assign)(this,this.__cfg__),this.setDomain(),Object(F.isEmpty)(this.getConfig(\"ticks\"))&&(this.ticks=this.calculateTicks())},t.prototype.initCfg=function(){},t.prototype.setDomain=function(){},t.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if(Object(F.isString)(t)){var i=oi[t];if(!i)throw new Error(\"There is no method to to calculate ticks!\");e=i(this)}else Object(F.isFunction)(t)&&(e=t(this));return e},t.prototype.rangeMin=function(){return Object(F.head)(this.range)},t.prototype.rangeMax=function(){return Object(F.last)(this.range)},t.prototype.calcPercent=function(t,e,i){return Object(F.isNumber)(t)?(t-e)/(i-e):NaN},t.prototype.calcValue=function(t,e,i){return e+t*(i-e)},t}(),si=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"cat\",e.isCategory=!0,e}return Object(P.__extends)(e,t),e.prototype.translate=function(t){var e=Object(F.indexOf)(this.values,t);return-1===e?Object(F.isNumber)(t)?t:NaN:e},e.prototype.scale=function(t){var e=this.translate(t),i=this.calcPercent(e,this.min,this.max);return this.calcValue(i,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var e=this.max-this.min,i=this.calcPercent(t,this.rangeMin(),this.rangeMax()),n=Math.round(e*i)+this.min;return n<this.min||n>this.max?NaN:this.values[n]},e.prototype.getText=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o=e;return Object(F.isNumber)(e)&&!this.values.includes(e)&&(o=this.values[o]),t.prototype.getText.apply(this,Object(P.__spreadArrays)([o],i))},e.prototype.initCfg=function(){this.tickMethod=\"cat\"},e.prototype.setDomain=function(){if(Object(F.isNil)(this.getConfig(\"min\"))&&(this.min=0),Object(F.isNil)(this.getConfig(\"max\"))){var t=this.values.length;this.max=t>1?t-1:t}},e}(ai),li={},ci=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g,ui=\"[^\\\\s]+\",hi=/\\[([^]*?)\\]/gm,pi=function(){};function fi(t,e){for(var i=[],n=0,o=t.length;n<o;n++)i.push(t[n].substr(0,e));return i}function di(t){return function(e,i,n){var o=n[t].indexOf(i.charAt(0).toUpperCase()+i.substr(1).toLowerCase());~o&&(e.month=o)}}function gi(t,e){for(t=String(t),e=e||2;t.length<e;)t=\"0\"+t;return t}var yi=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],mi=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],vi=fi(mi,3),bi=fi(yi,3);li.i18n={dayNamesShort:bi,dayNames:yi,monthNamesShort:vi,monthNames:mi,amPm:[\"am\",\"pm\"],DoFn:function(t){return t+[\"th\",\"st\",\"nd\",\"rd\"][t%10>3?0:(t-t%10!==10)*t%10]}};var xi={D:function(t){return t.getDate()},DD:function(t){return gi(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return t.getDay()},dd:function(t){return gi(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return gi(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return gi(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return gi(t.getFullYear(),4)},h:function(t){return t.getHours()%12||12},hh:function(t){return gi(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return gi(t.getHours())},m:function(t){return t.getMinutes()},mm:function(t){return gi(t.getMinutes())},s:function(t){return t.getSeconds()},ss:function(t){return gi(t.getSeconds())},S:function(t){return Math.round(t.getMilliseconds()/100)},SS:function(t){return gi(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return gi(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?\"-\":\"+\")+gi(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},Oi={D:[\"\\\\d\\\\d?\",function(t,e){t.day=e}],Do:[\"\\\\d\\\\d?\"+ui,function(t,e){t.day=parseInt(e,10)}],M:[\"\\\\d\\\\d?\",function(t,e){t.month=e-1}],YY:[\"\\\\d\\\\d?\",function(t,e){var i=+(\"\"+(new Date).getFullYear()).substr(0,2);t.year=\"\"+(e>68?i-1:i)+e}],h:[\"\\\\d\\\\d?\",function(t,e){t.hour=e}],m:[\"\\\\d\\\\d?\",function(t,e){t.minute=e}],s:[\"\\\\d\\\\d?\",function(t,e){t.second=e}],YYYY:[\"\\\\d{4}\",function(t,e){t.year=e}],S:[\"\\\\d\",function(t,e){t.millisecond=100*e}],SS:[\"\\\\d{2}\",function(t,e){t.millisecond=10*e}],SSS:[\"\\\\d{3}\",function(t,e){t.millisecond=e}],d:[\"\\\\d\\\\d?\",pi],ddd:[ui,pi],MMM:[ui,di(\"monthNamesShort\")],MMMM:[ui,di(\"monthNames\")],a:[ui,function(t,e,i){var n=e.toLowerCase();n===i.amPm[0]?t.isPm=!1:n===i.amPm[1]&&(t.isPm=!0)}],ZZ:[\"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z\",function(t,e){var i,n=(e+\"\").match(/([+-]|\\d\\d)/gi);n&&(i=60*n[1]+parseInt(n[2],10),t.timezoneOffset=\"+\"===n[0]?i:-i)}]};Oi.dd=Oi.d,Oi.dddd=Oi.ddd,Oi.DD=Oi.D,Oi.mm=Oi.m,Oi.hh=Oi.H=Oi.HH=Oi.h,Oi.MM=Oi.M,Oi.ss=Oi.s,Oi.A=Oi.a,li.masks={default:\"ddd MMM DD YYYY HH:mm:ss\",shortDate:\"M/D/YY\",mediumDate:\"MMM D, YYYY\",longDate:\"MMMM D, YYYY\",fullDate:\"dddd, MMMM D, YYYY\",shortTime:\"HH:mm\",mediumTime:\"HH:mm:ss\",longTime:\"HH:mm:ss.SSS\"},li.format=function(t,e,i){var n=i||li.i18n;if(\"number\"===typeof t&&(t=new Date(t)),\"[object Date]\"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error(\"Invalid Date in fecha.format\");e=li.masks[e]||e||li.masks.default;var o=[];return(e=(e=e.replace(hi,(function(t,e){return o.push(e),\"@@@\"}))).replace(ci,(function(e){return e in xi?xi[e](t,n):e.slice(1,e.length-1)}))).replace(/@@@/g,(function(){return o.shift()}))},li.parse=function(t,e,i){var n=i||li.i18n;if(\"string\"!==typeof e)throw new Error(\"Invalid format in fecha.parse\");if(e=li.masks[e]||e,t.length>1e3)return null;var o={},r=[],a=[];e=e.replace(hi,(function(t,e){return a.push(e),\"@@@\"}));var s,l=(s=e,s.replace(/[|\\\\{()[^$+*?.-]/g,\"\\\\$&\")).replace(ci,(function(t){if(Oi[t]){var e=Oi[t];return r.push(e[1]),\"(\"+e[0]+\")\"}return t}));l=l.replace(/@@@/g,(function(){return a.shift()}));var c=t.match(new RegExp(l,\"i\"));if(!c)return null;for(var u=1;u<c.length;u++)r[u-1](o,c[u],n);var h,p=new Date;return!0===o.isPm&&null!=o.hour&&12!==+o.hour?o.hour=+o.hour+12:!1===o.isPm&&12===+o.hour&&(o.hour=0),null!=o.timezoneOffset?(o.minute=+(o.minute||0)-+o.timezoneOffset,h=new Date(Date.UTC(o.year||p.getFullYear(),o.month||0,o.day||1,o.hour||0,o.minute||0,o.second||0,o.millisecond||0))):h=new Date(o.year||p.getFullYear(),o.month||0,o.day||1,o.hour||0,o.minute||0,o.second||0,o.millisecond||0),h};var ji=li,Mi=function(t){return function(e,i,n,o){for(var r=Object(F.isNil)(n)?0:n,a=Object(F.isNil)(o)?e.length:o;r<a;){var s=r+a>>>1;t(e[s])>i?a=s:r=s+1}return r}},wi=\"format\";function _i(t,e){return(h[wi]||ji[wi])(t,e)}function Ci(t){return Object(F.isString)(t)&&(t=t.indexOf(\"T\")>0?new Date(t).getTime():new Date(t.replace(/-/gi,\"/\")).getTime()),Object(F.isDate)(t)&&(t=t.getTime()),t}var Si=1e3,ki=60*Si,Ai=60*ki,Li=24*Ai,Bi=31*Li,Di=365*Li,Ti=[[\"HH:mm:ss\",Si],[\"HH:mm:ss\",10*Si],[\"HH:mm:ss\",30*Si],[\"HH:mm\",ki],[\"HH:mm\",10*ki],[\"HH:mm\",30*ki],[\"HH\",Ai],[\"HH\",6*Ai],[\"HH\",12*Ai],[\"YYYY-MM-DD\",Li],[\"YYYY-MM-DD\",4*Li],[\"YYYY-WW\",7*Li],[\"YYYY-MM\",Bi],[\"YYYY-MM\",4*Bi],[\"YYYY-MM\",6*Bi],[\"YYYY\",380*Li]];var Pi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.translate=function(t){t=Ci(t);var e=this.values.indexOf(t);return-1===e&&(e=Object(F.isNumber)(t)&&t<this.values.length?t:NaN),e},e.prototype.getText=function(t,e){var i=this.translate(t);if(i>-1){var n=this.values[i],o=this.formatter;return n=o?o(n,e):_i(n,this.mask)}return t},e.prototype.initCfg=function(){this.tickMethod=\"time-cat\",this.mask=\"YYYY-MM-DD\",this.tickCount=7},e.prototype.setDomain=function(){var e=this.values;Object(F.each)(e,(function(t,i){e[i]=Ci(t)})),e.sort((function(t,e){return t-e})),t.prototype.setDomain.call(this)},e}(si),Ii=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isContinuous=!0,e}return Object(P.__extends)(e,t),e.prototype.scale=function(t){if(Object(F.isNil)(t))return NaN;var e=this.rangeMin(),i=this.rangeMax();return this.max===this.min?e:e+this.getScalePercent(t)*(i-e)},e.prototype.init=function(){t.prototype.init.call(this);var e=this.ticks,i=Object(F.head)(e),n=Object(F.last)(e);i<this.min&&(this.min=i),n>this.max&&(this.max=n),Object(F.isNil)(this.minLimit)||(this.min=i),Object(F.isNil)(this.maxLimit)||(this.max=n)},e.prototype.setDomain=function(){var t=Object(F.getRange)(this.values),e=t.min,i=t.max;Object(F.isNil)(this.min)&&(this.min=e),Object(F.isNil)(this.max)&&(this.max=i),this.min>this.max&&(this.min=e,this.max=i)},e.prototype.calculateTicks=function(){var e=this,i=t.prototype.calculateTicks.call(this);return this.nice||(i=Object(F.filter)(i,(function(t){return t>=e.min&&t<=e.max}))),i},e.prototype.getScalePercent=function(t){var e=this.max,i=this.min;return(t-i)/(e-i)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(ai),Ei=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"linear\",e.isLinear=!0,e}return Object(P.__extends)(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod=\"wilkinson-extended\",this.nice=!1},e}(Ii);function Fi(t,e){var i=Math.E;return e>=0?Math.pow(i,Math.log(e)/t):-1*Math.pow(i,Math.log(-e)/t)}function Ri(t,e){return 1===t?1:Math.log(e)/Math.log(t)}function Yi(t,e,i){Object(F.isNil)(i)&&(i=Math.max.apply(null,t));var n=i;return Object(F.each)(t,(function(t){t>0&&t<n&&(n=t)})),n===i&&(n=i/e),n>1&&(n=1),n}var Ni=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"log\",e}return Object(P.__extends)(e,t),e.prototype.invert=function(t){var e,i=this.base,n=Ri(i,this.max),o=this.rangeMin(),r=this.rangeMax()-o,a=this.positiveMin;if(a){if(0===t)return 0;var s=1/(n-(e=Ri(i,a/i)))*r;if(t<s)return t/s*a}else e=Ri(i,this.min);var l=(t-o)/r*(n-e)+e;return Math.pow(i,l)},e.prototype.initCfg=function(){this.tickMethod=\"log\",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){t.prototype.setDomain.call(this);var e=this.min;if(e<0)throw new Error(\"When you use log scale, the minimum value must be greater than zero!\");0===e&&(this.positiveMin=Yi(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var e=this.max,i=this.min;if(e===i)return 0;if(t<=0)return 0;var n=this.base,o=this.positiveMin;return o&&(i=1*o/n),t<o?t/o/(Ri(n,e)-Ri(n,i)):(Ri(n,t)-Ri(n,i))/(Ri(n,e)-Ri(n,i))},e}(Ii),zi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"pow\",e}return Object(P.__extends)(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t),i=this.exponent,n=Fi(i,this.max),o=Fi(i,this.min),r=e*(n-o)+o,a=r>=0?1:-1;return Math.pow(r,i)*a},e.prototype.initCfg=function(){this.tickMethod=\"pow\",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var e=this.max,i=this.min;if(e===i)return 0;var n=this.exponent;return(Fi(n,t)-Fi(n,i))/(Fi(n,e)-Fi(n,i))},e}(Ii),Hi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"time\",e}return Object(P.__extends)(e,t),e.prototype.getText=function(t,e){var i=this.translate(t),n=this.formatter;return n?n(i,e):_i(i,this.mask)},e.prototype.scale=function(e){var i=e;return(Object(F.isString)(i)||Object(F.isDate)(i))&&(i=this.translate(i)),t.prototype.scale.call(this,i)},e.prototype.translate=function(t){return Ci(t)},e.prototype.initCfg=function(){this.tickMethod=\"time-pretty\",this.mask=\"YYYY-MM-DD\",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,e=this.getConfig(\"min\"),i=this.getConfig(\"max\");if(Object(F.isNil)(e)&&Object(F.isNumber)(e)||(this.min=this.translate(this.min)),Object(F.isNil)(i)&&Object(F.isNumber)(i)||(this.max=this.translate(this.max)),t&&t.length){var n=[],o=1/0,r=o,a=0;Object(F.each)(t,(function(t){var e=Ci(t);if(isNaN(e))throw new TypeError(\"Invalid Time: \"+t+\" in time scale!\");o>e?(r=o,o=e):r>e&&(r=e),a<e&&(a=e),n.push(e)})),t.length>1&&(this.minTickInterval=r-o),Object(F.isNil)(e)&&(this.min=o),Object(F.isNil)(i)&&(this.max=a)}},e}(Ei),Xi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"quantize\",e}return Object(P.__extends)(e,t),e.prototype.invert=function(t){var e=this.ticks,i=e.length,n=this.getInvertPercent(t),o=Math.floor(n*(i-1));if(o>=i-1)return Object(F.last)(e);if(o<0)return Object(F.head)(e);var r=e[o],a=o/(i-1);return r+(n-a)/((o+1)/(i-1)-a)*(e[o+1]-r)},e.prototype.initCfg=function(){this.tickMethod=\"r-pretty\",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var e=t.prototype.calculateTicks.call(this);return this.nice||(Object(F.last)(e)!==this.max&&e.push(this.max),Object(F.head)(e)!==this.min&&e.unshift(this.min)),e},e.prototype.getScalePercent=function(t){var e=this.ticks;if(t<Object(F.head)(e))return 0;if(t>Object(F.last)(e))return 1;var i=0;return Object(F.each)(e,(function(e,n){if(!(t>=e))return!1;i=n})),i/(e.length-1)},e}(Ii),Gi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"quantile\",e}return Object(P.__extends)(e,t),e.prototype.initCfg=function(){this.tickMethod=\"quantile\",this.tickCount=5,this.nice=!0},e}(Xi),Vi={};function Wi(t){return Vi[t]}function qi(t,e){if(Wi(t))throw new Error(\"type '\"+t+\"' existed.\");Vi[t]=e}var Ui=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"identity\",e.isIdentity=!0,e}return Object(P.__extends)(e,t),e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&Object(F.isNumber)(t)?t:this.range[0]},e.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},e}(ai),$i=[1,5,2,2.5,4,3],Zi=100*Number.EPSILON;function Ki(t,e,i,n,o,r){var a=Object(F.size)(e),s=Object(F.indexOf)(e,t),l=0,c=function(t,e){return(t%e+e)%e}(n,r);return(c<Zi||r-c<Zi)&&n<=0&&o>=0&&(l=1),1-s/(a-1)-i+l}function Qi(t,e,i){var n=Object(F.size)(e);return 1-Object(F.indexOf)(e,t)/(n-1)-i+1}function Ji(t,e,i,n,o,r){var a=(t-1)/(r-o),s=(e-1)/(Math.max(r,n)-Math.min(i,o));return 2-Math.max(a/s,s/a)}function tn(t,e){return t>=e?2-(t-1)/(e-1):1}function en(t,e,i,n){var o=e-t;return 1-.5*(Math.pow(e-n,2)+Math.pow(t-i,2))/Math.pow(.1*o,2)}function nn(t,e,i){var n=e-t;if(i>n){var o=(i-n)/2;return 1-Math.pow(o,2)/Math.pow(.1*n,2)}return 1}function on(t,e,i,n,o,r){if(void 0===i&&(i=5),void 0===n&&(n=!0),void 0===o&&(o=$i),void 0===r&&(r=[.25,.2,.5,.05]),t===e||1===i)return{min:t,max:e,ticks:[t]};for(var a={score:-2,lmin:0,lmax:0,lstep:0},s=1;s<1/0;){for(var l=0,c=o;l<c.length;l++){var u=c[l],h=Qi(u,o,s);if(Number.isNaN(h))throw new Error(\"NaN\");if(r[0]*h+r[1]+r[2]+r[3]<a.score){s=1/0;break}for(var p=2;p<1/0;){var f=tn(p,i);if(r[0]*h+r[1]+r[2]*f+r[3]<a.score)break;for(var d=(e-t)/(p+1)/s/u,g=Math.ceil(Math.log10(d));g<1/0;){var y=s*u*Math.pow(10,g),m=nn(t,e,y*(p-1));if(r[0]*h+r[1]*m+r[2]*f+r[3]<a.score)break;var v=Math.floor(e/y)*s-(p-1)*s,b=Math.ceil(t/y)*s;if(v>b)g+=1;else{for(var x=v;x<=b;x+=1){var O=x*(y/s),j=O+y*(p-1),M=y,w=Ki(u,o,s,O,j,M),_=en(t,e,O,j),C=Ji(p,i,t,e,O,j),S=r[0]*w+r[1]*_+r[2]*C+1*r[3];S>a.score&&(!n||O<=t&&j>=e)&&(a.lmin=O,a.lmax=j,a.lstep=M,a.score=S)}g+=1}}p+=1}}s+=1}for(var k=Number.isInteger(a.lstep)?0:Math.ceil(Math.abs(Math.log10(a.lstep))),A=[],L=a.lmin;L<=a.lmax;L+=a.lstep)A.push(L);var B=k?Object(F.map)(A,(function(t){return Number.parseFloat(t.toFixed(k))})):A;return{min:Math.min(t,Object(F.head)(B)),max:Math.max(e,Object(F.last)(B)),ticks:B}}function rn(t){var e=t.values,i=t.tickInterval,n=t.tickCount,o=e;if(Object(F.isNumber)(i))return Object(F.filter)(o,(function(t,e){return e%i===0}));var r=t.min,a=t.max;if(Object(F.isNil)(r)&&(r=0),Object(F.isNil)(a)&&(a=e.length-1),Object(F.isNumber)(n)&&n<a-r){var s=on(r,a,n,!1,[1,2,5,3,4,7,6,8,9]).ticks;return Object(F.filter)(s,(function(t){return t>=r&&t<=a})).map((function(t){return e[t]}))}return e.slice(r,a+1)}var an=Math.sqrt(50),sn=Math.sqrt(10),ln=Math.sqrt(2),cn=function(){function t(){this._domain=[0,1]}return t.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},t.prototype.nice=function(t){var e,i;void 0===t&&(t=5);var n,o=this._domain.slice(),r=0,a=this._domain.length-1,s=this._domain[r],l=this._domain[a];return l<s&&(s=(e=[l,s])[0],l=e[1],r=(i=[a,r])[0],a=i[1]),(n=un(s,l,t))>0?n=un(s=Math.floor(s/n)*n,l=Math.ceil(l/n)*n,t):n<0&&(n=un(s=Math.ceil(s*n)/n,l=Math.floor(l*n)/n,t)),n>0?(o[r]=Math.floor(s/n)*n,o[a]=Math.ceil(l/n)*n,this.domain(o)):n<0&&(o[r]=Math.ceil(s*n)/n,o[a]=Math.floor(l*n)/n,this.domain(o)),this},t.prototype.ticks=function(t){return void 0===t&&(t=5),function(t,e,i){var n,o,r,a,s=-1;if(i=+i,(t=+t)===(e=+e)&&i>0)return[t];(n=e<t)&&(o=t,t=e,e=o);if(0===(a=un(t,e,i))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),r=new Array(o=Math.ceil(e-t+1));++s<o;)r[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),r=new Array(o=Math.ceil(t-e+1));++s<o;)r[s]=(t-s)/a;n&&r.reverse();return r}(this._domain[0],this._domain[this._domain.length-1],t||5)},t}();function un(t,e,i){var n=(e-t)/Math.max(0,i),o=Math.floor(Math.log(n)/Math.LN10),r=n/Math.pow(10,o);return o>=0?(r>=an?10:r>=sn?5:r>=ln?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(r>=an?10:r>=sn?5:r>=ln?2:1)}function hn(t,e,i){return(\"ceil\"===i?Math.ceil(t/e):\"floor\"===i?Math.floor(t/e):Math.round(t/e))*e}function pn(t,e,i){var n=hn(t,i,\"floor\"),o=hn(e,i,\"ceil\");n=Object(F.fixedBase)(n,i),o=Object(F.fixedBase)(o,i);for(var r=[],a=n;a<=o;a+=i){var s=Object(F.fixedBase)(a,i);r.push(s)}return{min:n,max:o,ticks:r}}function fn(t,e,i){var n,o=t.minLimit,r=t.maxLimit,a=t.min,s=t.max,l=t.tickCount,c=void 0===l?5:l,u=Object(F.isNil)(o)?Object(F.isNil)(e)?a:e:o,h=Object(F.isNil)(r)?Object(F.isNil)(i)?s:i:r;if(u>h&&(h=(n=[u,h])[0],u=n[1]),c<=2)return[u,h];for(var p=(h-u)/(c-1),f=[],d=0;d<c;d++)f.push(u+p*d);return f}function dn(t,e,i){void 0===i&&(i=5);var n={max:0,min:0,ticks:[]},o=(e-t)/i,r=Math.pow(10,Math.floor(Math.log10(o))),a=r<1?Math.ceil(Math.abs(Math.log10(r))):0,s=r;2*r-o<1.5*(o-s)&&5*r-o<2.75*(o-(s=2*r))&&10*r-o<1.5*(o-(s=5*r))&&(s=10*r);var l=Math.ceil(e/s),c=Math.floor(t/s);n.max=Math.max(l*s,e),n.min=Math.min(c*s,t);for(var u=Number.parseFloat((c*s).toFixed(a));u<e;)n.ticks.push(u),u+=s,a&&(u=Number.parseFloat(u.toFixed(a)));return n.ticks.push(u),n}function gn(t,e){var i=t.length*e;return 1===e?t[t.length-1]:0===e?t[0]:i%1!==0?t[Math.ceil(i)-1]:t.length%2===0?(t[i-1]+t[i])/2:t[i]}function yn(t){return new Date(t).getFullYear()}function mn(t){return new Date(t,0,1).getTime()}function vn(t){return new Date(t).getMonth()}function bn(t,e){return new Date(t,e,1).getTime()}function xn(t,e){return t.x*e.y+t.y*e.x}function On(t,e,i){void 0===i&&(i=1);var n=[t.x,t.y,i];return tt.vec3.transformMat3(n,n,e),{x:n[0],y:n[1]}}ri(\"cat\",rn),ri(\"time-cat\",(function(t){var e=rn(t),i=Object(F.last)(t.values);return i!==Object(F.last)(e)&&e.push(i),e})),ri(\"wilkinson-extended\",(function(t){var e=t.min,i=t.max,n=t.tickCount,o=t.nice,r=t.tickInterval,a=t.minLimit,s=t.maxLimit,l=on(e,i,n,o).ticks;return Object(F.isNil)(a)&&Object(F.isNil)(s)?r?pn(e,i,r).ticks:l:fn(t,Object(F.head)(l),Object(F.last)(l))})),ri(\"r-pretty\",(function(t){var e=t.min,i=t.max,n=t.tickCount,o=t.tickInterval,r=t.minLimit,a=t.maxLimit,s=dn(e,i,n).ticks;return Object(F.isNil)(r)&&Object(F.isNil)(a)?o?pn(e,i,o).ticks:s:fn(t,Object(F.head)(s),Object(F.last)(s))})),ri(\"time\",(function(t){var e=t.min,i=t.max,n=t.minTickInterval,o=t.tickInterval,r=t.tickCount;if(o)r=Math.ceil((i-e)/o);else{var a=(i-e)/(o=function(t,e,i){var n=(e-t)/i,o=Mi((function(t){return t[1]}))(Ti,n)-1,r=Ti[o];return o<0?r=Ti[0]:o>=Ti.length&&(r=Object(F.last)(Ti)),r}(e,i,r)[1])/r;a>1&&(o*=Math.ceil(a)),n&&o<n&&(o=n)}for(var s=[],l=e;l<i+o;l+=o)s.push(l);return s})),ri(\"time-pretty\",(function(t){var e=t.min,i=t.max,n=t.minTickInterval,o=t.tickInterval,r=t.tickCount,a=[];o||(o=(i-e)/r,n&&o<n&&(o=n));var s=yn(e);if(o>Di)for(var l=yn(i),c=Math.ceil(o/Di),u=s;u<=l+c;u+=c)a.push(mn(u));else if(o>Bi){var h=Math.ceil(o/Bi),p=vn(e),f=function(t,e){var i=yn(t),n=yn(e),o=vn(t);return 12*(n-i)+(vn(e)-o)%12}(e,i);for(u=0;u<=f+h;u+=h)a.push(bn(s,u+p))}else if(o>Li){var d=(b=new Date(e)).getFullYear(),g=b.getMonth(),y=b.getDate(),m=Math.ceil(o/Li),v=function(t,e){return Math.ceil((e-t)/Li)}(e,i);for(u=0;u<v+m;u+=m)a.push(new Date(d,g,y+u).getTime())}else if(o>Ai){d=(b=new Date(e)).getFullYear(),g=b.getMonth(),m=b.getDate();var b,x=b.getHours(),O=Math.ceil(o/Ai),j=function(t,e){return Math.ceil((e-t)/Ai)}(e,i);for(u=0;u<=j+O;u+=O)a.push(new Date(d,g,m,x+u).getTime())}else if(o>ki){var M=function(t,e){return Math.ceil((e-t)/6e4)}(e,i),w=Math.ceil(o/ki);for(u=0;u<=M+w;u+=w)a.push(e+u*ki)}else{var _=o;_<Si&&(_=Si);var C=Math.floor(e/Si)*Si,S=Math.ceil((i-e)/Si),k=Math.ceil(_/Si);for(u=0;u<S+k;u+=k)a.push(C+u*Si)}return a})),ri(\"log\",(function(t){var e,i=t.base,n=t.tickCount,o=t.min,r=t.max,a=t.values,s=Ri(i,r);if(o>0)e=Math.floor(Ri(i,o));else{var l=Yi(a,i,r);e=Math.floor(Ri(i,l))}for(var c=s-e,u=Math.ceil(c/n),h=[],p=e;p<s+u;p+=u)h.push(Math.pow(i,p));return o<=0&&h.unshift(0),h})),ri(\"pow\",(function(t){var e=t.exponent,i=t.tickCount,n=Math.ceil(Fi(e,t.max));return dn(Math.floor(Fi(e,t.min)),n,i).ticks.map((function(t){var i=t>=0?1:-1;return Math.pow(t,e)*i}))})),ri(\"quantile\",(function(t){var e=t.tickCount,i=t.values;if(!i||!i.length)return[];for(var n=i.slice().sort((function(t,e){return t-e})),o=[],r=0;r<e;r++){var a=r/(e-1);o.push(gn(n,a))}return o})),ri(\"d3-linear\",(function(t){var e=t.min,i=t.max,n=t.tickInterval,o=t.minLimit,r=t.maxLimit,a=function(t){var e=t.min,i=t.max,n=t.nice,o=t.tickCount,r=new cn;return r.domain([e,i]),n&&r.nice(o),r.ticks(o)}(t);return Object(F.isNil)(o)&&Object(F.isNil)(r)?n?pn(e,i,n).ticks:a:fn(t,Object(F.head)(a),Object(F.last)(a))})),qi(\"cat\",si),qi(\"category\",si),qi(\"identity\",Ui),qi(\"linear\",Ei),qi(\"log\",Ni),qi(\"pow\",zi),qi(\"time\",Hi),qi(\"timeCat\",Pi),qi(\"quantize\",Xi),qi(\"quantile\",Gi);function jn(t,e){for(var i=!1,n=0,o=e.length-1;n<e.length;o=n++){var r=e[n].x,a=e[n].y,s=e[o].x,l=e[o].y;a>t.y!==l>t.y&&t.x<=(s-r)*(t.y-a)/(l-a)+r&&(i=!i)}return i}function Mn(t){return t*t}function wn(t,e){return Math.sqrt(Mn(t.x-e.x)+Mn(t.y-e.y))}function _n(t,e){return Math.sqrt(Mn(t.x-e.x)+Mn(t.y-e.y))}function Cn(t,e,i){var n=wn(e,i);if(0===n)return wn(t,e);var o=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/n;o=Math.max(0,Math.min(1,o));var r=wn(t,{x:e.x+o*(i.x-e.x),y:e.y+o*(i.y-e.y)});return Math.sqrt(r)}function Sn(t,e){var i=1/0;Object(F.each)(e,(function(e){var n=Math.sqrt(wn(e,t));i>n&&(i=n)}));for(var n=0,o=e.length-1;n<e.length;o=n++){var r=e[n].x,a=e[n].y,s=e[o].x,l=e[o].y,c=Cn(t,{x:r,y:a},{x:s,y:l});i>c&&(i=c)}return i}function kn(t,e){if(function(t,e){for(var i=0,n=t;i<n.length;i++){if(jn(n[i],e))return!0}return!1}(t,e))return 0;var i=1/0,n=1/0;return Object(F.each)(t,(function(t){var n=Sn(t,e);i>n&&(i=n)})),Object(F.each)(e,(function(e){var i=Sn(e,t);n>i&&(n=i)})),Math.min(i,n)}var An=2;function Ln(t){return t.length<5?t:function t(e,i){for(var n,o=-1/0,r=0,a=e.length-1,s=1;s<a;s++){var l=e[s],c={start:e[0],end:e[a]},u=Cn(l,c.start,c.end);u>o&&(o=u,r=s)}if(o>i){var h=t(e.slice(0,r+1),i),p=t(e.slice(r,e.length),i);n=h.concat(p)}else n=[e[0],e[e.length-1]];return n}(t,An)}function Bn(t){var e=Object(F.clone)(t);e.sort((function(t,e){return t-e}));var i=Math.floor(e.length/2);return e.length%2?e[i]:(e[i-1]+e[i])/2}function Dn(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}var Tn,Pn,In=function(){function t(t){Object(F.assign)(this,t),this._init()}return t.prototype._init=function(){this.plot.options;var t=this.getDefaultStyle(),e={type:\"line\",top:!0,start:this.cfg.start,end:this.cfg.end};if(e.style=Object(F.deepMix)({},t.line.style,this.cfg.lineStyle),e.text=Object(F.deepMix)({},t.text,this.cfg.text),this.cfg.type){var i=this._getState(this.cfg.type),n=100*(1-this.getYScale().scale(i))+\"%\",o=[\"0%\",n],r=[\"100%\",n];this.config=Object(F.mix)({start:o,end:r},e)}else{var a=this.cfg,s=a.start,l=a.end;this.config=Object(F.clone)(e);var c=this.getXScale(),u=this.getYScale(),h=Object(F.clone)(s),p=Object(F.clone)(l);Object(F.each)(s,(function(t,e){Object(F.contains)(Object(F.toArray)(s[e]),\"%\")&&!Object(F.isNumber)(s[e])||(h[e]=0===e?100*c.scale(s[0])+\"%\":100*(1-u.scale(s[1]))+\"%\")})),Object(F.each)(l,(function(t,e){Object(F.contains)(Object(F.toArray)(l[e]),\"%\")&&!Object(F.isNumber)(l[e])||(p[e]=0===e?100*c.scale(l[0])+\"%\":100*(1-u.scale(l[1]))+\"%\")})),this.config.start=h,this.config.end=p}},t.prototype.getYScale=function(){var t=this._getState(\"min\"),e=this._getState(\"max\");return new(Wi(\"linear\"))(Object(F.mix)({},{min:\"column\"===this.plot.type?0:t,max:e,nice:!0,values:this.values},this.plot.config.scales[this.plot.options.yField]))},t.prototype.getXScale=function(){var t=this.extractXValue();if(Object(F.isString)(t[0]))return new(Wi(\"cat\"))(Object(F.mix)({},{values:t},this.plot.config.scales[this.plot.options.xField]));var e=Math.min.apply(Math,t),i=Math.max.apply(Math,t);return new(Wi(\"linear\"))(Object(F.mix)({},{min:e,max:i,nice:!0,values:t},this.plot.config.scales[this.plot.options.xField]))},t.prototype._getState=function(t){return this.values=this._extractValues(),\"median\"===t?Bn(this.values):\"mean\"===t?function(t){var e=0;return Object(F.each)(t,(function(t){e+=t})),e/t.length}(this.values):\"max\"===t?Math.max.apply(Math,this.values):\"min\"===t?Math.min.apply(Math,this.values):void 0},t.prototype._extractValues=function(){var t=this.plot.options,e=t.yField,i=[],n=this.plot.processData(t.data);return Object(F.each)(n,(function(t){Object(F.isArray)(t[e])?i.push.apply(i,t[e]):i.push(t[e])})),i},t.prototype.extractXValue=function(){var t=this.plot.options,e=t.xField,i=[],n=this.plot.processData(t.data);return Object(F.each)(n,(function(t){Object(F.isArray)(t[e])?i.push.apply(i,t[e]):i.push(t[e])})),i},t.prototype.getDefaultStyle=function(){return this.getDefaultTextAlign(),{line:{style:{lineWidth:2,stroke:\"#333333\",opacity:.7,lineDash:[0,0]}},text:{offsetY:-5,style:{fontSize:14,stroke:\"white\",lineWidth:2,textAlign:this.getDefaultTextAlign()}}}},t.prototype.getDefaultTextAlign=function(){var t=this.cfg.text;if(t){if(!t.position||\"start\"===t.position)return\"left\";if(\"center\"===t.position)return\"center\";if(\"end\"===t.position)return\"right\"}},t}(),En=function(){function t(t){this.config={};var e=t.plot,i=Object(P.__rest)(t,[\"plot\"]);this.plot=e,this.originConfig=i,this.init(t)}return t.prototype.getConfig=function(){return this.config},t.prototype.init=function(t){var e=this;Object(F.assign)(this.config,t),this.config.callback=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];return e.parseCallBack.apply(e,Object(P.__spreadArrays)([t],i))}},t.prototype.parseCallBack=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=this.originConfig,o=this.plot.getPlotTheme(),r=Object(P.__assign)({},n);return this.parseOffset(n,r),n.position&&(Object(F.isFunction)(n.position)?r.position=n.position(t):r.position=n.position),this.parseFormatter.apply(this,Object(P.__spreadArrays)([r,t],e)),n.style&&(Object(F.isFunction)(n.style)?r.textStyle=n.style(t):r.textStyle=n.style),r.textStyle=Object(F.deepMix)({},Object(F.get)(o,\"label.style\"),r.textStyle),n.autoRotate&&(r.autoRotate=n.autoRotate),r},t.prototype.parseOffset=function(t,e){var i=0;Object(F.each)([\"offset\",\"offsetX\",\"offsetY\"],(function(n){Object(F.has)(t,n)&&(e[n]=t[n],i++)})),0===i&&\"middle\"===Object(F.get)(t,\"position\")&&(e.offset=0)},t.prototype.parseFormatter=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=this.originConfig;t.content=function(t,e,i){var o=t[n.fields[0]];return Je((function(t,e,i){return t}),ti(n.precision),ei(n.suffix),n.formatter?n.formatter:function(t,e,i){return t})(o,t,i)}},t}();function Fn(t,e){Tn||Rn(t),Object(F.each)(Tn,(function(t,i){var n=Yn(t,e);if(Nn(n.labelData,n.con)){Pn[i];var o={opacity:1,fontWeight:600,fill:\"red\"};t.shape.attr(o)}}))}function Rn(t){Tn=[],Pn=[];var e=t.view.getController(\"axis\").getComponents();Object(F.each)(e,(function(e){var i=e.component,n=[],o=function(t,e){var i=t.options,n=\"y\",o=e.get(\"position\");\"bottom\"!==o&&\"top\"!==o||(n=\"x\");var r=i[n+\"Field\"];return t.view.get(\"scales\")[r]}(t,i),r=i.get(\"labelRenderer\").get(\"group\").get(\"children\");if(Object(F.each)(r,(function(t){\"text\"===t.type&&(n.push({shape:t}),Pn.push(t.attr()))})),o){var a=o.ticks,s=o.field;Object(F.each)(n,(function(t,e){t.value=a[e],t.scaleField=s,t.type=o.type}))}Tn.push.apply(Tn,n)}))}function Yn(t,e){var i,n=((i={})[t.scaleField]=t.value,i),o=Object(F.clone)(e);return\"time\"===t.type&&Object(F.isObject)(e)&&!Object(F.isFunction)(o.exp)&&(o.exp=new Date(o.exp).getTime()),{labelData:n,con:o}}function Nn(t,e){if(!Object(F.isFunction)(e)){var i=e.name,n=e.exp;return!!t[i]&&(Object(F.isFunction)(n)?n(t[i]):t[i]===n)}return e(t)}var zn={active:Fn,selected:Fn,disable:function(t,e){Tn||Rn(t),Object(F.each)(Tn,(function(t,i){var n=Yn(t,e);if(Nn(n.labelData,n.con)){var o=Pn[i],r={opacity:.2*(o.opacity||1)};t.shape.attr(r)}}))}},Hn=function(t){function e(e){var i=t.call(this)||this;return i._states={},i._stateStack={},i}return Object(P.__extends)(e,t),e.prototype.setState=function(t,e){this._stateStack[t]=e,this._onUpdate()},e.prototype.getState=function(t){return this._states[t]},e.prototype.getAllStates=function(){return this._states},e.prototype.clear=function(){this._states={},this._stateStack={},this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null)},e.prototype._onUpdate=function(){var t=this,e=this._stateStack;this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null),this._changeTimer=setTimeout((function(){Object(F.each)(e,(function(i,n){var o=e[n];t._states[n]&&t._states[n]===i||(t._states[n]=i,t._triggerEvent(n,o))})),t._stateStack={}}),16)},e.prototype._triggerEvent=function(t,e){this.emit(t+\":change\",{name:t,exp:e})},e}(E.a);function Xn(t,e){if(!Object(F.isFunction)(e)){var i=e.name,n=e.exp;return Object(F.isFunction)(n)?n(t[i]):t[i]===n}return e(t)}var Gn,Vn,Wn=function(){function t(t){this.shapeContainers=[],Object(F.assign)(this,t)}return t.prototype.createStateManager=function(t){this.stateManager=new Hn(t)},t.prototype.bindStateManager=function(t,e){this.stateManager=t,e.setState&&this._updateStateProcess(e.setState),e.onStateChange&&this._stateChangeProcess(e.onStateChange)},t.prototype.defaultStates=function(t){var e=this;Object(F.each)(t,(function(t,i){var n=t.condition,o=(t.style,t.related);e.setState({type:i,condition:n,related:o})}))},t.prototype.setState=function(t){var e=this,i=t.type,n=t.condition,o=t.related;this.shapes||(this.shapes=this._getShapes(),this.originAttrs=this._getOriginAttrs()),Object(F.each)(this.shapes,(function(o,r){var a=o.get(\"origin\").data;if(Xn(Object(F.isArray)(a)?a[0]:a,n)){var s=t.style?t.style:e._getDefaultStateStyle(i,o),l=e.originAttrs[r],c=void 0;c=Object(F.isFunction)(s)?s(l):Object(F.mix)({},l,s),o.attr(c),e.setZIndex(i,o)}})),o&&this._parserRelated(i,o,n),this.plot.canvas.draw()},t.prototype._updateStateProcess=function(t){var e=this;Object(F.each)(t,(function(t){var i,n=t.state;i=Object(F.isFunction)(n)?function(t){var i=n(t);e.stateManager.setState(i.name,i.exp)}:function(){e.stateManager.setState(n.name,n.exp)},t.event?z(e.plot,e._eventParser(t.event),i):i()}))},t.prototype._stateChangeProcess=function(t){var e=this;Object(F.each)(t,(function(t){e.stateManager.on(t.name+\":change\",(function(i){t.callback(i,e.plot)}))}))},t.prototype._getShapes=function(){var t=this,e=[],i=this.plot.view.geometries;return Object(F.each)(i,(function(i){var n=i.container;t.shapeContainers.push(n),i.destroyed||e.push.apply(e,i.getShapes())})),e},t.prototype._getOriginAttrs=function(){var t=[];return Object(F.each)(this.shapes,(function(e){t.push(Object(F.clone)(e.attr()))})),t},t.prototype._eventParser=function(t){var e=t.split(\":\");return this.plot.geometryParser(\"g2\",e[0])+\":\"+e[1]},t.prototype._getDefaultStateStyle=function(t,e){var i=this.plot.theme,n=this.plot.geometryParser(\"plot\",e.name)+\"Style\";if(i[n]){var o=i[n][t];return Object(F.isFunction)(o)&&(o=o(e.attr())),o}return{}},t.prototype._parserRelated=function(t,e,i){var n=this;Object(F.each)(e,(function(e){n.plot[e]&&function(t,e){return Jn[t][e]}(e,t)(n.plot,i)}))},t.prototype.setZIndex=function(t,e){if(\"active\"===t||\"selected\"===t){var i=e.get(\"parent\").get(\"children\");i[i.length-1].setZIndex(0),e.setZIndex(1)}},t.prototype.resetZIndex=function(){Object(F.each)(this.shapeContainers,(function(t){t.get(\"children\").sort((function(t,e){return t._INDEX-e._INDEX}))}))},t}();function qn(t,e){Gn||Un(t),Object(F.each)(Gn,(function(t,i){if(Xn(t.get(\"origin\"),e)){var n=Vn[i],o=Object(F.mix)({},n,{opacity:1});t.attr(o)}}))}function Un(t){Gn=[],Vn=[];var e=t.view.get(\"elements\");Object(F.each)(e,(function(t){var e=t.get(\"labels\");e&&Object(F.each)(e,(function(t){Gn.push(t),Vn.push(t.attr())}))}))}var $n=[\"xField\",\"yField\",\"angleField\"];function Zn(t,e){var i=t.options;if(function(t,e){var i=function(t){var e=[];return Object(F.each)($n,(function(i){Object(F.has)(t,i)&&e.push(i)})),e}(t);return!Object(F.isFunction)(e)&&i.indexOf(e.name)}(i,e)){var n=i.data;Object(F.each)(n,(function(i){if(Xn(i,e)){var n=t.view.getXY(i);t.view.on(\"tooltip:create\",(function(t){Kn(e,t,!1)})),t.view.showTooltip(n)}}))}}function Kn(t,e,i){var n=!i,o=Object(F.clone)(e.items);e.items.splice(0),Object(F.each)(o,(function(i){Xn(i.point._origin,t)===n&&e.items.push(i)}))}var Qn={axis:ni,label:En,guideLine:In},Jn={tooltip:{active:Zn,selected:Zn,disable:function(t,e){t.view.on(\"tooltip:change\",(function(t){Kn(e,t,!0)}))}},label:{active:qn,selected:qn,disable:function(t,e){Gn||Un(t),Object(F.each)(Gn,(function(t,i){if(Xn(t.get(\"origin\"),e)){var n=Vn[i],o={opacity:.2*(n.opacity||1)};t.attr(o)}}))}},axis:zn};function to(t,e){return new(0,Qn[t])(e).config}var eo=[\"start\",\"process\",\"end\",\"reset\"],io=function(){function t(t){var e=this._getDefaultCfg();Object(F.assign)(this,e,t),this.canvas=this.view.canvas,this._eventHandlers=[],this._bindEvents()}return t.prototype._getDefaultCfg=function(){return{startEvent:\"mousedown\",processEvent:\"mousemove\",endEvent:\"mouseup\",resetEvent:\"dblclick\"}},t.prototype._start=function(t){this.preStart(t),this.start(t),this.afterStart(t)},t.prototype.preStart=function(t){},t.prototype.start=function(t){},t.prototype.afterStart=function(t){},t.prototype._process=function(t){this.preProcess(t),this.process(t),this.afterProcess(t)},t.prototype.preProcess=function(t){},t.prototype.process=function(t){},t.prototype.afterProcess=function(t){},t.prototype._end=function(t){this.preEnd(t),this.end(t),this.afterEnd(t)},t.prototype.preEnd=function(t){},t.prototype.end=function(t){},t.prototype.afterEnd=function(t){},t.prototype._reset=function(t){this.preReset(t),this.reset(t),this.afterReset(t)},t.prototype.preReset=function(t){},t.prototype.reset=function(t){},t.prototype.afterReset=function(t){},t.prototype._bindEvents=function(){var t=this;Object(F.each)(eo,(function(e){var i=t[e+\"Event\"],n=Object(F.wrapBehavior)(t,\"_\"+e);t.view.on(i,n),t._eventHandlers.push({type:i,handler:n})}))},t.prototype._unbindEvents=function(){var t=this,e=this._eventHandlers;Object(F.each)(e,(function(e){t.view.off(e.type,e.handler)}))},t.prototype.destroy=function(){this._unbindEvents(),this._reset()},t}(),no=function(t){function e(e,i,n,o){var r=t.call(this,e)||this;return r.viewLayer=i,r.interactionRange=n,r.interactionConfig=o,r.render(),r}return Object(P.__extends)(e,t),e.registerInteraction=function(t,i){e.GLOBAL_INTERACTION_MAP[t]=i},e.registerPlotInteraction=function(t,i,n){e.PLOT_INTERACTION_MAP[t]||(e.PLOT_INTERACTION_MAP[t]={}),e.PLOT_INTERACTION_MAP[t][i]=n},e.getInteraction=function(t,i){return i&&e.PLOT_INTERACTION_MAP[i]&&e[i][t]?e.PLOT_INTERACTION_MAP[i][t]:e.GLOBAL_INTERACTION_MAP[t]},e.getInteractionRange=function(t,e){},e.prototype.destroy=function(){this.clear(),t.prototype.destroy.call(this)},e.prototype.getViewLayer=function(){return this.viewLayer},e.prototype.getRange=function(){return this.interactionRange},e.prototype.getInteractionConfig=function(){return this.interactionConfig},e.prototype.render=function(){},e.prototype.clear=function(){},e.GLOBAL_INTERACTION_MAP={},e.PLOT_INTERACTION_MAP={},e}(io),oo=function(t,e,i,n,o){var r=n[0],a=n[1];void 0===o&&(o=!1);var s=Object(F.groupBy)(i,t),l=o?e.slice(e.length-a,e.length-r):e.slice(r,a);return Object(F.flatten)(Object(F.map)(l,(function(t){return s[t]||[]})))},ro=function(t){void 0===t&&(t={});var e=Object(P.__assign)({type:\"horizontal\",categorySize:32,width:8,height:8,padding:[0,0,0,0]},t);return t.padding||(e.padding=\"horizontal\"===e.type?[4,0,4,0]:[0,4,0,4]),e},ao=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onChangeFn=Object(F.throttle)(e.onChange.bind(e),20,{leading:!0}),e}return Object(P.__extends)(e,t),e.getInteractionRange=function(t,e){var i=ro(e),n=i.padding,o=n[0],r=n[1],a=n[2],s=n[3];return\"horizontal\"===i.type?new G(t.minX,t.maxY-i.height-o-a,t.width,i.height+o+a):new G(t.maxX-i.width-s-r,t.minY,i.width+s+r,t.height)},e.prototype.render=function(){var t=this,e=this.view;this.ratio=0,this.thumbOffset=0,e.on(\"afterrender\",(function(){var e=t.view.padding;Object(F.isEqual)([0,0,0,0],e)||(t.trackLen?t.renderScrollbar():(t.measureScrollBar(),t.changeViewData(t.getScrollRange())))}))},e.prototype.clear=function(){this.scrollbar&&(this.scrollbar.destroy(),this.scrollbar=null),this.container&&(this.container.remove(!0),this.container=null),this.trackLen=null,this.thumbLen=null},e.prototype.renderScrollbar=function(){var t=ro(this.getInteractionConfig()),e=this.getRange(),i=\"vertical\"!==t.type,n=this.view.coordinateBBox,o=t.padding,r=o[0],a=o[3],s=i?{x:n.minX+a,y:e.minY+r}:{x:e.minX+a,y:n.minY+r};this.scrollbar?(this.scrollbar.update({trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.thumbOffset,x:s.x,y:s.y}),this.scrollbar.render()):(this.container=this.canvas.addGroup(),this.scrollbar=new $e.Scrollbar({container:this.container,x:s.x,y:s.y,isHorizontal:i,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.ratio*this.trackLen}),this.scrollbar.init(),this.scrollbar.render(),this.scrollbar.get(\"group\").set(\"zIndex\",999),this.scrollbar.on(\"scrollchange\",this.onChangeFn))},e.prototype.measureScrollBar=function(){var t=ro(this.getInteractionConfig()),e=t.padding,i=e[0],n=e[1],o=e[2],r=e[3],a=\"vertical\"!==t.type,s=this.view.coordinateBBox,l=this.view.getXScale(),c=this.view.getYScales();this.cnt=l.values.length,this.xScaleCfg={field:l.field,values:l.values||[]},this.yScalesCfg=Object(F.map)(c,(function(t){return{field:t.field,type:t.type,min:t.min,max:t.max,ticks:t.ticks,formatter:t.formatter}})),this.step=Math.floor((a?s.width:s.height)/t.categorySize),this.trackLen=a?s.width-r-n:s.height-i-o,this.thumbLen=Math.max(this.trackLen*Object(F.clamp)(this.step/l.values.length,0,1),20)},e.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*Object(F.clamp)(this.ratio,0,1));return[t,Math.min(t+this.step,this.cnt)]},e.prototype.changeViewData=function(t){var e=this,i=t[0],n=t[1],o=ro(this.getInteractionConfig()),r=this.getViewLayer(),a=r.options.meta,s=r.getData(),l=oo(this.xScaleCfg.field,this.xScaleCfg.values,s,[i,n],\"vertical\"===o.type);this.yScalesCfg.forEach((function(t){var i=Object(F.get)(a,t.field)||{};e.view.scale(t.field,Object(P.__assign)(Object(P.__assign)({formatter:t.formatter},i),{type:t.type,min:t.min,max:t.max}))})),this.view.data(l),this.view.render()},e.prototype.onChange=function(t){var e=t.ratio,i=t.thumbOffset;this.ratio=e,this.thumbOffset=i;var n=this.view.getOptions().animate;this.view.animate(!1),this.changeViewData(this.getScrollRange()),this.view.animate(n)},e}(no),so=function(t){void 0===t&&(t={});var e=Object(P.__assign)({type:\"horizontal\",start:0,end:1,width:void 0,height:void 0,padding:[0,0,0,0],backgroundStyle:void 0,foregroundStyle:void 0,handlerStyle:void 0,textStyle:void 0,trendCfg:void 0},t);t.padding||(e.padding=\"horizontal\"===e.type?[4,0,4,0]:[0,4,0,4]),t.height||(e.height=16),t.width||(e.width=16);var i=Object(F.clamp)(Math.min(e.start,e.end),0,1),n=Object(F.clamp)(Math.max(e.start,e.end),0,1);return e.start=i,e.end=n,e},lo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onChangeFn=Object(F.throttle)(e.onChange.bind(e),20,{leading:!0}),e}return Object(P.__extends)(e,t),e.getInteractionRange=function(t,e){var i=so(e),n=i.padding||[0,0,0,0],o=n[0],r=n[1],a=n[2],s=n[3];return\"horizontal\"===i.type?new G(t.minX,t.maxY-i.height-o-a,t.width,i.height+o+a):new G(t.maxX-i.width-s-r,t.minY,i.width+s+r,t.height)},e.prototype.render=function(){var t=this,e=so(this.getInteractionConfig());this.curStart=e.start,this.curEnd=e.end,this.xScaleCfg=void 0,this.view.on(\"afterrender\",(function(){if(t.xScaleCfg)t.renderSlider();else{var e=t.view.getXScale();t.xScaleCfg={field:e.field,values:e.values||[]},t.view.data(t.getSliderData(t.curStart,t.curEnd)),t.view.render()}}))},e.prototype.clear=function(){this.slider&&(this.slider.destroy(),this.slider=null),this.container&&(this.container.remove(!0),this.container=null)},e.prototype.renderSlider=function(){this.slider?(this.slider.update(this.getSliderConfig()),this.slider.render()):(this.container=this.canvas.addGroup(),this.slider=new qe(Object(P.__assign)(Object(P.__assign)({},this.getSliderConfig()),{container:this.container})),this.slider.init(),this.slider.render(),this.slider.on(\"sliderchange\",this.onChangeFn))},e.prototype.getSliderConfig=function(){var t=this.view.coordinateBBox,e=this.getRange(),i=so(this.getInteractionConfig())||{},n=i.padding,o=void 0===n?[0,0,0,0]:n,r=i.backgroundStyle,a=i.foregroundStyle,s=i.handlerStyle,l=i.textStyle,c=i.trendCfg,u=void 0===c?{}:c,h=o[0],p=o[1],f=o[2],d=o[3],g=this.getSliderMinMaxText(this.curStart,this.curEnd),y=g.minText,m=g.maxText;return{x:t.minX+d,y:e.minY+h,width:t.width-d-p,height:e.height-h-f,start:this.curStart,end:this.curEnd,minText:y,maxText:m,backgroundStyle:r,foregroundStyle:a,handlerStyle:s,textStyle:l,trendCfg:Object(P.__assign)(Object(P.__assign)({isArea:!1,smooth:!1},u),{data:this.getSliderTrendData()})}},e.prototype.getSliderTrendData=function(){var t=this.getViewLayer().options,e=t.data,i=t.yField;return Object(F.map)(e,(function(t){return t[i]}))},e.prototype.getSliderData=function(t,e){var i=this.getViewLayer().getData(),n=Object(F.size)(this.xScaleCfg.values),o=Math.round(t*n),r=Math.max(o+1,Math.round(e*n));return oo(this.xScaleCfg.field,this.xScaleCfg.values,i,[o,r])},e.prototype.getSliderMinMaxText=function(t,e){var i=this.getViewLayer().options,n=i.data,o=void 0===n?[]:n,r=i.xField,a=Object(F.size)(o),s=Math.round(t*a),l=Math.max(s+1,Math.round(e*a)),c=o.slice(s,l);return{minText:Object(F.head)(c)[r],maxText:Object(F.last)(c)[r]}},e.prototype.onChange=function(t){var e=this.view,i=Object(F.clamp)(Math.min(t[0],t[1]),0,1),n=Object(F.clamp)(Math.max(t[0],t[1]),0,1),o=this.getSliderData(i,n),r=this.getSliderMinMaxText(i,n),a=r.minText,s=r.maxText;this.curStart=i,this.curEnd=n,this.slider.update({start:i,end:n,minText:a,maxText:s}),this.slider.render();var l=e.getOptions().animate;e.animate(!1),e.changeData(o),e.animate(l)},e}(no);no.registerInteraction(\"slider\",lo),no.registerInteraction(\"scrollbar\",ao);var co=no,uo=function(){function t(t){this.innerPaddingComponents=[],this.outerPaddingComponents=[],this.plot=t.plot}return t.prototype.registerPadding=function(t,e,i){void 0===e&&(e=\"outer\"),void 0===i&&(i=!1),\"inner\"===e?i&&this.innerPaddingComponents.find((function(e){return e==t}))||this.innerPaddingComponents.push(t):i&&this.outerPaddingComponents.find((function(e){return e==t}))||this.outerPaddingComponents.push(t)},t.prototype.clear=function(){this.innerPaddingComponents=[],this.outerPaddingComponents=Object(F.filter)(this.outerPaddingComponents,(function(t){return t.afterRender}))},t.prototype.clearOuterComponents=function(){Object(F.each)(this.outerPaddingComponents,(function(t){t.afterRender&&t.destroy()})),this.outerPaddingComponents=[]},t.prototype.getPadding=function(){var t=this.plot.options,e=t.padding?t.padding:this.plot.config.theme.padding;return\"auto\"===e?[0,0,0,0]:e},t.prototype.processAutoPadding=function(){var t=this._getInnerAutoPadding();this.plot.updateConfig({padding:t}),this.plot.render()},t.prototype.processOuterPadding=function(){this.plot.layerBBox||(this.plot.layerBBox=new G(this.plot.x,this.plot.y,this.plot.width,this.plot.height));var t=this.plot.layerBBox.minX,e=this.plot.layerBBox.maxX,i=this.plot.layerBBox.minY,n=this.plot.layerBBox.maxY;return Object(F.each)(this.outerPaddingComponents,(function(o){var r=o.position,a=o.getBBox(),s=a.minX,l=a.maxX,c=a.minY,u=a.maxY;u>=i&&u<=n&&\"top\"===r&&(i=u),c>=i&&c<=n&&\"bottom\"===r&&(n=c),l>t&&l<=e&&\"left\"===r&&(t=l),s>=t&&l<=e&&\"right\"===r&&(e=s)})),new G(t,i,e-t,n-i)},t.prototype._getInnerAutoPadding=function(){var t,e=this.plot.options,i=this.plot.view,n=Object(F.clone)(i.viewBBox),o=(n.minX,n.maxX),r=(n.minY,n.maxY),a=this.plot.config.theme.bleeding;Object(F.isArray)(a)&&Object(F.each)(a,(function(t,i){\"function\"===typeof a[i]&&(a[i]=a[i](e))})),this.plot.config.theme.legend.margin=a,this.bleeding=Object(F.clone)(a),t=Object(F.has)(this.plot.options,\"radius\")?[new G(0,n.minY,n.width,n.height)]:[new G(0,0,n.width,n.height)],this._getAxis(i,t);var s=this._mergeBBox(t);this._getLegend(i,t,n,this.plot.options),this._mergeBBox(t);var l=this.innerPaddingComponents;Object(F.each)(l,(function(e){var i=e.getBBox();t.push(i)}));var c=[0-(s=this._mergeBBox(t)).minY+this.bleeding[0],s.maxX-o+this.bleeding[1],s.maxY-r+this.bleeding[2],0-s.minX+this.bleeding[3]],u=this._getPanel(i,s);return c[0]+=u[0],c[1]+=u[1],c[2]+=u[2],c[3]+=u[3],c},t.prototype._getAxis=function(t,e){var i=function(t){return t.backgroundGroup.findAll((function(t){if(t.get(\"name\"))return\"axis\"===t.get(\"name\").split(\"-\")[0]}))}(t);i.length>0&&Object(F.each)(i,(function(t){var i=t.getBBox();e.push(i)}))},t.prototype._getLegend=function(t,e,i,n){var o=function(t){return t.foregroundGroup.findAll((function(t){if(t.get(\"name\"))return\"legend-item-group\"===t.get(\"name\")}))}(t)[0];if(o){var r=o.getBBox();if(n.legend){var a=n.legend.position.split(\"-\")[0];\"top\"===a?e.push(new G(r.minX,-r.height,r.width,r.height)):\"bottom\"===a?e.push(new G(r.minX,r.height+i.height,r.width,r.height)):\"left\"===a?e.push(new G(r.minX-r.width,r.minY,r.width,r.height)):e.push(new G(i.maxX,r.minY,r.width,r.height))}}},t.prototype._getPanel=function(t,e){var i=[],n=t.geometries;Object(F.each)(n,(function(t){t.labelsContainer&&i.push(t.labelsContainer)}));var o=1/0,r=-1/0,a=1/0,s=-1/0;Object(F.each)(i,(function(t){t.get(\"children\").forEach((function(t){if(\"group\"!==t.type||0!==t.get(\"children\").length){var e=t.getBBox();e.minX<o&&(o=e.minX),e.maxX>r&&(r=e.maxX),e.minY<a&&(a=e.minY),e.maxY>s&&(s=e.maxY)}}))}));var l=t.coordinateBBox,c=Math.max(r-parseFloat(l.maxX),0);c>0&&(c*=l.width/(l.width+c));var u=Math.max(parseFloat(l.minX)-o,0);u>0&&(u*=l.width/(l.width+u));var h=Math.max(parseFloat(l.minY)-a,0);h>0&&(h*=l.height/(l.height+h));var p=Math.max(s-parseFloat(l.maxY),0);p>0&&(p*=l.height/(l.height+p));return[h,c,p,u]},t.prototype._mergeBBox=function(t){var e=1/0,i=-1/0,n=1/0,o=-1/0;return Object(F.each)(t,(function(t){var r=t;e=Math.min(r.minX,e),i=Math.max(r.maxX,i),n=Math.min(r.minY,n),o=Math.max(r.maxY,o)})),{minX:e,maxX:i,minY:n,maxY:o}},t.prototype._adjustLegend=function(t,e,i){var n=t.get(\"position\").split(\"-\"),o=t.get(\"container\"),r=o.getBBox(),a=e.viewBBox,s=a.width,l=(a.height,a.maxX,a.minX,a.maxY),c=a.minY;\"right\"===n[0]&&o.move(s,c),\"left\"===n[0]&&o.move(i.minX-r.width,c),\"top\"===n[0]&&o.move(0,i.minY-r.height),\"bottom\"===n[0]&&o.move(0,Math.max(l,i.maxY))},t.prototype._getLegendInnerPadding=function(t){var e=this.plot.theme.legend.innerPadding,i=t.get(\"position\").split(\"-\");return\"top\"===i[0]?[e[0],0,0,0]:\"bottom\"===i[0]?[0,0,e[2],0]:\"left\"===i[0]?[0,0,0,e[3]]:\"right\"===i[0]?[0,e[1],0,0]:void 0},t.prototype._mergeBleeding=function(t){var e=this.bleeding;if(t.length===e.length)for(var i=0;i<t.length;i++)e[i]+=t[i]},t}(),ho=function(t){return t&&\"top\"===t.split(\"-\")[0]?12:24},po=function(t){var e=t.title&&t.title.visible,i=t.description&&t.description.visible;return e||i?12:24},fo=function(t){return Object(F.some)(t.interactions||[],(function(t){return(\"slider\"===t.type||\"scrollbar\"===t.type)&&\"vertical\"!==(t.cfg&&t.cfg.type)}))?8:24},go={width:400,height:400,bleeding:[po,24,fo,24],padding:\"auto\",defaultColor:\"#5B8FF9\",colors:[\"#5B8FF9\",\"#5AD8A6\",\"#5D7092\",\"#F6BD16\",\"#E8684A\",\"#6DC8EC\",\"#9270CA\",\"#FF9D4D\",\"#269A99\",\"#FF99C3\"],colors_20:[\"#5B8FF9\",\"#BDD2FD\",\"#5AD8A6\",\"#BDEFDB\",\"#5D7092\",\"#C2C8D5\",\"#F6BD16\",\"#FBE5A2\",\"#E8684A\",\"#F6C3B7\",\"#6DC8EC\",\"#B6E3F5\",\"#9270CA\",\"#D3C6EA\",\"#FF9D4D\",\"#FFD8B8\",\"#269A99\",\"#AAD8D8\",\"#FF99C3\",\"#FFD6E7\"],title:{padding:[24,24,24,24],fontFamily:\"PingFang SC\",fontSize:18,fill:\"black\",textAlign:\"left\",textBaseline:\"top\",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,ho,24],fontFamily:\"PingFang SC\",fontSize:12,fill:\"grey\",textAlign:\"left\",textBaseline:\"top\",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:\"left\",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:\"rgba(0, 0, 0, 0.15)\",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:\"rgba(0, 0, 0, 0.45)\",lineWidth:1}},tickLine:{visible:!1,style:{stroke:\"rgba(0,0,0,0.45)\",lineWidth:.5,length:4}},label:{visible:!0,offset:8,textStyle:{fill:\"rgba(0,0,0,0.45)\",fontSize:12},autoRotate:!1,autoHide:!0},title:{visible:!1,offset:12,style:{fill:\"rgba(0, 0, 0, 0.65)\",fontSize:12,textBaseline:\"bottom\"}}},x:{visible:!0,position:\"bottom\",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:\"rgba(0, 0, 0, 0.15)\",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:\"rgba(0, 0, 0, 0.45)\",lineWidth:1}},tickLine:{visible:!0,style:{length:4,stroke:\"rgba(0, 0, 0, 0.45)\",lineWidth:.5}},label:{visible:!0,textStyle:{fill:\"rgba(0,0,0,0.45)\",fontSize:12},offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1,offset:12,style:{fill:\"rgba(0, 0, 0, 0.65)\",fontSize:12}}},circle:{autoHideLabel:!1,grid:{line:{style:{lineDash:null,lineWidth:1,stroke:\"rgba(0, 0, 0, 0.15)\"}}},line:{style:{lineWidth:1,stroke:\"rgba(0, 0, 0, 0.45)\"}},tickLine:{style:{lineWidth:1,stroke:\"rgba(0, 0, 0, 0.45)\",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:\"rgba(0,0,0,0.45)\",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:\"rgba(0, 0, 0, 0.65)\",fontSize:12}}},radius:{label:{textStyle:{fill:\"rgba(0,0,0,0.45)\",fontSize:12}}}},legend:{flipPage:!1,position:\"bottom\",innerPadding:[16,16,16,16],margin:[0,24,24,24]},label:{offset:12,textStyle:{fill:\"#595959\"},style:{fill:\"#595959\",stroke:\"#ffffff\",lineWidth:2}},tooltip:{\"g2-tooltip\":{boxShadow:\"0px 0px 8px rgba(0,0,0,0.15)\"},offset:10}},yo={default:go,dark:{backgroundStyle:{fill:\"#262626\"},defaultColor:\"#5B8FF9\",width:400,height:400,bleeding:[po,24,fo,24],padding:\"auto\",title:{padding:[24,24,24,24],fontFamily:\"PingFang SC\",fontSize:18,fontWeight:\"bold\",fill:\"rgba(255,255,255,0.65)\",stroke:\"rgba(0,0,0,0.95)\",textAlign:\"left\",textBaseline:\"top\",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,ho,24],fontFamily:\"PingFang SC\",fontSize:12,fill:\"rgba(255, 255, 255, 0.65)\",stroke:\"rgba(0,0,0,0.95)\",textAlign:\"left\",textBaseline:\"top\",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:\"left\",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:\"rgba(255, 255, 255, 0.15)\",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:\"rgba(255, 255, 255, 0.45)\",lineWidth:1}},tickLine:{visible:!1,style:{stroke:\"rgba(255, 255, 255, 0.45)\",lineWidth:.5,length:4}},label:{visible:!0,offset:8,autoRotate:!1,autoHide:!0,textStyle:{fill:\"rgba(255, 255, 255, 0.45)\",fontSize:12}},title:{visible:!1,offset:12,style:{fill:\"rgba(255, 255, 255, 0.65)\",fontSize:12,textBaseline:\"bottom\"}}},x:{visible:!0,position:\"bottom\",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:\"rgba(255, 255, 255, 0.15)\",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:\"rgba(255, 255, 255, 0.45)\"}},tickLine:{visible:!0,style:{length:4,stroke:\"rgba(255, 255, 255, 0.45)\",lineWidth:.5}},label:{visible:!0,textStyle:{fill:\"rgba(255, 255, 255, 0.65)\",fontSize:12},offset:16,autoHide:!0,autoRotate:!0},title:{visible:!1,offset:12,style:{fill:\"rgba(255, 255, 255, 0.65)\",fontSize:12}}},circle:{autoRotateTitle:!0,grid:{style:{lineDash:null,lineWidth:1,stroke:\"#E3E8EC\"}},line:{style:{lineWidth:1,stroke:\"#BFBFBF\"}},tickLine:{style:{lineWidth:1,stroke:\"#bdc8d3\",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:\"#a0a4aa\",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:\"#767b84\",fontSize:12}}},radius:{label:{offset:12,textStyle:{fill:\"#a0a4aa\",fontSize:12}}}},legend:{flipPage:!1,position:\"bottom\",innerPadding:[16,16,16,16]},label:{offset:12,textStyle:{fill:\"rgba(255, 255, 255, 0.65)\"},style:{fill:\"rgba(255, 255, 255, 0.65)\",lineWidth:1}},components:{tooltip:{domStyles:{\"g2-tooltip\":{backgroundColor:\"rgba(33,33,33, 0.95)\",boxShadow:\"0px 0px 8px rgba(0,0,0,0.65)\",color:\"rgba(255, 255, 255, 0.65)\"}}}}}};function mo(t,e){var i=vo();yo[t.toLowerCase()]=Object(F.deepMix)({},i,e)}function vo(t){void 0===t&&(t=\"default\");var e=yo[t.toLowerCase()];return e||(console.warn(\"error in theme: Can't find the theme named %s. Please register theme first.\",t),go)}var bo={};function xo(t,e){bo[t.toLowerCase()]=function(t,e){var i={lineStyle:\"line.line\",columnStyle:\"interval.rect\",pointStyle:\"point.circle\"},n={};\"area\"===t&&(i={areaStyle:\"area.area\",lineStyle:\"area.line\",pointStyle:\"point.circle\"});var o={};return Object(F.each)(e,(function(t,e){if(Object(F.has)(i,e)){var r=i[e];Object(F.each)(t,(function(t,e){Object(F.set)(o,r+\".\"+[\"normal\"===e?\"default\":e]+\".style\",t)}))}else Object(F.set)(n,e,t)})),Object(F.isEmpty)(o)||Object(F.set)(n,\"geometries\",o),n}(t,e)}function Oo(t){return bo[t.toLowerCase()]||{}}var jo={axis:{x:{category:{constraints:[{name:\"elementDist\"}],rules:{elementDist:[{name:\"textWrapper\",option:{lineNumber:2}},{name:\"textRotation\",option:{degree:45}},{name:\"textRotation\",option:{degree:90}},{name:\"textAbbreviate\",option:{abbreviateBy:\"end\"}},{name:\"textHide\"}]}},linear:{constraints:[{name:\"elementDist\"}],rules:{elementDist:[{name:\"nodesResampling\",option:{keep:[\"end\"]}},{name:\"textRotation\",option:{degree:45}},{name:\"textRotation\",option:{degree:90}},{name:\"robustAbbrevaite\",option:{unit:\"thousand\",decimal:1,abbreviateBy:\"end\"}},{name:\"textHide\"}]}},dateTime:{constraints:[{name:\"elementDist\"}],rules:{elementDist:[{name:\"datetimeStringAbbrevaite\"},{name:\"nodesResamplingByAbbrevate\",option:{keep:[\"end\"]}},{name:\"textRotation\",option:{degree:45}},{name:\"textRotation\",option:{degree:90}},{name:\"nodesResampling\"},{name:\"nodesResampling\"},{name:\"textHide\"}]}}},y:{linear:{constraints:[{name:\"elementDistVertical\"},{name:\"elementWidth\"}],rules:{elementDistVertical:[{name:\"nodesResampling\"},{name:\"textHide\"}],elementWidth:[{name:\"digitsAbbreviate\"},{name:\"textHide\"}]}},category:{constraints:[{name:\"elementDistVertical\"},{name:\"elementWidth\"}],rules:{elementDistVertical:[{name:\"nodesResampling\"},{name:\"textHide\"}],elementWidth:[{name:\"textAbbreviate\",option:{abbreviateBy:\"end\"}},{name:\"textHide\"}]}}}}},Mo={default:jo};function wo(t,e){Mo[t.toLowerCase()]=Object(F.deepMix)({},jo,e)}function _o(t){var e=Mo[t.toLowerCase()];return e||jo}var Co=Object(U.getTheme)(),So=function(){function t(){}return t.getGlobalTheme=function(t){return Object(F.isString)(t)?vo(t):Object(F.deepMix)({},vo(),t)},t.prototype.getPlotTheme=function(t,e){var i=t.theme;return Object(F.isString)(i)?Object(F.deepMix)({},vo(i),Oo(e)):Object(F.deepMix)({},vo(),Oo(e),i)},t.prototype.getTheme=function(t,e){var i=function(t){var e=Object(F.clone)(t);return e.legend||(e.legend={}),e}(this.getPlotTheme(t,e));return Object(F.deepMix)({},Co,i)},t.prototype.getResponsiveTheme=function(t){return _o(t)||_o(\"default\")},t}(),ko=function(t){function e(e){var i=t.call(this,e)||this;return i.interactions=[],i.options=i.getOptions(e),i.initialOptions=Object(F.deepMix)({},i.options),i.paddingController=new uo({plot:i}),i.stateController=new Wn({plot:i}),i.themeController=new So,i}return Object(P.__extends)(e,t),e.getDefaultOptions=function(t){return{renderer:\"canvas\",title:{visible:!1,alignTo:\"left\",text:\"\"},description:{visible:!1,text:\"\",alignTo:\"left\"},padding:\"auto\",legend:{visible:!0,position:\"bottom\"},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:\"x\"},offset:20},xAxis:{visible:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,offset:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,offset:12}},label:{visible:!1},interactions:[{type:\"tooltip\"},{type:\"legend-active\"},{type:\"legend-filter\"}]}},e.prototype.getOptions=function(e){var i=t.prototype.getOptions.call(this,e),n=this.constructor.getDefaultOptions(e),o=Object(F.reduce)(Object(F.flatten)(Object(F.map)([i,n,e],(function(t){return Object(F.get)(t,\"interactions\",[])}))),(function(t,e){var i=Object(F.findIndex)(t,(function(t){return t.type===e.type}));return i>=0&&t.splice(i,1),Object(P.__spreadArrays)(t,[e])}),[]);return Object(F.deepMix)({},i,n,e,{interactions:o})},e.prototype.beforeInit=function(){t.prototype.beforeInit.call(this)},e.prototype.init=function(){var e=this;t.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.config={data:this.processData(this.options.data),scales:{},legends:{},tooltip:{showTitle:!0},axes:{},coordinate:{type:\"cartesian\"},geometries:[],annotations:[],interactions:[],theme:this.theme,panelRange:{},animate:!0,views:[]},this.paddingController.clear(),this.drawTitle(),this.drawDescription(),this.interaction(),this.coord(),this.scale(),this.axis(),this.tooltip(),this.legend(),this.addGeometry(),this.annotation(),this.animation(),this.viewRange=this.getViewRange();var i=this.viewRangeToRegion(this.viewRange);this.view=new U.View({parent:null,canvas:this.canvas,backgroundGroup:this.container.addGroup(),middleGroup:this.container.addGroup(),foregroundGroup:this.container.addGroup(),padding:this.paddingController.getPadding(),theme:this.theme,options:this.config,region:i}),this.applyInteractions(),this.view.on(\"afterrender\",(function(){e.afterRender()}))},e.prototype.afterInit=function(){t.prototype.afterInit.call(this),this.view&&!this.view.destroyed&&\"auto\"!==this.options.padding&&this.parseEvents()},e.prototype.afterRender=function(){if(this.view&&!this.view.destroyed){var t=this.options,e=t.padding?t.padding:this.config.theme.padding;t.defaultState&&\"auto\"!==e&&this.stateController.defaultStates(t.defaultState),\"auto\"===e&&this.paddingController.processAutoPadding()}},e.prototype.render=function(){t.prototype.render.call(this);var e=this.options.data;Object(F.isEmpty)(e)||this.view.render()},e.prototype.destroy=function(){this.doDestroy(),t.prototype.destroy.call(this)},e.prototype.updateConfig=function(t){this.doDestroy(),!t.padding&&this.initialOptions.padding&&\"auto\"===this.initialOptions.padding&&(t.padding=\"auto\"),this.options=Object(F.deepMix)({},this.options,t),this.processOptions(this.options)},e.prototype.changeData=function(t){this.options.data=this.processData(t),this.view.changeData(this.options.data)},e.prototype.getPlot=function(){return this.view},e.prototype.getTheme=function(){return this.theme?this.theme:this.themeController.getTheme(this.options,this.type)},e.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme(this.type)},e.prototype.getPlotTheme=function(){return this.themeController.getPlotTheme(this.options,this.type)},e.prototype.getInteractions=function(){return this.interactions},e.prototype.bindStateManager=function(t,e){this.stateController.bindStateManager(t,e)},e.prototype.setActive=function(t,e){this.stateController.setState({type:\"active\",condition:t,style:e})},e.prototype.setSelected=function(t,e){this.stateController.setState({type:\"selected\",condition:t,style:e})},e.prototype.setDisable=function(t,e){this.stateController.setState({type:\"disable\",condition:t,style:e})},e.prototype.setDefault=function(t,e){this.stateController.setState({type:\"default\",condition:t,style:e})},e.prototype.getData=function(t,e){return this.processData((this.options.data||[]).slice(t,e))},e.prototype.processData=function(t){return t},e.prototype.scale=function(){var t=Object(F.mapValues)(this.config.scales,(function(t){var e=t.type;return e?{type:e}:{}})),e=Object(F.deepMix)({},this.config.scales,this.options.meta||{},t);this.setConfig(\"scales\",e)},e.prototype.axis=function(){var t=to(\"axis\",{plot:this,dim:\"x\"}),e=to(\"axis\",{plot:this,dim:\"y\"}),i={};i[this.options.xField]=t,i[this.options.yField]=e,this.setConfig(\"axes\",i)},e.prototype.tooltip=function(){!1!==this.options.tooltip.visible?(this.setConfig(\"tooltip\",Object(F.deepMix)({},Object(F.get)(this.options,\"tooltip\"))),Object(F.deepMix)(this.config.theme.tooltip,this.options.tooltip.style)):this.setConfig(\"tooltip\",!1)},e.prototype.getLegendPosition=function(t){var e=t.split(\"-\");return e&&e.length>1&&\"center\"===e[1]?e[0]:t},e.prototype.legend=function(){if(!1!==this.options.legend.visible){var t=Object(F.get)(this.options,\"legend.flipPage\"),e=Object(F.get)(this.options,\"legend.clickable\");this.setConfig(\"legends\",{position:this.getLegendPosition(Object(F.get)(this.options,\"legend.position\")),formatter:Object(F.get)(this.options,\"legend.formatter\"),offsetX:Object(F.get)(this.options,\"legend.offsetX\"),offsetY:Object(F.get)(this.options,\"legend.offsetY\"),clickable:!!Object(F.isUndefined)(e)||e,flipPage:t,marker:Object(F.get)(this.options,\"legend.marker\")})}else this.setConfig(\"legends\",!1)},e.prototype.annotation=function(){var t=this,e=[];\"cartesian\"===this.config.coordinate.type&&this.options.guideLine&&Object(F.each)(this.options.guideLine,(function(i){var n=to(\"guideLine\",{plot:t,cfg:i});e.push(n)})),this.setConfig(\"annotations\",e)},e.prototype.interaction=function(){var t=this,e=this.options.interactions,i=void 0===e?[]:e;Object(F.each)(i,(function(e){var i=e.type;if(\"slider\"===i||\"scrollbar\"===i){t.options.xAxis=Object(F.deepMix)({},t.options.xAxis,{label:{autoHide:!0,autoRotate:!1}})}t.setConfig(\"interaction\",e)}))},e.prototype.animation=function(){!1!==this.options.animation&&\"auto\"!==this.options.padding||this.setConfig(\"animate\",!1)},e.prototype.applyInteractions=function(){var t=this,e=this.options.interactions,i=void 0===e?[]:e;this.interactions&&this.interactions.forEach((function(t){t.destroy()})),this.interactions=[],i.forEach((function(e){var i=co.getInteraction(e.type,t.type);if(i){var n=new i({view:t.view},t,i.getInteractionRange(t.layerBBox,e.cfg),e.cfg);t.interactions.push(n)}}))},e.prototype.setConfig=function(t,e){\"geometry\"!==t?\"interaction\"!==t?!1!==e?Object(F.assign)(this.config[t],e):this.config[t]=!1:this.config.interactions.push(e):this.config.geometries.push(e)},e.prototype.parseEvents=function(e){var i=this,n=this.options;if(n.events){t.prototype.parseEvents.call(this,n.events);var o=e?e.EVENT_MAP:R;Object(F.each)(n.events,(function(t,e){if(Object(F.isFunction)(t)){var n=o[e]||e;z(i,n,t)}}))}},e.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),Ze(t.title)){var i=this.width,n=this.config.theme,o=new Qe({leftMargin:e.minX+n.title.padding[3],rightMargin:e.maxX-n.title.padding[1],topMargin:e.minY+n.title.padding[0],text:t.title.text,style:Object(F.mix)(n.title,t.title.style),wrapperWidth:i-n.title.padding[3]-n.title.padding[1],container:this.container.addGroup(),theme:n,index:Ze(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:\"title\"});this.title=o,this.paddingController.registerPadding(o,\"outer\")}},e.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),Ze(t.description)){var i=this.width,n=this.config.theme,o=0;if(this.title){var r=this.title.getBBox();o+=r.minY+r.height,o+=n.description.padding[0]}else o+=e.minY+n.title.padding[0];var a=new Qe({leftMargin:e.minX+n.description.padding[3],topMargin:o,rightMargin:e.maxX-n.title.padding[1],text:t.description.text,style:Object(F.mix)(n.description,t.description.style),wrapperWidth:i-n.description.padding[3]-n.description.padding[1],container:this.container.addGroup(),theme:n,index:1,plot:this,alignTo:t.description.alignTo,name:\"description\"});this.description=a,this.paddingController.registerPadding(a,\"outer\")}},e.prototype.doDestroy=function(){this.doDestroyInteractions(),this.view.destroyed||this.view.destroy()},e.prototype.doDestroyInteractions=function(){this.interactions&&this.interactions.forEach((function(t){t.destroy()})),this.interactions=[]},e.prototype.getViewRange=function(){var t=this,e=this.options.interactions,i=void 0===e?[]:e,n=this.layerBBox;return i.forEach((function(e){var i=co.getInteraction(e.type,t.type),o=i&&i.getInteractionRange(n,e.cfg),r=\"\";o&&(o.maxY===n.maxY&&o.minY>n.minY?r=\"bottom\":o.maxX===n.maxX&&o.minX>n.minX?r=\"right\":o.minX===n.minX&&o.maxX>n.maxX?r=\"left\":o.minY===n.minY&&o.maxY>n.maxY&&(r=\"top\"),t.paddingController.registerPadding({getBBox:function(){return o},position:r},\"outer\"))})),this.paddingController.processOuterPadding()},e.prototype.viewRangeToRegion=function(t){var e=this.width,i=this.height,n={x:0,y:0},o={x:1,y:1};return n.x=t.minX/e,n.y=t.minY/i,o.x=t.maxX/e,o.y=t.maxY/i,{start:n,end:o}},e}(V),Ao=i(\"bdgK\"),Lo=function(){function t(t){var e=this;this.onResize=Object(F.debounce)((function(){if(!e.plot.destroyed){var t=e.getCanvasSize(),i=t.width,n=t.height;e.width!==i&&(e.width=i,e.height=n,e.plot.updateConfig({width:i,height:n}),e.plot.render())}}),300);var i=t.containerDOM,n=t.plot;this.containerDOM=i,this.plot=n,this.init()}return t.prototype.getCanvasSize=function(){var t=vo(),e=this.plot.width?this.plot.width:t.width,i=this.plot.height?this.plot.height:t.height;return this.plot.forceFit&&(e=this.containerDOM.offsetWidth?this.containerDOM.offsetWidth:e,i=this.containerDOM.offsetHeight?this.containerDOM.offsetHeight:i),{width:e,height:i}},t.prototype.getCanvasDOM=function(){return this.canvas.get(\"container\")},t.prototype.updateCanvasSize=function(){var t=this.getCanvasSize(),e=t.width,i=t.height;this.width=e,this.height=i,this.canvas.changeSize(e,i)},t.prototype.updateCanvasTheme=function(){var t=this.plot.theme,e=So.getGlobalTheme(t),i=Object(F.get)(e,\"backgroundStyle.fill\");i&&this.updateCanvasStyle({backgroundColor:i})},t.prototype.updateCanvasStyle=function(t){Object(Kt.modifyCSS)(this.getCanvasDOM(),t)},t.prototype.destroy=function(){this.resizeObserver&&(this.resizeObserver.unobserve(this.containerDOM),this.resizeObserver.disconnect(),this.containerDOM=null),this.canvas.destroy()},t.prototype.bindForceFit=function(){this.plot.forceFit&&(this.resizeObserver=new Ao.default(this.onResize),this.resizeObserver.observe(this.containerDOM))},t.prototype.init=function(){this.initGCanvas(),this.bindForceFit()},t.prototype.initGCanvas=function(){var t=this.plot,e=t.renderer,i=void 0===e?\"canvas\":e,n=t.pixelRatio,o=this.getCanvasSize(),r=o.width,a=o.height,s=\"canvas\"===i?W.Canvas:q.Canvas;this.canvas=new s({container:this.containerDOM,width:r,height:a,pixelRatio:n}),this.width=r,this.height=a,this.updateCanvasTheme()},t}();var Bo=function(){function t(t){this.plot=t.plot,this.canvas=t.canvas,this.pixelRatio=this.canvas.get(\"pixelRatio\"),this.eventHandlers=[]}return t.prototype.bindEvents=function(){this.addEvent(this.canvas,\"mousedown\",Object(F.wrapBehavior)(this,\"onEvents\")),this.addEvent(this.canvas,\"mousemove\",Object(F.wrapBehavior)(this,\"onMove\")),this.addEvent(this.canvas,\"mouseup\",Object(F.wrapBehavior)(this,\"onEvents\")),this.addEvent(this.canvas,\"click\",Object(F.wrapBehavior)(this,\"onEvents\")),this.addEvent(this.canvas,\"dblclick\",Object(F.wrapBehavior)(this,\"onEvents\")),this.addEvent(this.canvas,\"contextmenu\",Object(F.wrapBehavior)(this,\"onEvents\")),this.addEvent(this.canvas,\"wheel\",Object(F.wrapBehavior)(this,\"onEvents\"))},t.prototype.clearEvents=function(){var t=this.eventHandlers;Object(F.each)(t,(function(t){t.target.off(t.type,t.handler)}))},t.prototype.addEvent=function(t,e,i){t.on(e,i),this.eventHandlers.push({target:t,type:e,handler:i})},t.prototype.onEvents=function(t){var e=this.getEventObj(t),i=t.target;!this.isShapeInView(i)&&i.name&&this.plot.emit(i.name+\":\"+t.type,t),this.plot.emit(\"\"+t.type,e);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,e,t.type)},t.prototype.onMove=function(t){var e,i,n=t.target,o=this.getEventObj(t);!this.isShapeInView(n)&&n.name&&(this.plot.emit(n.name+\":\"+t.type,o),!this.lastShape||(e=n,i=this.lastShape,e&&i&&e===i)||(this.lastShape&&this.plot.emit(this.lastShape.name+\":mouseleave\",o),this.plot.emit(n.name+\":mouseenter\",o)),this.lastShape=n),this.plot.emit(\"mousemove\",o);var r=this.plot.getLayers();r.length>0&&this.onLayerEvent(r,o,\"mousemove\")},t.prototype.isShapeInView=function(t){for(var e=[\"frontgroundGroup\",\"backgroundGroup\",\"panelGroup\"],i=t.get(\"parent\");i;){var n=i.get(\"name\");if(n&&Object(F.contains)(e,n))return!0;i=i.get(\"parent\")}return!1},t.prototype.getEventObj=function(t){return{x:t.x/this.pixelRatio,y:t.y/this.pixelRatio,target:t.target,event:t.event}},t.prototype.onLayerEvent=function(t,e,i){var n=this;Object(F.each)(t,(function(t){var o=t.getGlobalBBox();if(function(t,e){return t.x>=e.minX&&t.x<=e.maxX&&t.y>=e.minY&&t.y<=e.maxY}({x:e.x,y:e.y},o)){t.emit(\"\"+i,e);var r=t.layers;r.length>0&&n.onLayerEvent(r,e,i)}}))},t}(),Do={};function To(t,e){Do[t.toLowerCase()]=e}function Po(t){return Do[t.toLowerCase()]}var Io=function(t){function e(e,i){var n=t.call(this)||this;return n.containerDOM=\"string\"===typeof e?document.getElementById(e):e,n.forceFit=Object(F.isNil)(i.forceFit)?Object(F.isNil)(i.width)&&Object(F.isNil)(i.height):i.forceFit,n.renderer=i.renderer||\"canvas\",n.pixelRatio=i.pixelRatio||null,n.width=i.width,n.height=i.height,n.theme=i.theme,n.canvasController=new Lo({containerDOM:n.containerDOM,plot:n}),n.width=n.canvasController.width,n.height=n.canvasController.height,n.canvas=n.canvasController.canvas,n.layers=[],n.destroyed=!1,n.createLayers(i),n.eventController=new Bo({plot:n,canvas:n.canvasController.canvas}),n.eventController.bindEvents(),n.parseEvents(i),n}return Object(P.__extends)(e,t),e.prototype.destroy=function(){this.eachLayer((function(t){t.destroy()})),this.canvasController.destroy(),this.eventController.clearEvents(),this.layers=[],this.destroyed=!0},e.prototype.repaint=function(){this.canvasController.canvas.draw()},e.prototype.updateConfig=function(t,e){if(void 0===e&&(e=!1),e)this.eachLayer((function(e){e instanceof ko&&e.updateConfig(t)}));else{var i=this.layers[0];i instanceof V&&i.updateConfig(t)}t.width&&(this.width=t.width),t.height&&(this.height=t.height),t.theme&&(this.theme=t.theme),this.canvasController.updateCanvasSize(),this.canvasController.updateCanvasTheme()},e.prototype.changeData=function(t,e){if(void 0===e&&(e=!1),e)this.eachLayer((function(e){e instanceof ko&&e.changeData(t)}));else{var i=this.layers[0];i instanceof ko&&i.changeData(t)}},e.prototype.getPlotTheme=function(){return this.layers[0].getPlotTheme()},e.prototype.getData=function(){return this.layers[0].getData()},e.prototype.bindStateManager=function(t,e){this.eachLayer((function(i){i instanceof ko&&i.bindStateManager(t,e)}))},e.prototype.setActive=function(t,e){this.eachLayer((function(i){i instanceof ko&&i.setActive(t,e)}))},e.prototype.setSelected=function(t,e){this.eachLayer((function(i){i instanceof ko&&i.setSelected(t,e)}))},e.prototype.setDisable=function(t,e){this.eachLayer((function(i){i instanceof ko&&i.setDisable(t,e)}))},e.prototype.setDefault=function(t,e){this.eachLayer((function(i){i instanceof ko&&i.setDefault(t,e)}))},e.prototype.getView=function(){return this.layers[0].view},e.prototype.getLayer=function(t){return void 0===t&&(t=0),this.layers[t]},e.prototype.getCanvas=function(){return this.canvasController.canvas},e.prototype.getLayers=function(){return this.layers},e.prototype.render=function(){this.eachLayer((function(t){return t.render()}))},e.prototype.eachLayer=function(t){Object(F.each)(this.layers,t)},e.prototype.addLayer=function(t){Object(F.findIndex)(this.layers,(function(e){return e===t}))<0&&this.layers.push(t)},e.prototype.createLayers=function(t){if(t.layers);else if(t.type){var e=new(Po(t.type))(Object(F.deepMix)({},t,{canvas:this.canvasController.canvas,x:0,y:0,width:this.width,height:this.height}));this.addLayer(e)}},e.prototype.parseEvents=function(t){var e=this,i=Object(F.keys)(Y);t.events&&Object(F.each)(t.events,(function(t,n){if(Object(F.contains)(i,n)&&Object(F.isFunction)(t)){var o=Y[n]||n,r=t;e.on(o,r)}}))},e}(E.a),Eo=function(){function t(t){Object(F.assign)(this,t),this.init()}return t.prototype.init=function(){this.config={type:this.type,position:{fields:this.positionFields}}},t}(),Fo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.init=function(){var t=this.plot.options;this.config={type:\"area\",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls||!1},t.smooth&&(this.config.shape={values:[\"smooth\"]}),(this._getColorMappingField()||t.color)&&this.parseColor(),(t.areaStyle||t.area&&t.area.style)&&this.parseStyle()},e.prototype.parseColor=function(){var t=this.plot.options,e={},i=this._getColorMappingField();if(i&&(e.fields=i),Object(F.has)(t,\"color\")){var n=t.color;Object(F.isString)(n)?e.values=[n]:Object(F.isFunction)(n)?e.callback=n:e.values=n}this.config.color=e},e.prototype.parseStyle=function(){var t=this.plot.options,e=t.areaStyle?t.areaStyle:t.area.style,i={};Object(F.isFunction)(e)&&t.seriesField?(i.fields=[t.seriesField],i.callback=e):i.cfg=e,this.config.style=i},e.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=0,i=[\"stackField\",\"seriesField\"];e<i.length;e++){var n=i[e];if(Object(F.get)(t,n))return[t[n]]}},e}(Eo),Ro=tt.vec2;var Yo=function(t,e,i,n){var o,r,a,s,l=[],c=!!n;if(c){a=[1/0,1/0],s=[-1/0,-1/0];for(var u=0,h=t.length;u<h;u++){var p=t[u];a=Ro.min([],a,p),s=Ro.max([],s,p)}a=Ro.min([],a,n[0]),s=Ro.max([],s,n[1])}u=0;for(var f=t.length;u<f;u++){p=t[u];if(i)o=t[u?u-1:f-1],r=t[(u+1)%f];else{if(0===u||u===f-1){l.push(p);continue}o=t[u-1],r=t[u+1]}var d=[];d=Ro.sub(d,r,o),d=Ro.scale(d,d,e);var g=Ro.distance(p,o),y=Ro.distance(p,r),m=g+y;0!==m&&(g/=m,y/=m);var v=Ro.scale([],d,-g),b=Ro.scale([],d,y),x=Ro.add([],p,v),O=Ro.add([],p,b);c&&(x=Ro.max([],x,a),x=Ro.min([],x,s),O=Ro.max([],O,a),O=Ro.min([],O,s)),l.push(x),l.push(O)}return i&&l.push(l.shift()),l};function No(t,e,i){var n=[],o=t[0],r=null;if(t.length<=2)return function(t,e){return function(t,e){var i=[];if(t.length){for(var n=0,o=t.length;n<o;n+=1){var r=t[n],a=0===n?\"M\":\"L\";i.push([a,r.x,r.y])}e&&i.push([\"Z\"])}return i}(t,e)}(t,e);Object(F.each)(t,(function(t){r&&r.x===t.x&&r.y===t.y||(n.push(t.x),n.push(t.y),r=t)}));var a=function(t,e,i){for(var n=!!e,o=[],r=0,a=t.length;r<a;r+=2)o.push([t[r],t[r+1]]);var s,l,c,u=Yo(o,.4,n,i),h=o.length,p=[];for(r=0;r<h-1;r++)s=u[2*r],l=u[2*r+1],c=o[r+1],p.push([\"C\",s[0],s[1],l[0],l[1],c[0],c[1]]);return n&&(s=u[h],l=u[h+1],c=o[0],p.push([\"C\",s[0],s[1],l[0],l[1],c[0],c[1]])),p}(n,e,i||[[0,0],[1,1]]);return a.unshift([\"M\",o.x,o.y]),a}function zo(t,e,i){var n=[],o=[];Object(F.each)(t.points,(function(t){n.push(t[1]),o.push(t[0])})),o=e.parsePoints(o.reverse()),n=Ln(e.parsePoints(n));var r=i?No(n,!1,[[0,0],[1,1]]):Ho(n),a=Ho(o);return a[0][0]=\"L\",r.concat(a)}function Ho(t){for(var e=[],i=0;i<t.length;i++){var n=t[i],o=0===i?\"M\":\"L\";e.push([o,n.x,n.y])}return e}function Xo(t){return\"l(90) 0:\"+t+\" 1:#ffffff\"}Object(U.registerShape)(\"area\",\"miniArea\",{draw:function(t,e){var i=t.style?t.style.opacity:null,n=zo(t,this,!1),o=Object(F.deepMix)({},{lineJoin:\"round\",lineCap:\"round\"},t.style);return e.addShape(\"path\",{attrs:{path:n,fill:Xo(t.color||vo().defaultColor),opacity:i||.4},style:o})}}),Object(U.registerShape)(\"area\",\"miniAreaSmooth\",{draw:function(t,e){var i=t.style?t.style.opacity:null,n=zo(t,this,!0);return e.addShape(\"path\",{attrs:{path:n,fill:Xo(t.color||vo().defaultColor),opacity:i||.5}})}});var Go={main:Fo,mini:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.parseShape()},e.prototype.parseShape=function(){this.plot.options.smooth?this.config.shape={values:[\"miniAreaSmooth\"]}:this.config.shape={values:[\"miniArea\"]}},e}(Fo)},Vo=[\"colorField\",\"stackField\",\"groupField\"],Wo={main:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.init=function(){this.type=\"interval\",t.prototype.init.call(this);var e=this.plot.options;this._needParserColor()&&this.parseColor(),this.config.color||(this.config.color={values:[\"#5b8ff9\"]});var i=this._getSizeProps(e);i&&this.parseSize(i);var n=this._getStyleProps(e);n&&this.parseStyle(n)},e.prototype.parseColor=function(){var t=this.plot.options,e=this._getColorMappingField(t),i={};e&&(i.fields=e),t.color&&(Object(F.isString)(t.color)?i.values=[t.color]:Object(F.isFunction)(t.color)?i.callback=t.color:Object(F.isArray)(t.color)?i.values=t.color:Object(F.isObject)(t.color)&&(i.fields=e,i.callback=function(e){return t.color[e]})),this.config.color=i},e.prototype.parseSize=function(t){var e=this.plot.options,i={};Object(F.isFunction)(e[t])?(i.fields=[this.config.position.fields],i.callback=e[t]):i.values=[e[t]],this.config.size=i},e.prototype.parseStyle=function(t){var e=this.plot.options[t],i={};Object(F.isFunction)(e)?(i.fields=[this.config.color.fields[0]],i.callback=e):i.cfg=e,this.config.style=i},e.prototype._getSizeProps=function(t){for(var e=0,i=[\"columnSize\",\"barSize\"];e<i.length;e++){var n=i[e];if(Object(F.get)(t,n))return n}},e.prototype._getStyleProps=function(t){for(var e=0,i=[\"columnStyle\",\"barStyle\",\"pieStyle\",\"ringStyle\"];e<i.length;e++){var n=i[e];if(Object(F.get)(t,n))return n}},e.prototype._getColorMappingField=function(t){for(var e=0,i=Vo;e<i.length;e++){var n=i[e];if(Object(F.get)(t,n))return[t[n]]}},e.prototype._needParserColor=function(){var t=this.plot.options;if(t.color)return!0;for(var e=0,i=Vo;e<i.length;e++){if(t[i[e]])return!0}return!1},e}(Eo)},qo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.init=function(){var t=this.plot.options;this.config={type:\"line\",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls},t.lineSize&&this.parseSize(),t.smooth&&(this.config.shape={values:[\"smooth\"]}),t.step&&(this.config.shape={values:[t.step]}),(t.seriesField||t.color)&&this.parseColor(),t.lineStyle&&this.parseStyle()},e.prototype.parseSize=function(){var t=this.plot.options.lineSize,e={};Object(F.isFunction)(t)?e.callback=t:e.values=[t],this.config.size=e},e.prototype.parseColor=function(){var t=this.plot.options,e={};if(t.seriesField&&(e.fields=[t.seriesField]),Object(F.has)(t,\"color\")){var i=t.color;Object(F.isString)(i)?e.values=[i]:Object(F.isFunction)(i)?e.callback=i:e.values=i}this.config.color=e},e.prototype.parseStyle=function(){var t=this.plot.options,e=t.lineStyle,i={fields:null,callback:null,cfg:null};Object(F.isFunction)(e)&&t.seriesField?(i.fields=[t.seriesField],i.callback=e):i.cfg=e,this.config.style=i},e}(Eo),Uo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.init=function(){var t=this.plot.options;t.xField&&t.yField&&(this.config={type:\"line\",position:{fields:[t.xField,t.yField]},tooltip:!1},(this._getColorMappingField()||this._needParseAttribute(\"color\"))&&this.parseColor(),this._needParseAttribute(\"size\")&&this.parseSize(),t.line.style&&this.parseStyle(),t.smooth&&(this.config.shape={values:[\"smooth\"]}))},e.prototype.parseSize=function(){var t=this.plot.options,e={};t.line.size?e.values=[t.line.size]:e.values=[2],this.config.size=e},e.prototype.parseColor=function(){var t=this.plot.options,e={},i=this._getColorMappingField();i&&(e.fields=i),t.line.color?e.values=[t.line.color]:(i||(i=this.config.position.fields),Object(F.isString)(t.color)?e.values=[t.color]:Object(F.isFunction)(t.color)?(e.fields=i,e.callback=t.color):Object(F.isArray)(t.color)&&(e.fields=i,e.values=t.color)),this.config.color=e},e.prototype.parseStyle=function(){var t=this.plot.options.line.style,e={};Object(F.isFunction)(t)?(e.fields=this.config.position.fields,e.callback=t):e.cfg=t,this.config.style=e},e.prototype._needParseAttribute=function(t){var e=this.plot.options;return!!e[t]||!!e.line[t]},e.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=0,i=[\"stackField\",\"seriesField\"];e<i.length;e++){var n=i[e];if(Object(F.get)(t,n))return[t[n]]}},e}(qo);Object(U.registerShape)(\"line\",\"miniLine\",{draw:function(t,e){for(var i=Ln(t.points),n=[],o=0;o<i.length;o++){var r=i[o],a=0===o?\"M\":\"L\";n.push([a,r.x,r.y])}var s=Object(F.deepMix)({},{lineJoin:\"round\",lineCap:\"round\"},t.style);return e.addShape(\"path\",{attrs:Object(F.mix)({path:n,stroke:t.color||vo().defaultColor,lineWidth:t.size||2},s)})}}),Object(U.registerShape)(\"line\",\"miniLineSmooth\",{draw:function(t,e){var i=No(Ln(t.points),!1,[[0,0],[1,1]]);return e.addShape(\"path\",{attrs:Object(F.mix)({path:i,stroke:t.color||vo().defaultColor,lineWidth:t.size||2},t.style)})}});var $o={main:qo,guide:Uo,mini:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.parseShape()},e.prototype.parseShape=function(){this.plot.options.smooth?this.config.shape={values:[\"miniLineSmooth\"]}:this.config.shape={values:[\"miniLine\"]}},e}(qo)},Zo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.init=function(){var t=this.plot.options;this.style=t.pointStyle,t.xField&&t.yField&&(this.config={type:\"point\",position:{fields:[t.xField,t.yField]}},this.parseColor(),this.parseSize(),t.shape&&this.parseShape(t.shape),t.pointStyle&&this.parseStyle())},e.prototype.parseColor=function(){var t=this.plot.options,e={},i=t.colorField;i&&(e.fields=Object(F.isArray)(i)?i:[i]),t.color&&this._parseColor(t,e),Object(F.isEmpty)(e)||(this.config.color=e)},e.prototype.parseSize=function(){var t=this.plot.options,e={};t.sizeField&&(e.fields=[t.sizeField]),t.pointSize&&(e.values=Object(F.isArray)(t.pointSize)?t.pointSize:[t.pointSize]),this.config.size=e},e.prototype.parseShape=function(t){this.config.shape=t},e.prototype.parseStyle=function(){var t=this.plot.options,e=t.pointStyle,i={fields:null,callback:null,cfg:null},n=t.xField,o=t.yField,r=t.colorField;Object(F.isFunction)(e)?(i.fields=r?Object(F.isArray)(r)?[n,o,r].concat(r):[n,o,r]:[n,o],i.callback=e):(i.cfg=e,Object(F.isNil)(e.opacity)||(i.cfg.fillOpacity=e.opacity)),this.config.style=i},e.prototype._parseColor=function(t,e){Object(F.isString)(t.color)?e.values=[t.color]:Object(F.isFunction)(t.color)?e.callback=t.color:Object(F.isArray)(t.color)&&(e.values=t.color)},e}(Eo);var Ko,Qo=[\"seriesField\",\"stackField\"],Jo={area:Go,line:$o,point:{guide:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.init=function(){var t=this.plot.options;this.style=t.point.style,t.xField&&t.yField&&(this.config={type:\"point\",position:{fields:[t.xField,t.yField]},tooltip:!1},this.parseColor(),this._needParseAttribute(\"size\")&&this.parseSize(),t.point.shape&&this.parseShape(t.point.shape),t.point.style&&this.parseStyle())},e.prototype.parseColor=function(){var t=this.plot.options,e={},i=this._getColorMappingField(t);i?this._parseColorByField(t,e,i):t.point&&t.point.color?e.values=[t.point.color]:t.color&&this._parseColor(t,e),Object(F.keys)(e).length>0&&(this.config.color=e)},e.prototype.parseSize=function(){var t=this.plot.options,e={};e.values=[t.point.size],this.config.size=e},e.prototype.parseShape=function(t){var e={values:[t]};this.config.shape=e},e.prototype.parseStyle=function(){var t=this.plot.options,e=t.point&&t.point.style,i={fields:null,callback:null,cfg:null},n=this._getColorMappingField(t);Object(F.isFunction)(e)&&n?(i.fields=[n],i.callback=e):i.cfg=e,this.config.style=i},e.prototype._parseColorByField=function(t,e,i){if(e.fields=[i],t.point.color){for(var n=function(t,e){var i=[];return Object(F.each)(e,(function(e){var n=e[t];i.push(n)})),Object(F.uniq)(i)}(i,t.data).length,o=[],r=0;r<n;r++)o.push(t.point.color);e.values=o}else t.color&&this._parseColor(t,e)},e.prototype._parseColor=function(t,e){Object(F.isString)(t.color)?e.values=[t.color]:Object(F.isFunction)(t.color)?e.callback=t.color:Object(F.isArray)(t.color)&&(e.values=t.color)},e.prototype._needParseAttribute=function(t){var e=this.plot.options;return e.point&&Object(F.has)(e.point,t)},e.prototype._getColorMappingField=function(t){for(var e=0,i=Qo;e<i.length;e++){var n=i[e];if(Object(F.get)(t,n))return[t[n]]}},e}(Eo),circle:Zo},interval:Wo};function tr(t,e,i){return new(0,Jo[t][e])(i).config}function er(t,e){if(!e)return t;Object.prototype.hasOwnProperty.call(e,\"tickCount\")&&(t.tickCount=e.tickCount),Object.prototype.hasOwnProperty.call(e,\"type\")&&\"dateTime\"!==e.type&&(t.type=e.type),Object.prototype.hasOwnProperty.call(e,\"tickInterval\")&&(\"time\"===e.type?t.tickInterval=function(t){var e=T,i=t.split(\" \"),n=e[i[1]],o=parseInt(i[0],10);return[n.format,o*n.value]}(e.tickInterval):t.tickInterval=e.tickInterval),\"time\"===e.type&&e.mask&&(t.mask=e.mask),Object.prototype.hasOwnProperty.call(e,\"min\")&&(t.min=e.min),Object.prototype.hasOwnProperty.call(e,\"max\")&&(t.max=e.max),Object.prototype.hasOwnProperty.call(e,\"minLimit\")&&(t.minLimit=e.minLimit),Object.prototype.hasOwnProperty.call(e,\"maxLimit\")&&(t.maxLimit=e.maxLimit),Object.prototype.hasOwnProperty.call(e,\"nice\")&&(t.nice=e.nice),Object.prototype.hasOwnProperty.call(e,\"formatter\")&&(t.formatter=e.formatter),e.tickMethod&&(t.tickMethod=e.tickMethod)}function ir(t,e,i,n){e.data;for(var o=e.points,r=i.start.x+i.getWidth()*t,a=0;a<o.length-1;a++){var s=o[a],l=o[a+1];if(r>=s.x&&r<=l.x){var c=(l.y-s.y)/(l.x-s.x);return[r,s.y+c*(r-s.x)]}}}Object(U.registerAnimation)(\"clipingWithData\",(function(t,e,i){var n=t.get(\"element\").geometry,o=t.get(\"index\"),r=n.coordinate,a=n.scales[Ko.options.yField],s=Object(F.clone)(t.get(\"origin\"));!function(t,e){var i=e.start,n=e.end,o=(e.width,e.height);t.setClip({type:\"rect\",attrs:{x:i.x,y:n.y,width:0,height:o}})}(t,r);var l,c=t.get(\"clipShape\"),u=t.get(\"parent\");e.seriesField&&(l=u.addShape(\"text\",{attrs:{x:r.start.x+12,y:0,text:s[0]._origin[e.seriesField],fill:t.attr(\"stroke\"),fontSize:12,textAlign:\"start\",textBaseline:\"middle\"}}));var h=l?16:0,p=u.addShape(\"text\",{attrs:{x:r.start.x+12,y:h,text:\"test\"+o,fill:t.attr(\"stroke\"),fontSize:12,textAlign:\"start\",textBaseline:\"middle\"}});e.callback=function(){t&&!t.get(\"destroyed\")&&(t.setClip(null),c.remove(),p.animate({opacity:0},300,(function(){p.remove()})),l&&p.animate({opacity:0},300,(function(){p.remove()})))};var f=e.delay;Object(F.isFunction)(f)&&(f=e.delay(o));var d=e.easing;Object(F.isFunction)(d)&&(d=e.easing(o)),c.animate({width:r.getWidth()},e.duration,d,e.callback,f),e.onFrame=function(t){var e=ir(t,s,r,0);if(e){p.attr(\"x\",e[0]+12),p.attr(\"y\",e[1]+h);var i=function(t,e,i){var n=(e-i.start.y)/(i.end.y-i.start.y);return t.invert(n).toFixed(2)}(a,e[1],r);a.formatter&&(i=a.formatter(i)),p.attr(\"text\",i)}},p.animate(e.onFrame,{duration:e.duration,easing:d,callback:e.callback,delay:f}),l&&l.animate({onFrame:function(t){var e=ir(t,s,r,0);e&&(l.attr(\"x\",e[0]+12),l.attr(\"y\",e[1]))}},e.duration,d,e.callback,f)}));var nr=function(){function t(t){this.type=\"shape\",this.shapes=t.shapes,this.nodes=[],this._parserNodes(),this.origion_nodes=Object(F.deepMix)([],this.nodes)}return t.prototype.measure=function(t){return Object(F.deepMix)({},function(t){var e,i=t.getBBox(),n=i.minX,o=i.minY,r=i.maxX-i.minX,a=i.maxY-i.minY,s=t.attr(\"matrix\"),l=On({x:0,y:0},e=s?[s[0],s[1],0,s[3],s[4],0,0,0,1]:[1,0,0,0,1,0,0,0,1]);l.x+=n,l.y+=o;var c=On({x:r,y:0},e);c.x+=n,c.y+=o;var u=On({x:0,y:a},e);u.x+=n,u.y+=o;var h=On({x:r,y:a},e);h.x+=n,h.y+=o;var p=[l,c,u,h];p.sort((function(t,e){return t.y-e.y}));var f=p[0].y,d=p[p.length-1].y,g=[p[0],p[1]],y=[p[2],p[3]],m=g[0].x<g[1].x?g[0]:g[1],v=g[0].x<g[1].x?g[1]:g[0],b=y[0].x<y[1].x?y[0]:y[1],x=y[0].x<y[1].x?y[1]:y[0];p.sort((function(t,e){return t.x-e.x}));var O=p[0].x,j=p[p.length-1].x;return{width:j-O,height:d-f,left:O,right:j,top:f,bottom:d,topLeft:m,topRight:v,bottomLeft:b,bottomRight:x,centerX:O+(j-O)/2,centerY:f+(d-f)/2}}(t),{shape:t})},t.prototype.measureNodes=function(){var t=this,e=[],i=[];Object(F.each)(this.shapes,(function(n,o){var r=Object(F.deepMix)({},t.nodes[o],t.measure(n));0!==r.width&&0!==r.height&&(e.push(r),i.push(n))})),this.nodes=e,this.shapes=i},t.prototype.updateShapes=function(){},t.prototype._parserNodes=function(){var t=this;Object(F.each)(this.shapes,(function(e){var i=t.measure(e);t.nodes.push(i)}))},t}();var or={elementDist:{type:\"chain\",usage:\"compare\",expression:function(t,e,i){void 0===i&&(i={value:4});var n=kn([t.topLeft,t.topRight,t.bottomRight,t.bottomLeft],[e.topLeft,e.topRight,e.bottomRight,e.bottomLeft]);return Math.round(n)>=i.value}},elementDistVertical:{type:\"chain\",usage:\"compare\",expression:function(t,e,i){void 0===i&&(i={value:5});var n=Math.abs(t.bottom-e.top);return Math.round(n)>=i.value}},elementCollision:{type:\"group\",usage:\"compare\",expression:function(t,e){var i=kn([t.topLeft,t.topRight,t.bottomRight,t.bottomLeft],[e.topLeft,e.topRight,e.bottomRight,e.bottomLeft]);return Math.round(i)>=2}},elementWidth:{type:\"padding\",usage:\"compare\",expression:function(t,e,i){return void 0===i&&(i={ratio:.15}),t.width<e.width*i.ratio}},columnWidth:{type:\"padding\",usage:\"assign\",expression:function(t,e,i){return void 0===i&&(i={ratio:.6}),e.width*i.ratio}},ringThickness:{type:\"padding\",usage:\"assign\",expression:function(t,e,i){return void 0===i&&(i={ratio:.8}),e.radius*i.ratio}},minRingThickness:{type:\"padding\",usage:\"assign\",expression:function(t,e){var i=e.coord.radius/2;return Math.min(i,t.value)}}};function rr(t,e){or[t]=e}function ar(t){t.attr(\"text\",\"\")}function sr(t,e){return!(t.bottom<e.top||e.bottom<t.top)&&!(t.right<e.left||e.right<t.left)}var lr=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g,cr=/\\[([^]*?)\\]/gm;function ur(t,e){for(var i=[],n=0,o=t.length;n<o;n++)i.push(t[n].substr(0,e));return i}var hr=function(t){return function(e,i){var n=i[t].map((function(t){return t.toLowerCase()})).indexOf(e.toLowerCase());return n>-1?n:null}};function pr(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=0,o=e;n<o.length;n++){var r=o[n];for(var a in r)t[a]=r[a]}return t}var fr=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],dr=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],gr=ur(dr,3),yr={dayNamesShort:ur(fr,3),dayNames:fr,monthNamesShort:gr,monthNames:dr,amPm:[\"am\",\"pm\"],DoFn:function(t){return t+[\"th\",\"st\",\"nd\",\"rd\"][t%10>3?0:(t-t%10!==10?1:0)*t%10]}},mr=pr({},yr),vr=function(t){return t.replace(/[|\\\\{()[^$+*?.-]/g,\"\\\\$&\")},br=function(t,e){for(void 0===e&&(e=2),t=String(t);t.length<e;)t=\"0\"+t;return t},xr={D:function(t){return String(t.getDate())},DD:function(t){return br(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return br(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return br(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return br(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return br(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return br(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return br(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return br(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return br(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return br(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return br(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?\"-\":\"+\")+br(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},Or=function(t){return+t-1},jr=[null,\"[1-9]\\\\d?\"],Mr=[null,\"[^\\\\s]+\"],wr=[\"isPm\",\"[^\\\\s]+\",function(t,e){var i=t.toLowerCase();return i===e.amPm[0]?0:i===e.amPm[1]?1:null}],_r={D:[\"day\",\"[1-9]\\\\d?\"],DD:[\"day\",\"\\\\d\\\\d\"],Do:[\"day\",\"[1-9]\\\\d?[^\\\\s]+\",function(t){return parseInt(t,10)}],M:[\"month\",\"[1-9]\\\\d?\",Or],MM:[\"month\",\"\\\\d\\\\d\",Or],YY:[\"year\",\"\\\\d\\\\d\",function(t){var e=+(\"\"+(new Date).getFullYear()).substr(0,2);return+(\"\"+(+t>68?e-1:e)+t)}],h:[\"hour\",\"[1-9]\\\\d?\",void 0,\"isPm\"],hh:[\"hour\",\"\\\\d\\\\d\",void 0,\"isPm\"],H:[\"hour\",\"[1-9]\\\\d?\"],HH:[\"hour\",\"\\\\d\\\\d\"],m:[\"minute\",\"[1-9]\\\\d?\"],mm:[\"minute\",\"\\\\d\\\\d\"],s:[\"second\",\"[1-9]\\\\d?\"],ss:[\"second\",\"\\\\d\\\\d\"],YYYY:[\"year\",\"\\\\d{4}\"],S:[\"millisecond\",\"\\\\d\",function(t){return 100*+t}],SS:[\"millisecond\",\"\\\\d\\\\d\",function(t){return 10*+t}],SSS:[\"millisecond\",\"\\\\d{3}\"],d:jr,dd:jr,ddd:Mr,dddd:Mr,MMM:[\"month\",\"[^\\\\s]+\",hr(\"monthNamesShort\")],MMMM:[\"month\",\"[^\\\\s]+\",hr(\"monthNames\")],a:wr,A:wr,ZZ:[\"timezoneOffset\",\"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\",function(t){var e=(t+\"\").match(/([+-]|\\d\\d)/gi);if(e){var i=60*+e[1]+parseInt(e[2],10);return\"+\"===e[0]?i:-i}return 0}]},Cr={default:\"ddd MMM DD YYYY HH:mm:ss\",shortDate:\"M/D/YY\",mediumDate:\"MMM D, YYYY\",longDate:\"MMMM D, YYYY\",fullDate:\"dddd, MMMM D, YYYY\",shortTime:\"HH:mm\",mediumTime:\"HH:mm:ss\",longTime:\"HH:mm:ss.SSS\"};var Sr={format:function(t,e,i){if(void 0===e&&(e=Cr.default),void 0===i&&(i={}),\"number\"===typeof t&&(t=new Date(t)),\"[object Date]\"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error(\"Invalid Date pass to format\");e=Cr[e]||e;var n=[];e=e.replace(cr,(function(t,e){return n.push(e),\"@@@\"}));var o=pr(pr({},mr),i);return(e=e.replace(lr,(function(e){return xr[e](t,o)}))).replace(/@@@/g,(function(){return n.shift()}))},parse:function(t,e,i){if(void 0===i&&(i={}),\"string\"!==typeof e)throw new Error(\"Invalid format in fecha parse\");if(e=Cr[e]||e,t.length>1e3)return null;var n={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},o=[],r=[],a=e.replace(cr,(function(t,e){return r.push(vr(e)),\"@@@\"})),s={},l={};a=vr(a).replace(lr,(function(t){var e=_r[t],i=e[0],n=e[1],r=e[3];if(s[i])throw new Error(\"Invalid format. \"+i+\" specified twice in format\");return s[i]=!0,r&&(l[r]=!0),o.push(e),\"(\"+n+\")\"})),Object.keys(l).forEach((function(t){if(!s[t])throw new Error(\"Invalid format. \"+t+\" is required in specified format\")})),a=a.replace(/@@@/g,(function(){return r.shift()}));var c=t.match(new RegExp(a,\"i\"));if(!c)return null;for(var u=pr(pr({},mr),i),h=1;h<c.length;h++){var p=o[h-1],f=p[0],d=p[2],g=d?d(c[h],u):+c[h];if(null==g)return null;n[f]=g}1===n.isPm&&null!=n.hour&&12!==+n.hour?n.hour=+n.hour+12:0===n.isPm&&12===+n.hour&&(n.hour=0);for(var y=new Date(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond),m=[[\"month\",\"getMonth\"],[\"day\",\"getDate\"],[\"hour\",\"getHours\"],[\"minute\",\"getMinutes\"],[\"second\",\"getSeconds\"]],v=(h=0,m.length);h<v;h++)if(n[m[h][0]]!==y[m[h][1]]())return null;return null==n.timezoneOffset?y:new Date(Date.UTC(n.year,n.month,n.day,n.hour,n.minute-n.timezoneOffset,n.second,n.millisecond))},defaultI18n:yr,setGlobalDateI18n:function(t){return mr=pr(mr,t)},setGlobalDateMasks:function(t){return pr(Cr,t)}},kr=6e4,Ar=60*kr,Lr=24*Ar,Br=31*Lr,Dr=365*Lr;function Tr(t,e,i,n){var o,r=n.nodes.nodes;o=i===r.length-1?r[i-1].shape.get(\"delegateObject\").item.name:r[i+1].shape.get(\"delegateObject\").item.name;var a=new Date(o),s=t.get(\"delegateObject\").item.name,l=new Date(s),c=r[0].shape.get(\"delegateObject\").item.name,u=new Date(c),h=r[r.length-1].shape.get(\"delegateObject\").item.name,p=Pr(u,new Date(h)),f=Pr(l,a);if(p!==f){if(0!==i){var d=r[i-1].shape.get(\"delegateObject\").item.name;if(function(t,e,i){var n=Ir(e,t),o=Ir(i,t);if(n!==o)return!1;return!0}(p,l,new Date(d))){g=function(t,e){for(var i=[\"year\",\"month\",\"day\",\"hour\",\"minute\"],n=[\"YYYY\",\"MM\",\"DD\",\"HH\",\"MM\"],o=i.indexOf(t)+1,r=i.indexOf(e),a=\"\",s=o;s<=r;s++)a+=n[s],s<r&&(a+=\"-\");return a}(p,f);return void t.attr(\"text\",Sr.format(l,g))}}}else if(0!==i&&i!==r.length-1){var g=function(t){var e=[\"year\",\"month\",\"day\",\"hour\",\"minute\"].indexOf(t);return[\"YYYY\",\"MM\",\"DD\",\"HH\",\"MM\"][e]}(p);t.attr(\"text\",Sr.format(l,g))}}function Pr(t,e){var i,n=Math.abs(t-e),o={minute:[kr,Ar],hour:[Ar,Lr],day:[Lr,Br],month:[Br,Dr],year:[Dr,1/0]};return Object(F.each)(o,(function(t,e){n>=t[0]&&n<t[1]&&(i=e)})),i}function Ir(t,e){return\"year\"===e?t.getFullYear():\"month\"===e?t.getMonth()+1:\"day\"===e?t.getDay()+1:\"hour\"===e?t.getHours()+1:\"minute\"===e?t.getMinutes()+1:void 0}var Er={k:{number:1e3,index:0},m:{number:1e6,index:1},b:{number:1e9,index:2},t:{number:1e12,index:3}};function Fr(t,e,i,n){if(Object(F.has)(n,\"node\")&&Object(F.has)(n.node,\"node\")){var o=n.nodes.nodes,r=parseFloat(t.get(\"origin\").text);if(0!==r)if(e.formatter)t.attr(\"text\",e.formatter(r));else if(e.unit){var a=Rr(e,r),s=a.num,l=a.unitname;t.attr(\"text\",s+l)}else{l=function(t){var e=Math.floor(Math.log(t)/Math.log(1e3));return[\"k\",\"m\",\"b\",\"t\"][e-1]}(Bn(function(t){var e=[];return Object(F.each)(t,(function(t){var i=parseFloat(t.shape.get(\"origin\").text);e.push(i)})),e}(o)));var c=Er[l].number;s=Rr({unit:l,decimal:function(t,e){var i=Math.floor(Math.log10(e));if(!(t>=e)){var n=Math.floor(Math.log10(t));return Math.abs(n-i)}var o=t%e;if(o>0){var r=Math.floor(Math.log10(o));return Math.abs(r-i)}return 0}(function(t){if(t.length>=2){var e=parseFloat(t[0].shape.get(\"origin\").text),i=parseFloat(t[1].shape.get(\"origin\").text);return Math.abs(e-i)}return 0}(o),c)},r).num;t.attr(\"text\",s+l)}}}function Rr(t,e){var i,n;if(\"auto\"===t.unit){var o=Math.floor(Math.log(e)/Math.log(1e3));n=[\"k\",\"m\",\"b\",\"t\"][o-1],i=(e/Math.pow(1e3,o)).toFixed(t.decimal)}else if(t.unit){var r=Er[t.unit];n=t.unit,i=(e/r.number).toFixed(t.decimal)}return{num:i,unitname:n}}function Yr(t,e,i){var n=[];Object(F.each)(t,(function(t){\"start\"===t?n.push(0===e):\"end\"===t?n.push(e===i.length-1):Object(F.isNumber)(t)&&n.push(e===t)}));for(var o=0,r=n;o<r.length;o++){if(!0===r[o])return!0}return!1}function Nr(t,e,i){for(var n=0,o=t;n<o.length;n++){var r=o[n];if(r.shape.get(\"origin\")[e]===i)return r}}function zr(t,e){var i,n=e.abbreviateBy?e.abbreviateBy:\"end\",o=t.attr(\"text\");\"end\"===n&&(i=o[0]+\"...\"),\"start\"===n&&(i=\"...\"+o[o.length-1]),\"middle\"===n&&(i=o[0]+\"...\"+o[o.length-1]),t.resetMatrix(),t.attr({text:i,textAlign:\"center\",textBaseline:\"top\"})}var Hr={textWrapper:function(t,e){for(var i=t.attr(\"text\"),n=Math.ceil(i.length/e.lineNumber),o=\"\",r=1;r<e.lineNumber;r++){var a=n*r;o=i.slice(0,a)+\"\\n\"+i.slice(a)}var s=t.attr(\"fontSize\");t.attr({text:o,lineHeight:s,textAlign:\"center\",textBaseline:\"top\"})},textRotation:function(t,e){t.resetMatrix(),t.attr({rotate:360-e.degree,textAlign:\"right\",textBaseline:\"middle\"})},textAbbreviate:zr,textHide:ar,digitsAbbreviate:Fr,datetimeStringAbbrevaite:Tr,robustAbbrevaite:function(t,e,i,n){var o,r=n.nodes.nodes,a=t.attr(\"text\");/^\\d+$/.test(a)?Fr(t,e,0,r):/^(?:(?:[0-2][0-3])|(?:[0-1][0-9])):[0-5][0-9]$/.test(o=a)||/^(?:(?:[0-2][0-3])|(?:[0-1][0-9])):[0-5][0-9]:[0-5][0-9]$/.test(o)?Tr(t,0,i,r):zr(t,e)},nodesResampling:function(t,e,i,n){var o=n.nodes.nodes,r=o.length%2!==0;if(!Yr(e.keep,i,o)){var a=i%2===0;(!r&&a||r&&!a)&&ar(t)}},nodesResamplingByAbbrevate:function(t,e,i,n){var o=n.nodes.nodes;Yr(e.keep,i,o)||t.attr(\"text\")!==t.get(\"delegateObject\").item.name&&ar(t)},nodesResamplingByChange:function(t,e,i,n){var o=n.nodes.nodes,r=function(t){var e=Object(F.deepMix)([],t);return e.sort((function(t,e){return e.width-t.width})),Math.round(e[0].width)}(o);if(!(i<=1)){var a=o[i],s=function(t,e){for(var i=t-1;i>0;i--){var n=e[i];if(!n.shape.get(\"blank\"))return n}}(i,o),l=s.centerX-a.centerX,c=s.centerY-a.centerY;Math.sqrt(l*l+c*c)<r&&(ar(t),t.set(\"blank\",!0))}},nodesResamplingByState:function(t,e,i,n){var o=n.nodes.nodes,r=o[i];r.line&&r.line.remove();var a=function(t,e,i){var n=[];Object(F.each)(t,(function(t){n.push(t[e])})),n.sort((function(t,e){return t-e}));var o=n[0],r=Nr(i,e,o),a=n[n.length-1],s=Nr(i,e,a),l=function(t){var e=Object(F.clone)(t);e.sort((function(t,e){return t-e}));var i=Math.floor(e.length/2);if(e.length%2)return e[i];return e[i]}(n),c=Nr(i,e,l);return{min:r,max:s,median:c}}(n.plot.initialProps.data,n.plot[n.plot.type].label.fields[0],o),s=!1;if(Object(F.each)(a,(function(t){t.shape.get(\"origin\")===r.shape.get(\"origin\")&&(s=!0)})),s){if(r.origin_position){var l=r.origin_position,c=l.x,u=l.y;t.attr(\"x\",c),t.attr(\"y\",u)}}else ar(t)},nodeJitter:function(t,e,i,n){var o=n.nodes.nodes;if(i!==o.length-1){var r=function(t,e){var i,n={x:e.centerX-t.centerX,y:e.centerY-t.centerY},o=Math.sqrt(n.x*n.x+n.y*n.y),r={x:10,y:0},a=Math.sqrt(r.x*r.x+r.y*r.y),s=xn(n,r)/(o*a)*180/Math.PI;s<0&&(s=360-s);s=function(t){if(t>90&&t<=180)return 180-t;if(t>180&&t<270)return t-180;return 360-t}(s);var l=Math.abs(t.centerX-e.centerX),c=Math.abs(t.centerY-e.centerY);s>45?i=\"x\":s<45&&(i=\"y\");return{dir:i,distX:l,distY:c}}(o[i],o[i+1]),a=r.dir,s=(r.distX,r.distY,t.get(\"startPoint\"));\"x\"===a&&t.attr(\"y\",s.y+20)}},nodeJitterUpward:function(t,e,i,n){var o=n.nodes.nodes;if(0!==i){var r=o[i],a=o[i-1];if(sr(r,a)){var s=n.plot.plot.get(\"elements\")[0],l=a.top-r.height/2;if(l-10>n.region.top){var c=r.shape.get(\"origin\"),u=function(t,e){var i;return Object(F.each)(e,(function(e){var n=e;n.get(\"id\")===t&&(i=n)})),i}(s.getShapeId(c),s.getShapes()).get(\"box\"),h=u.left+u.width/2,p=u.top,f=s.get(\"labelController\").labelsContainer.addShape(\"path\",{attrs:{path:[[\"M\",h,p],[\"L\",r.shape.attr(\"x\"),l]],stroke:\"#ccc\",lineWidth:1}}),d={x:t.attr(\"x\"),y:t.attr(\"y\")};r.shape.attr(\"y\",l-10),o[i]=n.nodes.measure(r.shape),o[i].line=f,o[i].origin_position=d}}}},clearOverlapping:function(t,e,i,n){var o=n.nodes.nodes,r=o[i],a=[];if(!r.shape.get(\"blank\"))for(var s=0;s<o.length;s++){var l=o[s],c=l.shape;if(s!==i&&!c.get(\"blank\"))sr(r,l)&&a.push(l)}a.length>0&&(a.push(r),a.sort((function(t,e){return e.top-t.top})),Object(F.each)(a,(function(t,e){if(e>0){var i=t.shape;ar(i),i.set(\"blank\",!0)}})))}};function Xr(t,e){Hr[t]=e}var Gr=function(){function t(t){this.iterationTime=10,this.iterationIndex=0,this.rulesLocker=[],this.constraintIndex=0,Object(F.assign)(this,t),this.currentConstraint=this.constraints[0],this.rules&&(this.iterationTime=this.rules[this.currentConstraint.name].length),this._start(),this._run(),this._end()}return t.prototype._start=function(){this.onStart&&this.onStart(this.nodes)},t.prototype._iteration=function(){var t;\"shape\"===(t=(this.nodes.type,this.nodes)).type&&t.measureNodes(),this.rules&&this._applyRules(),\"shape\"===t.type&&t.measureNodes(),this.onIteration&&this.onIteration(this.nodes)},t.prototype._end=function(){this.onEnd&&this.onEnd(this.nodes)},t.prototype._run=function(){for(var t=this._constraintsTest();!t&&!(this.iterationIndex>this.iterationTime-1);)this._iteration(),t=this._constraintsTest(),this.iterationIndex++;this.constraintIndex<this.constraints.length-1&&(this.constraintIndex++,this.currentConstraint=this.constraints[this.constraintIndex],this.iterationTime=this.rules?this.rules[this.currentConstraint.name].length:1,this.iterationIndex=0,this._run())},t.prototype._constraintsTest=function(){var t=or[this.currentConstraint.name],e=this.currentConstraint.option;return\"compare\"===t.usage?this._constraintCompare(t,e):this._constraintAssignment(t,e)},t.prototype._constraintCompare=function(t,e){var i=t.type,n=t.expression,o=this.nodes.nodes;return\"chain\"===i?this._chainConstraintCompare(n,o,e):\"padding\"===i?this._paddingConstraintCompare(n,this.region,o,e):\"group\"===i?this._groupConstraintCompare(n,o,e):void 0},t.prototype._chainConstraintCompare=function(t,e,i){for(var n=0;n<e.length-1;n++){if(!1===t(e[n],e[n+1],i))return!1}return!0},t.prototype._paddingConstraintCompare=function(t,e,i,n){if(e)for(var o=0,r=i;o<r.length;o++){if(!1===t(r[o],e,n))return!1}return!0},t.prototype._groupConstraintCompare=function(t,e,i){for(var n=0;n<e.length;n++)for(var o=e[n],r=0;r<e.length;r++){if(r!==n)if(!1===t(o,e[r],i))return!1}return!0},t.prototype._constraintAssignment=function(t,e){var i=t.type,n=t.expression,o=this.nodes.nodes;return\"chain\"===i?this._chainConstraintAssign(n,o,e):\"padding\"===i?this._paddingConstraintAssign(n,this.region,o,e):void 0},t.prototype._chainConstraintAssign=function(t,e,i){return!0},t.prototype._paddingConstraintAssign=function(t,e,i,n){if(e)for(var o=0,r=i;o<r.length;o++){var a=r[o],s=t(a,e,n);a.value=s}return!0},t.prototype._applyRules=function(){for(var t=this.rules[this.currentConstraint.name][this.iterationIndex],e=Hr[t.name],i=t.option?t.option:{},n=this.nodes.nodes,o=0;o<n.length;o++){var r=n[o];this._applyRule(r.shape,e,i,o)}},t.prototype._applyRule=function(t,e,i,n){e(t,i,n,{nodes:this.nodes,region:this.region,plot:this.plot})},t}(),Vr=function(){function t(t){Object(F.assign)(this,t),this.init()}return t.prototype.init=function(){this.type=this.getType(),this.shouldApply()&&this.apply()},t}(),Wr={cat:\"category\",timeCat:\"category\",time:\"dateTime\",linear:\"linear\"},qr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.init=function(){this.axisInstance=this.getAxisInstance(),t.prototype.init.call(this)},e.prototype.shouldApply=function(){var t=this.plot.options;return!!this.responsiveTheme.axis&&!!(this.responsiveTheme.axis[this.dim]&&t[this.dim+\"Axis\"].visible&&t[this.dim+\"Axis\"].label&&t[this.dim+\"Axis\"].label.visible)},e.prototype.apply=function(){for(var t=this,e=this.plot.view.backgroundGroup.findAll((function(e){if(\"axis-label\"===e.get(\"name\")&&e.get(\"delegateObject\").axis.get(\"field\")===t.plot.options[t.dim+\"Field\"])return e})),i=[],n=0;n<e.length;n++)i.push(e[n]);var o=new nr({shapes:i}),r=this.responsiveTheme.axis.x[this.type],a=r.constraints,s=r.rules;new Gr({nodes:o,constraints:a,region:this.plot.getViewRange(),rules:s,plot:this.plot,onEnd:function(e){t.updateTicks(e.origion_nodes)}})},e.prototype.getType=function(){var t=this.plot.options,e=this.dim+\"Axis\",i=this.dim+\"Field\";if(t[e]&&t[e].type&&\"dateTime\"===t[e].type)return\"dateTime\";var n=this.plot.view.getScaleByField([t[i]]).type;return Wr[n]},e.prototype.getAxisInstance=function(){var t=\"x\"===this.dim?0:1;return this.plot.view.getController(\"axis\").getComponents()[t].component},e.prototype.updateTicks=function(t){var e=this,i=this.plot.view.backgroundGroup.findAll((function(t){if(\"axis-tickline-group\"===t.get(\"name\")&&t.get(\"delegateObject\").axis.get(\"field\")===e.plot.options[e.dim+\"Field\"])return t}))[0];if(i){var n=i.get(\"children\");Object(F.each)(t,(function(t,e){\"\"===t.shape.attr(\"text\")&&n[e].attr(\"opacity\",0)}))}this.plot.canvas.draw()},e}(Vr);var Ur=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.shouldApply=function(){return!(!this.responsiveTheme.label||!this.responsiveTheme.label[this.type])},e.prototype.apply=function(){var t=this.plot.view.geometries[0].labelsContainer.get(\"children\"),e=[];Object(F.each)(t,(function(t){e.push(t.get(\"children\")[0])}));var i=new nr({shapes:e}),n=this.responsiveTheme.label[this.type],o=n.constraints,r=n.rules;new Gr({nodes:i,constraints:o,rules:r,plot:this.plot,region:this.plot.view.coordinateBBox})},e.prototype.getType=function(){return null},e}(Vr),$r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.getType=function(){var t=this.plot.options;return t.label&&t.label.type?t.label.type:\"point\"},e}(Ur);var Zr={preRender:[],afterRender:[{name:\"responsiveAxis\",method:function(t){var e=t.getResponsiveTheme(),i=t.canvas;new qr({plot:t,responsiveTheme:e,dim:\"x\"}),new qr({plot:t,responsiveTheme:e,dim:\"y\"}),i.draw()}},{name:\"responsivePointLabel\",method:function(t){var e=t.getResponsiveTheme();new $r({plot:t,responsiveTheme:e})}}]},Kr=function(){function t(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=Object(F.deepMix)(e,t,{}),this.init()}return t.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on(\"beforerender\",(function(){t.clear(),t.plot.canvas.draw()}))},t.prototype.render=function(){var t=this,e=this.getGeometry().elements;Object(F.each)(e,(function(e){var i=t.getShapeInfo(e.shape),n=t.options,o=n.style,r=n.offsetX,a=n.offsetY,s=t.options.formatter,l=s?s(i.name):i.name;t.container.addShape(\"text\",{attrs:Object(F.deepMix)({},o,{x:i.x+r,y:i.y+a,text:l,fill:i.color,textAlign:\"left\",textBaseline:\"middle\"}),name:\"label\"})}))},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.hide=function(){this.container.set(\"visible\",!1),this.plot.canvas.draw()},t.prototype.show=function(){this.container.set(\"visible\",!0),this.plot.canvas.draw()},t.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},t.prototype.getBBox=function(){},t.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:8,offsetY:0,style:Object(F.clone)(t)}},t.prototype.getGeometry=function(){return Object(F.find)(this.view.geometries,(function(t){return\"line\"===t.type}))},t.prototype.getShapeInfo=function(t){var e=t.get(\"origin\").points,i=e[e.length-1],n=t.attr(\"stroke\"),o=this.plot.options.seriesField,r=t.get(\"origin\").data[0][o];return{x:i.x,y:i.y,color:n,name:r}},t}(),Qr=X({Line:\"line\",Point:\"point\"});Object(F.assign)(R,Qr);xo(\"line\",{lineStyle:{normal:{},active:function(t){return{lineWidth:(t.shape.attr(\"lineWidth\")||1)+1}},disable:function(t){return{opacity:.2*(t.shape.attr(\"opacity\")||1)}},selected:function(t){return{lineWidth:(t.shape.attr(\"lineWidth\")||1)+2}}},pointStyle:{normal:{},active:{},disable:{},selected:{}}});wo(\"line\",{label:{point:{constraints:[{name:\"elementCollision\"}],rules:{elementCollision:[{name:\"nodesResamplingByChange\"},{name:\"clearOverlapping\"}]}}}});var Jr=function(t){function e(e){return t.call(this,Object(P.__assign)({processEvent:\"mousemove\"},e))||this}return Object(P.__extends)(e,t),e.prototype.process=function(t){var e=Object(F.filter)(this.view.geometries,(function(t){return\"line\"==t.type}));if(\"line\"===t.target.get(\"name\")){var i=Object(F.get)(t,\"data.data\");Object(F.each)(e,(function(t){Object(F.each)(t.elements,(function(t){t.setState(\"active\",t.data===i)}))}))}else Object(F.each)(e,(function(t){Object(F.each)(t.elements,(function(t){t.setState(\"active\",!1)}))}))},e}(io),ta=function(t){function e(e){return t.call(this,Object(P.__assign)({endEvent:\"click\"},e))||this}return Object(P.__extends)(e,t),e.prototype.end=function(t){var e=t.target,i=Object(F.filter)(this.view.geometries,(function(t){return\"line\"==t.type}));if(\"line\"===e.get(\"name\")){var n=Object(F.get)(t,\"data.data\");Object(F.each)(i,(function(t){Object(F.each)(t.elements,(function(t){t.setState(\"inactive\",t.data!==n)}))}))}else Object(F.each)(i,(function(t){Object(F.each)(t.elements,(function(t){t.setState(\"inactive\",!1)}))}))},e}(io),ea={line:\"line\",point:\"point\"},ia=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"line\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{connectNulls:!1,smooth:!1,lineSize:2,lineStyle:{lineJoin:\"round\",lineCap:\"round\"},point:{visible:!1,size:3,shape:\"circle\",style:{stroke:\"#fff\"}},label:{visible:!1,type:\"point\"},legend:{visible:!0,position:\"top-left\",wordSpacing:4}})},e.prototype.afterRender=function(){var e=this.options;this.options.label&&this.options.label.visible&&\"line\"===this.options.label.type&&new Kr(Object(P.__assign)({view:this.view,plot:this},this.options.label)).render();e.responsive&&\"auto\"!==e.padding&&this.applyResponsive(\"afterRender\"),t.prototype.afterRender.call(this)},e.prototype.geometryParser=function(t,e){return ea[e]},e.prototype.scale=function(){var e=this.options,i={};i[e.xField]={},Object(F.has)(e,\"xAxis\")&&er(i[e.xField],e.xAxis),i[e.yField]={},Object(F.has)(e,\"yAxis\")&&er(i[e.yField],e.yAxis),this.setConfig(\"scales\",i),function(t,e){var i=Object(F.filter)(e,(function(t){return Object(F.isNumber)(t)})),n=Math.min.apply(Math,i),o=Math.max.apply(Math,i);n>0?Object(F.isNil)(t.min)&&(t.min=0):o<=0&&Object(F.isNil)(t.max)&&(t.max=0)}(i[e.yField],Object(F.map)(e.data,(function(t){return t[e.yField]}))),t.prototype.scale.call(this)},e.prototype.coord=function(){},e.prototype.addGeometry=function(){this.addLine(),this.addPoint()},e.prototype.addLine=function(){var t=this.options;this.line=tr(\"line\",\"main\",{plot:this}),t.label&&this.label(),this.setConfig(\"geometry\",this.line)},e.prototype.addPoint=function(){var t=this.options;t.point&&(t.point=Object(F.deepMix)({visible:!1},t.point)),t.point&&t.point.visible&&(this.point=tr(\"point\",\"guide\",{plot:this}),this.setConfig(\"geometry\",this.point))},e.prototype.label=function(){var t=this.options,e=t.label;!1===e.visible||this.singleLineLabelCheck()?this.line.label=!1:\"point\"===e.type&&(this.line.label=to(\"label\",Object(P.__assign)({plot:this,top:!0,labelType:e.type,fields:[t.yField]},e)))},e.prototype.animation=function(){t.prototype.animation.call(this);var e,i=this.options;!1===i.animation?(this.line.animate=!1,this.point&&(this.point.animate=!1)):Object(F.has)(i,\"animation\")&&\"clipingWithData\"===i.animation.type&&\"auto\"!==i.padding&&(e={options:this.options,view:this.view},Ko=e,this.line.animate={appear:{animation:\"clipingWithData\",easing:\"easeLinear\",duration:1e4,options:{test:!0},yField:i.yField,seriesField:i.seriesField,plot:this}},i.point&&i.point.visible&&(this.point.animate=!1))},e.prototype.applyInteractions=function(){t.prototype.applyInteractions.call(this),this.interactions.push(new Jr({view:this.view})),this.interactions.push(new ta({view:this.view}))},e.prototype.parseEvents=function(e){t.prototype.parseEvents.call(this,p)},e.prototype.applyResponsive=function(t){var e=this,i=Zr[t];Object(F.each)(i,(function(t){t.method(e)}))},e.prototype.singleLineLabelCheck=function(){return!this.options.seriesField&&this.options.label.type&&\"line\"===this.options.label.type},e}(ko),na=ia;To(\"line\",ia);var oa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"line\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=na.getDefaultOptions,e}(Io);function ra(t,e,i,n,o){var r=n-e,a=t.children,s=t.value;a.sort((function(t,e){return e.value-t.value}));var l=r/s,c=e;Object(F.each)(a,(function(t){t.y0=i,t.y1=o,t.x0=c,c+=t.value*l,t.x1=t.x0+t.value*l}))}function aa(t,e,i,n,o){var r=o-i,a=t.children,s=t.value;a.sort((function(t,e){return e.value-t.value}));var l=r/s,c=i;Object(F.each)(a,(function(t){t.x0=e,t.x1=n,t.y0=c,c+=t.value*l,t.y1=t.y0+t.value*l}))}var sa=(1+Math.sqrt(5))/2;function la(t,e,i,n,o){var r=t.children,a=t.value;r.sort((function(t,e){return e.value-t.value}));for(var s,l,c,u,h,p,f,d,g=[],y=0,m=0;y<r.length;){var v=n-e,b=o-i;for(l=s=r[m++].value,c=s,h=s*s*(u=Math.max(b/v,v/b)/(a*sa)),f=Math.max(l/h,h/c);m<r.length;m++){if((d=r[m].value)<c&&(c=d),d>l&&(l=d),h=(s+=d)*s*u,(p=Math.max(l/h,h/c))>f){s-=d;break}f=p}var x={value:s,dice:v<b,children:r.slice(y,m)};if(g.push(x),x.dice){var O=a?b*s/a:b;ra(x,e,i,n,i+O),a&&(i+=O)}else{var j=a?v*s/a:v;aa(x,e,i,e+j,o),a&&(e+=j)}a-=s,y=m}return g}function ca(t,e){var i=e?Object(F.clone)(e):[1,0,0,0,1,0,0,0,1];return tt.transform(i,t)}function ua(t,e,i){U.Util.translate(t,e,i)}var ha=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listeners=[],e.onItemGroupToggleActive=function(t,i){return function(){var n=t.get(\"children\").find((function(t){return\"item-background\"===t.get(\"class\")}));n&&n.attr(i?e.itemActiveBackgroundStyle:e.itemBackgroundStyle),e.getCanvas().draw()}},e}return Object(P.__extends)(e,t),e.prototype.destroy=function(){this.offEvents(),t.prototype.destroy.call(this)},e.prototype.init=function(t){this.x=t.x,this.y=t.y,this.items=t.items||[],this.itemPadding=t.itemPadding||[2,8,2,8],this.backgroundStyle=Object(P.__assign)({lineWidth:1,stroke:\"#ffffff\"},t.backgroundStyle||{}),this.itemBackgroundStyle=Object(P.__assign)({fill:\"#fff\"},t.itemBackgroundStyle||{}),this.itemActiveBackgroundStyle=Object(P.__assign)({fill:\"#ccc\",opacity:.2},t.itemActiveBackgroundStyle||{}),this.separator=t.separator||\"/\",this.separatorStyle=Object(P.__assign)({textBaseline:\"top\",fill:\"#000000\",opacity:.45},t.separatorStyle||{}),this.itemWidth=t.itemWidth,this.itemHeight=t.itemHeight,this.maxItemWidth=t.maxItemWidth,this.textStyle=Object(P.__assign)({textBaseline:\"top\",fill:\"#000000\",opacity:.45},t.textStyle||{})},e.prototype.renderInner=function(t){this.offEvents(),this.renderItems(t,0,0),function(t,e,i,n){var o=n?Object(F.clone)(n):[1,0,0,0,1,0,0,0,1];o[6]=e,o[7]=i,t.setMatrix(o)}(this.group,this.x,this.y)},e.prototype.renderItems=function(t,e,i){var n,o=this,r=this.itemPadding,a=r[0],s=r[1],l=r[2],c=r[3],u=t.addShape(\"rect\",{class:\"breadcrumb-background\",attrs:Object(P.__assign)({x:e,y:i,width:1,height:1},this.backgroundStyle)});this.items.forEach((function(r,u){var h=t.addGroup({id:\"item-group-\"+r.key,data:r,class:\"item-group\",attrs:{cursor:\"pointer\"}}),p=h.addShape(\"rect\",{id:\"item-background-\"+r.key,class:\"item-background\",attrs:Object(P.__assign)(Object(P.__assign)({x:e,y:i,width:c+s,height:a+l},o.itemBackgroundStyle),{cursor:\"pointer\"})});p.name=\"breadcrumb\";var f=h.addShape(\"text\",{id:\"item-text-\"+r.key,class:\"item-text\",attrs:Object(P.__assign)(Object(P.__assign)({x:e+c,y:i+a,text:r.text},o.textStyle),{cursor:\"pointer\"})});f.name=\"breadcrumb\";var d=f.getBBox();n=o.itemHeight||d.height;var g=o.itemWidth||d.width;o.maxItemWidth&&(g=Math.min(g,o.maxItemWidth));var y={x:e,y:i,width:g+c+s,height:n+a+l};if(p.attr(\"width\",y.width),p.attr(\"height\",y.height),h.setClip({type:\"rect\",attrs:y}),e+=y.width,u!==o.items.length-1){var m=t.addShape(\"text\",{attrs:Object(P.__assign)({x:e,y:i+a,text:o.separator},o.separatorStyle),class:\"separator\"});e+=m.getBBox().width}})),u.attr({width:e,height:n+a+l})},e.prototype.bindEvents=function(t){var e=this,i=this.items,n=t.get(\"children\").filter((function(t){return\"item-group\"===t.get(\"class\")})),o=function(t,n,o){return function(){var t=n.get(\"data\"),r=i.find((function(e){return e.key===t}));e.emit(o,{item:r})}};n.forEach((function(t){var i=o(0,t,\"onItemClick\"),n=o(0,t,\"onItemDblclick\"),r=e.onItemGroupToggleActive(t,!0),a=e.onItemGroupToggleActive(t,!1);t.on(\"click\",i),t.on(\"dblclick\",n),t.on(\"mouseenter\",r),t.on(\"mouseleave\",a),e.listeners.push({target:t,event:\"click\",callback:i}),e.listeners.push({target:t,event:\"dblclick\",callback:n}),e.listeners.push({target:t,event:\"mouseenter\",callback:r}),e.listeners.push({target:t,event:\"mouseleave\",callback:a})}))},e.prototype.offEvents=function(){this.listeners&&this.listeners.forEach((function(t){var e=t.target,i=t.event,n=t.callback;e.off(i,n)})),this.listeners=[]},e}(function(t){function e(e){var i=t.call(this)||this;return i.container=e.container,i.destroyed=!1,i.group=i.container.addGroup(),i.config=e,i.init(e),i}return Object(P.__extends)(e,t),e.prototype.getGroup=function(){return this.group},e.prototype.getBBox=function(){return this.getGroup().getBBox()},e.prototype.render=function(){this.renderInner(this.group),this.getCanvas().draw()},e.prototype.update=function(t){this.config=Object(P.__assign)(Object(P.__assign)({},this.config),t),this.init(Object(P.__assign)(Object(P.__assign)({},this.config),{config:t})),this.group.clear(),this.renderInner(this.group),this.getCanvas().draw()},e.prototype.destroy=function(){this.group.remove(!0),this.destroyed=!0},e.prototype.getCanvas=function(){return this.container.get(\"canvas\")},e.prototype.init=function(t){},e.prototype.renderInner=function(t){},e}(E.a)),pa=[1,0,0,0,1,0,0,0,1],fa=400,da=\"easeQuadInOut\";function ga(t,e,i){var n=ba(t),o=va(e),r=o.width/n.width,a=o.height/n.height,s=ca([[\"s\",r,a],[\"t\",(o.minX-n.minX)*r,(o.minY-n.minY)*a]]),l=e.geometries[0];xa(l);var c=e.backgroundGroup.addGroup();c.set(\"zIndex\",-100),c.setClip({type:\"rect\",attrs:{x:o.minX,y:o.minY,width:o.width,height:o.height}});var u=ya(l,c);l.container.set(\"visible\",!1),e.canvas.draw(),i(),window.setTimeout((function(){Object(F.each)(u,(function(t,i){0===i?t.animate({matrix:s},fa,da,(function(){c.remove(),e.canvas.draw()})):t.animate(ca,fa)})),xa(l=e.geometries[0]);var t=l.getShapes();Object(F.each)(t,(function(t){t.attr(\"opacity\",0),t.animate({opacity:1},fa,da)}));var i=l.container;i.stopAnimate(),i.set(\"visible\",!0),i.attr(\"matrix\",Object(F.clone)(pa)),function(t,e){var i=tt.transform([1,0,0,0,1,0,0,0,1],e);t.setMatrix(i)}(i,[[\"s\",n.width/o.width,n.height/o.height],[\"t\",n.minX,n.minY]]);var r=Object(F.clone)(pa);l.container.animate({matrix:r},fa,da,(function(){Oa(l)})),e.canvas.draw()}),16)}function ya(t,e){var i=t.getShapes(),n=[];return Object(F.each)(i,(function(t){var i=e.addShape(\"path\",{attrs:Object(F.deepMix)({},t.attrs,{capture:!1})});n.push(i)})),n}function ma(t,e,i){var n=e.geometries[0];xa(n);var o=n.container;o.attr(\"matrix\",Object(F.clone)(pa));var r=e.backgroundGroup.addGroup();r.set(\"zIndex\",-100);var a=ya(n,r);o.set(\"visible\",!1),e.canvas.draw(),i(),xa(n=e.geometries[0]),o=n.container;var s=ba(function(t,e){var i;return Object(F.each)(t,(function(t){t.get(\"origin\").data.name===e&&(i=t)})),i}(n.getShapes(),t)),l=va(e);o.get(\"parent\").get(\"clipShape\")||o.setClip({type:\"rect\",attrs:{x:l.minX,y:l.minY,width:l.width,height:l.height}}),function(t,e,i,n){var o=i.width/n.width,r=i.height/n.height,a=ca([[\"s\",o,r],[\"t\",i.minX,i.minY]]);t.animate({matrix:a},fa,da,(function(){t.remove()})),Object(F.each)(e,(function(t){t.animate({opacity:0},fa,da)}))}(r,a,s,l);var c=l.width/s.width,u=l.height/s.height,h=ca([[\"s\",c,u],[\"t\",(l.minX-s.minX)*c,(l.minY-s.minY)*u]]);o.setMatrix(h),o.set(\"visible\",!0),o.animate({matrix:pa},fa,da,(function(){Oa(n)}))}function va(t){var e=t.coordinateBBox;return{minX:e.minX,minY:e.minY,centerX:(e.maxX-e.minX)/2,centerY:(e.maxY-e.minY)/2,width:e.width,height:e.height}}function ba(t){var e=t.attr(\"path\"),i=e[0][1],n=e[0][2],o=e[1][1],r=e[2][2];return{minX:i,minY:r,centerX:(o-i)/2,centerY:(n-r)/2,width:Math.abs(o-i),height:Math.abs(n-r)}}function xa(t){t.labelsContainer.set(\"visible\",!1)}function Oa(t){t.labelsContainer.set(\"visible\",!0)}var ja=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.getInteractionRange=function(t,e){var i,n=(void 0===(i=e)&&(i={}),Object(P.__assign)({x:0,y:0,startNode:{name:\"root\"},itemWidth:100,itemHeight:30,padding:[0,0,0,0]},i)),o=n.padding,r=o[0],a=o[1];if(t)return new G(t.minX,t.maxY-n.itemHeight-r-a,t.width,n.itemHeight+r+a)},e.prototype.start=function(t){var e=this,i=t.data.data;i.children&&(this.parentNode={color:t.target.attr(\"fill\"),shape:t.target,data:{name:Object(F.clone)(this.currentNode.name),value:Object(F.clone)(this.currentNode.value)},depth:Object(F.clone)(this.currentDepth)},this.currentDepth++,ga(t.target,this.view,(function(){e.update(i)})))},e.prototype.update=function(t){Object(F.hasKey)(this.cache,t.name)||(this.cache[t.name]=t);var e=this.plot.getTreemapData(t,t.depth);this.view.changeData(e),this.adjustScale(this.currentDepth),this.currentNode=t,this.render()},e.prototype.render=function(){if(this.breadcrumb){var t=this.getItems();this.breadcrumb.update({items:t}),this.layout()}else this.initGeometry(),this.cache={},this.saveOriginMapping(),this.container=this.plot.canvas.addGroup(),this.startNode||(this.startNode={name:\"root\"}),\"root\"===this.startNode.name?(this.startNodeName=Object(F.hasKey)(this.plot.options.data,\"name\")?this.plot.options.data.name:\"root\",this.currentNode=this.plot.options.data,this.currentDepth=1):(this.startNodeName=this.startNode.name,this.currentNode=this.startNode),this.y=this.view.coordinateBBox.maxY+10,this.breadcrumb=new ha({container:this.container,x:0,y:this.y,items:this.getItems()}),this.breadcrumb.render(),this.plot.canvas.draw(),this.layout();this.onInteraction()},e.prototype.clear=function(){},e.prototype.layout=function(){var t=this.container.getBBox().width,e=(this.plot.width-t)/2;this.breadcrumb.update({x:e,y:this.y})},e.prototype.getItems=function(){var t=[];if(this.currentNode.name&&this.currentNode.name===this.startNodeName){var e=this.getRootItem();t.push(e)}else{t=[];var i=[];this.findParent(this.currentNode,i),t.push(this.getRootItem()),Object(F.each)(i,(function(e,i){t.push({key:String(i+2),text:e.name,data:e})})),t.push({key:String(i.length+2),text:this.currentNode.name,data:this.currentNode})}return t},e.prototype.findParent=function(t,e){t.parent&&(Object(F.hasKey)(this.cache,t.parent.name)?e.push(this.cache[t.parent.name]):e.push(t.parent),this.findParent(t.parent,e))},e.prototype.onInteraction=function(){var t=this;this.container.on(\"click\",(function(e){var i=e.target.get(\"parent\");if(i&&\"item-group\"===i.get(\"class\")){var n=i.get(\"data\");if(n.data)if(n.text===t.startNodeName){t.currentDepth-1===1?ma(t.currentNode.name,t.view,(function(){t.updateRoot(n)})):t.updateRoot(n),t.currentDepth=1}else{if(t.currentNode===n.data)return;var o=Object(F.clone)(t.currentDepth);t.currentDepth=parseInt(n.key),o-1===t.currentDepth?ma(t.currentNode.name,t.view,(function(){t.update(n.data)})):t.update(n.data)}}}))},e.prototype.getRootItem=function(){var t=this.plot.options.data;return{key:\"1\",text:Object(F.hasKey)(t,\"name\")?t.name:\"root\",data:this.plot.rootData}},e.prototype.saveOriginMapping=function(){var t=this.plot.options,e={field:t.colorField,values:t.colors};this.originMapping=e},e.prototype.adjustScale=function(t){var e=this.view;if(this.mapping&&Object(F.hasKey)(this.mapping,String(t))){if((n=Object(F.clone)(this.mapping[t])).values&&Object(F.isFunction)(n.values)){var i=n.values(this.parentNode,this.currentNode);n.values=i}this.view.geometries[0].color(n.field,n.values)}else{var n=Object(F.clone)(this.originMapping);this.view.geometries[0].color(n.field,n.values)}e.render()},e.prototype.initGeometry=function(){this.geometry=this.view.geometries[0];var t=this.view.viewBBox;this.geometry.container.setClip({type:\"rect\",attrs:{x:t.minX,y:t.minY,width:t.width,height:t.height}})},e.prototype.updateRoot=function(t){this.view.changeData(t.data),this.adjustScale(1),this.currentNode=this.plot.options.data,this.render()},e}(no),Ma=ja;no.registerInteraction(\"drilldown\",ja);var wa={drilldown:Ma},_a=X({Rect:\"polygon\",Breadcrumb:\"breadcrumb\"});Object(F.assign)(R,_a);function Ca(t,e,i,n){for(var o=n.addShape(\"text\",{attrs:{text:\"...\",x:0,y:0,fontSize:e}}),r=o.getBBox().width,a=n.addShape(\"text\",{attrs:{text:\"\",x:0,y:0,fontSize:e}}),s=\"\",l=i-r,c=0;c<t.length;c++){var u=t[c];if(a.attr(\"text\",s+=u),a.getBBox().width>=l){var h=s.substr(0,s.length-1);if(h.length>0)return h+\"...\"}}return a.remove(),o.remove(),s}var Sa=function(){function t(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=Object(F.deepMix)(e,t,{}),this.init()}return t.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on(\"beforerender\",(function(){t.clear(),t.plot.canvas.draw()}))},t.prototype.render=function(){var t=this,e=this.getGeometry().elements;Object(F.each)(e,(function(e){var i=e.shape,n=i.get(\"origin\").data,o=function(t,e){return!t.children||t.depth>=e}(n,t.plot.options.maxLevel);if(n.showLabel){var r=Object(F.clone)(t.options.style),a=t.getPosition(i,o),s=t.options.formatter,l=s?s(n.name):n.name,c=t.getTextBaseLine(o),u=t.container.addShape(\"text\",{attrs:Object(F.deepMix)({},r,{x:a.x,y:a.y,text:l,fill:\"black\",textAlign:\"center\",textBaseline:c,fontWeight:o?300:600}),name:\"label\"});t.adjustLabel(u,i,o)}}))},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.hide=function(){this.container.set(\"visible\",!1),this.plot.canvas.draw()},t.prototype.show=function(){this.container.set(\"visible\",!0),this.plot.canvas.draw()},t.prototype.destory=function(){this.container&&this.container.remove(),this.destroyed=!0},t.prototype.getBBox=function(){},t.prototype.getPosition=function(t,e){var i=t.getBBox(),n=0,o=0;return e?(n=i.minX+i.width/2,o=i.minY+i.height/2):(n=i.x+i.width/2,o=i.y+4),{x:n,y:o}},t.prototype.getTextBaseLine=function(t){return t?\"middle\":\"top\"},t.prototype.adjustLabel=function(t,e,i){i?this.adjustLeafLabel(t,e):this.adjustParentLabel(t,e)},t.prototype.adjustLeafLabel=function(t,e){var i=e.getBBox(),n=t.getBBox(),o=Object(F.clone)(t.attr(\"text\")),r=Math.max(t.attr(\"fontSize\")-2,8),a=i.x+i.width/2,s=i.y+i.height/2;t.attr({x:a,y:s,textAlign:\"center\",textBaseline:\"middle\",lineHeight:r,fontSize:r});var l=i.width-8;if(n.width>i.width&&n.height>i.height)t.attr(\"text\",\"\");else if(l<r)t.attr(\"text\",\"\");else if(n.width>i.width){var c=function(t,e,i){var n=t.attr(\"fontSize\"),o=t.attr(\"text\"),r=i.addShape(\"text\",{attrs:{text:\"\",x:0,y:0,fontSize:n}}),a=o.split(\"\\n\").map((function(t){for(var i=\"\",n=t.split(\"\"),o=[],a=0;a<n.length;a++){var s=n[a];if(r.attr(\"text\",i+=s),r.getBBox().width-1>e){if(0===a)break;o.push(a),i=\"\"}}return Ke(n,o)}));return r.remove(),a.join(\"\\n\")}(t,l,this.container);if(t.attr({lineHeight:t.attr(\"fontSize\"),text:c}),t.getBBox().height>i.height){var u=Ca(o,r,l,this.container);t.attr(\"text\",u)}}},t.prototype.adjustParentLabel=function(t,e){var i=e.getBBox().width-8;if(t.getBBox().width>i){var n=Ca(t.attr(\"text\"),t.attr(\"fontSize\"),i,this.container);t.attr(\"text\",n)}},t.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,style:Object(F.clone)(t)}},t.prototype.getGeometry=function(){return Object(F.find)(this.view.geometries,(function(t){return\"polygon\"===t.type}))},t}(),ka=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"treemap\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{maxLevel:2,padding:[0,0,0,0],tooltip:{visible:!1,showTitle:!1,showCrosshairs:!1,showMarkers:!1,shared:!1},legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},xField:\"x\",yField:\"y\",label:{visible:!0,adjustPosition:!0,style:{stroke:\"rgba(0,0,0,0)\",lineWidth:0,fontSize:12}},meta:{x:{nice:!1},y:{nice:!1}},interactions:[{type:\"tooltip\"}]})},e.prototype.beforeInit=function(){var e=this;t.prototype.beforeInit.call(this);var i=this.options.interactions;i&&Object(F.each)(i,(function(t){\"drilldown\"===t.type&&(e.isDrilldown=!0,e.options.maxLevel=1)}));var n=this.options.data,o=this.getTreemapData(n);this.rootData=o},e.prototype.afterRender=function(){(t.prototype.afterRender.call(this),this.options.label&&this.options.label.visible)&&new Sa(Object(P.__assign)({view:this.view,plot:this},this.options.label)).render()},e.prototype.geometryParser=function(t,e){return\"polygon\"},e.prototype.getTreemapData=function(t,e){var i=this.getViewRange(),n=la(t,i.x,i.y,i.width,i.height);this.recursive(n,1);var o=[];return this.getAllNodes(n,o,e),o.sort((function(t,e){return t.depth-e.depth})),this.options.xField=\"x\",this.options.yField=\"y\",o},e.prototype.processData=function(){return this.rootData},e.prototype.coord=function(){},e.prototype.addGeometry=function(){var t=this,e=this.options,i=e.data,n=e.colorField,o=e.color,r=this.getTreemapData(i);this.rootData=r;var a=this.isNested(r);this.rect={type:\"polygon\",position:{fields:[\"x\",\"y\"]},color:{fields:[n],values:o},style:{fields:[\"depth\"],callback:function(e){var i=t.adjustStyleByDepth(e,a);return Object(F.deepMix)({},i,t.options.rectStyle)}},tooltip:{fields:[\"name\",\"value\"]}},this.setConfig(\"geometry\",this.rect)},e.prototype.applyInteractions=function(){var t=this,e=this.options.interactions,i=this.view.interactions;Object(F.each)(e,(function(e){var n=wa[e.type];if(n){var o=new n(Object(F.deepMix)({},{view:t.view,plot:t,startEvent:\"polygon:click\"},e.cfg,n.getInteractionRange(t.layerBBox,e.cfg)));i[e.type]=o}}))},e.prototype.animation=function(){t.prototype.animation.call(this),this.isDrilldown&&(this.rect.animate=!1)},e.prototype.parseEvents=function(e){t.prototype.parseEvents.call(this,f)},e.prototype.recursive=function(t,e){var i=this,n=this.options.colorField;Object(F.each)(t,(function(t){Object(F.each)(t.children,(function(o){if(o.depth=e,e>1&&(o.parent=t),Object(F.hasKey)(o,n)||(o[n]=t[n]),o.showLabel=!0,!i.isLeaf(o)){var r=Math.abs(o.y1-o.y0),a=i.getLabelHeight(),s=r/2>a?a:4;o.showLabel=4!==s;var l=la(o,o.x0+4,o.y0+s,o.x1-4,o.y1-4);i.fillColorField(l,n,o[n]),i.recursive(l,o.depth+1)}}))}))},e.prototype.getAllNodes=function(t,e,i){var n=this,o=i||this.options.maxLevel,r=this.getViewRange();Object(F.each)(t,(function(t){Object(F.hasKey)(t,\"x0\")&&t.depth<=o&&e.push(Object(P.__assign)(Object(P.__assign)({},t),{x:[t.x0,t.x1,t.x1,t.x0],y:[r.height-t.y1,r.height-t.y1,r.height-t.y0,r.height-t.y0]})),Object(F.hasKey)(t,\"children\")&&n.getAllNodes(t.children,e)}))},e.prototype.fillColorField=function(t,e,i){Object(F.each)(t,(function(t){Object(F.hasKey)(t,e)||(t[e]=i)}))},e.prototype.getLabelHeight=function(){var t=this.options.label,e=this.getPlotTheme().label.style.fontSize,i=0;if(t&&t.visible){var n=t.style;i=n&&n.fontSize?n.fontSize:e}return i+8},e.prototype.isLeaf=function(t){return!t.children||0===t.children.length},e.prototype.isNested=function(t){if(1===this.options.maxLevel)return!1;for(var e=!1,i=0;i<t.length;i++)if(t[i].children){e=!0;break}return e},e.prototype.adjustStyleByDepth=function(t,e){var i=this.options.maxLevel;return e?1===t?{lineWidth:1,stroke:\"black\",opacity:t/i}:{lineWidth:1,stroke:\"rgba(0,0,0,0.3)\",opacity:t/i}:{lineWidth:1,stroke:\"rgba(0,0,0,0.9)\",opacity:.9}},e}(ko),Aa=ka;To(\"treemap\",ka);var La=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"treemap\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=Aa.getDefaultOptions,e}(Io),Ba=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"step-line\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{step:\"hv\"})},e}(na);To(\"step-line\",Ba);var Da=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"step-line\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=Ba.getDefaultOptions,e}(Io),Ta=i(\"9f2G\");function Pa(t,e){var i=[],n=t.get(\"origin\").points;return Object(F.each)(n,(function(t){i.push(e.convertPoint(t))})),i}var Ia=function(){function t(t){Object(F.deepMix)(this,this.constructor.getDefaultOptions(t),t),this._init()}return t.getDefaultOptions=function(t){var e=t.transpose;return{visible:!0,size:e?32:80,spacing:e?8:12,offset:e?32:0,arrow:{visible:!0,headSize:12,style:{fill:\"rgba(0, 0, 0, 0.05)\"}},value:{visible:!0,style:{fontSize:12,fill:\"rgba(0, 0, 0, 0.85)\"},formatter:function(t,e){return(100*e/t).toFixed(2)+\"%\"}},animation:Object(F.deepMix)({},Ta.DEFAULT_ANIMATE_CFG)}},t.prototype._init=function(){var t=this,e=this.view.backgroundGroup;this.container=e.addGroup(),this.draw(),this.view.on(\"beforerender\",(function(){t.clear()}))},t.prototype.draw=function(){var t,e,i,n,o=this,r=this.transpose,a=this.view.getScaleByField(this.field).values,s=this.view.geometries[0].getShapes();r?s.forEach((function(t,r){e=a[r],r++>0&&o._drawTag(i,n,t,e),n=e,i=t})):s.forEach((function(i,r){n=a[r],r++>0&&o._drawTag(i,n,t,e),e=n,t=i}))},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.destory=function(){this.container&&this.container.remove()},t.prototype._drawTag=function(t,e,i,n){var o=this.transpose,r=this.view.geometries[0].coordinate,a=Pa(t,r)[o?3:0],s=Pa(i,r)[o?0:3];this._drawTagArrow(a,s),this._drawTagValue(a,e,s,n)},t.prototype._drawTagArrow=function(t,e){var i,n=this.spacing,o=this.size,r=this.offset,a=this.animation,s=this.transpose,l=this.arrow.headSize,c=e.y-t.y,u=e.x-t.x;s?(u-l)/2<n?(n=Math.max(1,(u-l)/2),i=[[t.x+n,t.y-r],[t.x+n,t.y-r-o],[e.x-n,e.y-r-o/2]]):i=[[t.x+n,t.y-r],[t.x+n,t.y-r-o],[e.x-n-l,e.y-r-o],[e.x-n,e.y-r-o/2],[e.x-n-l,e.y-r]]:(c-l)/2<n?(n=Math.max(1,(c-l)/2),i=[[t.x+r,t.y+n],[t.x+r+o,t.y+n],[e.x+r+o/2,e.y-n]]):i=[[t.x+r,t.y+n],[t.x+r+o,t.y+n],[e.x+r+o,e.y-n-l],[e.x+r+o/2,e.y-n],[e.x+r,e.y-n-l]];var h=this.container.addShape(\"polygon\",{name:\"arrow\",attrs:Object(P.__assign)(Object(P.__assign)({},this.arrow.style),{points:i})});!1!==a&&this._fadeInTagShape(h)},t.prototype._drawTagValue=function(t,e,i,n){var o=this.size,r=this.offset,a=this.animation,s=this.transpose,l=this.value.formatter(e,n),c=this.container.addShape(\"text\",{name:\"value\",attrs:Object(P.__assign)(Object(P.__assign)({},this.value.style),{text:l,x:s?(t.x+i.x)/2:t.x+r+o/2,y:s?t.y-r-o/2:(t.y+i.y)/2,textAlign:\"center\",textBaseline:\"middle\"})});if(s){var u=i.x-t.x,h=c.getBBox().width;if(h>u){var p=h/l.length,f=Math.max(1,Math.ceil(u/p)-1),d=l.slice(0,f)+\"...\";c.attr(\"text\",d)}}!1!==a&&this._fadeInTagShape(c)},t.prototype._fadeInTagShape=function(t){var e=this.animation,i=t.attr(\"opacity\");t.attr(\"opacity\",0);var n=Object(F.get)(e,\"appear\",Ta.DEFAULT_ANIMATE_CFG.appear).duration;t.animate({opacity:i},n)},t}();var Ea={preRender:[],afterRender:[{name:\"responsiveAxis\",method:function(t){var e=t.getResponsiveTheme(),i=t.canvas;new qr({plot:t,responsiveTheme:e,dim:\"x\"}),new qr({plot:t,responsiveTheme:e,dim:\"y\"}),i.draw()}}]};function Fa(t){var e=[];return e.push(parseInt(t.substr(1,2),16)),e.push(parseInt(t.substr(3,2),16)),e.push(parseInt(t.substr(5,2),16)),e}function Ra(t,e){var i;return Object(F.each)(t,(function(t){var n=t;e>=n.from&&e<n.to&&(i=n.color)})),i}var Ya=function(){function t(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=Object(F.deepMix)(e,t,{}),this.init()}return t.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on(\"beforerender\",(function(){t.clear(),t.plot.canvas.draw()}))},t.prototype.render=function(){var t=this,e=this.getGeometry(),i=e.elements,n=e.coordinate;this.coord=n,Object(F.each)(i,(function(e){var i=e.shape,n=Object(F.clone)(t.options.style),o=t.getValue(i),r=t.getPosition(i,o),a=t.getTextAlign(o),s=t.getTextColor(i);\"right\"!==t.options.position&&t.options.adjustColor&&\"black\"!==s&&(n.stroke=null);var l=t.options.formatter,c=l?l(o):o,u=t.container.addShape(\"text\",{attrs:Object(F.deepMix)({},n,{x:r.x,y:r.y,text:c,fill:s,textAlign:a,textBaseline:\"middle\"}),name:\"label\"});t.adjustLabel(u,i)}))},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.hide=function(){this.container.set(\"visible\",!1),this.plot.canvas.draw()},t.prototype.show=function(){this.container.set(\"visible\",!0),this.plot.canvas.draw()},t.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},t.prototype.getBBox=function(){},t.prototype.getPosition=function(t,e){var i,n=this.getShapeBbox(t),o=n.minX,r=n.maxX,a=n.minY,s=n.height,l=n.width,c=this.options,u=c.offsetX,h=c.offsetY,p=c.position,f=e<0?-1:1;\"left\"===p?i=(e>0?o:r)+u*f:i=\"right\"===p?r+u*f:o+l/2+u;return{x:i,y:a+s/2+h}},t.prototype.getTextColor=function(t){if(this.options.adjustColor&&\"right\"!==this.options.position){var e=t.attr(\"fill\"),i=t.attr(\"opacity\")?t.attr(\"opacity\"):1,n=Fa(e);return Ra([{from:0,to:85,color:\"white\"},{from:85,to:170,color:\"#F6F6F6\"},{from:170,to:255,color:\"black\"}],Math.round(.299*n[0]+.587*n[1]+.114*n[2])/i)}return this.options.style.fill},t.prototype.getTextAlign=function(t){var e=this.options.position;return t<0?{right:\"right\",left:\"right\",middle:\"center\"}[e]:{right:\"left\",left:\"left\",middle:\"center\"}[e]},t.prototype.getValue=function(t){return t.get(\"origin\").data[this.plot.options.xField]},t.prototype.adjustLabel=function(t,e){if(this.options.adjustPosition&&\"right\"!==this.options.position){var i=t.getBBox(),n=e.getBBox();if(n.width<=i.width){var o=n.maxX+this.options.offsetX;t.attr(\"x\",o),t.attr(\"fill\",this.options.style.fill)}}},t.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:8,offsetY:0,style:Object(F.clone)(t),adjustPosition:!0}},t.prototype.getShapeBbox=function(t){var e=this,i=[];return Object(F.each)(t.get(\"origin\").points,(function(t){i.push(e.coord.convertPoint(t))})),new G(i[0].x,i[2].y,Math.abs(i[1].x-i[0].x),Math.abs(i[0].y-i[2].y))},t.prototype.getGeometry=function(){var t,e=this.view.geometries;return Object(F.each)(e,(function(e){\"interval\"===e.type&&(t=e)})),t},t}();Object(F.assign)(R,{onBarClick:\"interval:click\",onBarDblclick:\"interval:dblclick\",onBarMousemove:\"interval:mousemove\",onBarMouseenter:\"interval:mouseenter\",onBarMouseleave:\"interval:mouseleave\",onBarMousedown:\"interval:mousedown\",onBarMouseup:\"interval:mouseup\",onBarContextmenu:\"interval:contextmenu\"});xo(\"bar\",{columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1)}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:\"black\"}}});var Na={bar:\"interval\"},za={interval:\"bar\"},Ha=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"bar\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},title:{visible:!0},label:{visible:!1},tickLine:{visible:!1},grid:{visible:!1}},yAxis:{visible:!0,autoRotateTitle:!0,nice:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!0},title:{visible:!1,offset:12}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!0,position:\"left\",adjustColor:!0},legend:{visible:!1,position:\"top-left\"},interactions:[{type:\"tooltip\"},{type:\"active-region\"},{type:\"legend-active\"},{type:\"legend-filter\"}],conversionTag:{visible:!1}})},e.prototype.beforeInit=function(){t.prototype.beforeInit.call(this);var e=this.options;e.responsive&&\"auto\"!==e.padding&&this.applyResponsive(\"preRender\")},e.prototype.afterRender=function(){var e=this.options;this.renderLabel(),e.responsive&&\"auto\"!==e.padding&&this.applyResponsive(\"afterRender\"),e.conversionTag.visible&&(this.conversionTag=new Ia(Object(P.__assign)({view:this.view,field:e.xField,animation:!1!==e.animation},e.conversionTag))),t.prototype.afterRender.call(this)},e.prototype.geometryParser=function(t,e){return\"g2\"===t?Na[e]:za[e]},e.prototype.processData=function(t){var e=t?t.slice().reverse():t,i=this.options.yField,n=[];return Object(F.each)(e,(function(t){var e=Object(F.clone)(t);e[i]=e[i].toString(),n.push(e)})),n},e.prototype.scale=function(){var e=this.options,i={};i[e.yField]={type:\"cat\"},Object(F.has)(e,\"yAxis\")&&er(i[e.yField],e.yAxis),i[e.xField]={},Object(F.has)(e,\"xAxis\")&&er(i[e.xField],e.xAxis),this.setConfig(\"scales\",i),t.prototype.scale.call(this)},e.prototype.coord=function(){this.setConfig(\"coordinate\",{actions:[[\"transpose\"]]})},e.prototype.axis=function(){var t=to(\"axis\",{plot:this,dim:\"x\"}),e=to(\"axis\",{plot:this,dim:\"y\"});t&&(t.position=\"left\"),e&&(e.position=\"bottom\");var i={};i[this.options.xField]=t,i[this.options.yField]=e,this.setConfig(\"axes\",i)},e.prototype.adjustBar=function(t){},e.prototype.addGeometry=function(){var t=this.options,e=tr(\"interval\",\"main\",{positionFields:[t.yField,t.xField],plot:this});t.conversionTag.visible&&this.setConfig(\"theme\",Object(F.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustBar(e),this.bar=e,this.setConfig(\"geometry\",e)},e.prototype.animation=function(){t.prototype.animation.call(this),!1===this.options.animation&&(this.bar.animate=!1)},e.prototype.parseEvents=function(e){t.prototype.parseEvents.call(this,d)},e.prototype.renderLabel=function(){var t=this.config.scales[this.options.yField];this.options.label&&this.options.label.visible&&new Ya(Object(P.__assign)({view:this.view,plot:this,formatter:t.formatter},this.options.label)).render()},e.prototype.applyResponsive=function(t){var e=this,i=Ea[t];Object(F.each)(i,(function(t){t.method(e)}))},e.prototype.getLabelOptionsByPosition=function(t){return\"middle\"===t?{offset:0}:\"left\"===t?{offset:7,style:{stroke:null,lineWidth:0}}:\"right\"===t?{offset:4}:void 0},e}(ko),Xa=Ha;To(\"bar\",Ha);var Ga=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"bar\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=Xa.getDefaultOptions,e}(Io),Va=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:8,offsetY:0,style:Object(F.clone)(t),adjustPosition:!0}},e.prototype.adjustLabel=function(t,e){if(this.options.adjustPosition){var i=t.getBBox();this.getShapeBbox(e).width<=i.width&&t.attr(\"text\",\"\")}},e}(Ya),Wa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"stackedBar\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,offset:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,offset:12}},legend:{visible:!0,position:\"top-left\",offsetY:0}})},e.prototype.adjustBar=function(t){t.adjust=[{type:\"stack\"}]},e.prototype.renderLabel=function(){var t=this.config.scales[this.options.yField];this.options.label&&this.options.label.visible&&new Va(Object(P.__assign)({view:this.view,plot:this,formatter:t.formatter},this.options.label)).render()},e}(Xa),qa=Wa;To(\"stackedBar\",Wa);var Ua=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"stackedBar\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=qa.getDefaultOptions,e}(Io),$a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"groupedBar\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{xAxis:{visible:!0,grid:{visible:!0}},yAxis:{visible:!0,title:{visible:!1}},label:{visible:!0,position:\"right\",offset:8,adjustColor:!0},legend:{visible:!0,position:\"right-top\",offsetY:0}})},e.prototype.afterRender=function(){t.prototype.afterRender.call(this);var e=Object(F.valuesOfKey)(this.options.data,this.options.groupField);this.view.on(\"tooltip:change\",(function(t){for(var i=t.items,n=Object(F.clone)(i),o=0;o<e.length;o++)for(var r=e[o],a=0;a<n.length;a++){var s=n[a];s.name===r&&(t.items[o]=s)}}))},e.prototype.scale=function(){var e={};e[this.options.groupField]={values:Object(F.valuesOfKey)(this.options.data,this.options.groupField)},this.options.meta?this.options.meta=Object(F.deepMix)({},this.options.meta,e):this.options.meta=e,t.prototype.scale.call(this)},e.prototype.adjustBar=function(t){t.adjust=[{type:\"dodge\",marginRatio:.1}]},e}(Xa),Za=$a;To(\"groupedBar\",$a);var Ka=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"groupedBar\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=Za.getDefaultOptions,e}(Io),Qa=function(t,e,i){var n=Object(F.groupBy)(t,e);n=Object(F.mapValues)(n,(function(t){return Object(F.map)(t,(function(t){return Object(F.map)(i,(function(e){return t[e]}))}))})),n=Object(F.mapValues)(n,F.flatten),n=Object(F.mapValues)(n,(function(t){return Object(F.map)(t,(function(t){var e=Number.parseFloat(t);return!Object(F.isNumber)(e)||isNaN(e)?0:e}))}));var o=Object(F.mapValues)(n,(function(t){return Object(F.reduce)(t,(function(t,e){return t+e}),0)})),r=Object(F.map)(t,(function(t){var n=Object(P.__assign)(Object(P.__assign)({},t),{_origin:t,total:o[t[e]]});return Object(F.each)(i,(function(i){n[i]=t[i]/o[t[e]]})),n}));return Object(F.each)(Object(F.groupBy)(r,e),(function(t){var e=0;Object(F.each)(t,(function(n,o){Object(F.each)(i,(function(r,a){(e+n[r]>=1||o===t.length-1&&a===i.length-1)&&(n[r]=1-e),e+=n[r]}))}))})),r},Ja=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"percentStackedBar\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},grid:{visible:!1},title:{visible:!0,formatter:function(t){return t+\" (%)\"}},label:{visible:!1,formatter:function(t){return t.replace(/%/gi,\"\")}}}})},e.prototype.processData=function(e){var i=this.options,n=i.xField,o=i.yField,r=t.prototype.processData.call(this,e);return Qa(r,o,[n])},e.prototype.scale=function(){var e={},i=this.options.xField;e[i]={tickCount:6,alias:i+\" (%)\",min:0,max:1,formatter:function(t){return(100*t).toFixed(1)+\"%\"}},this.options.meta=e,t.prototype.scale.call(this)},e}(qa),ts=Ja;To(\"percentStackedBar\",Ja);var es=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"percentStackedBar\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=ts.getDefaultOptions,e}(Io);var is,ns=function(){function t(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=Object(F.deepMix)(e,t,{}),this.options.leftStyle||(this.options.leftStyle=this.options.style),this.options.rightStyle||(this.options.rightStyle=this.options.style),this.init()}return t.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on(\"beforerender\",(function(){t.clear(),t.plot.canvas.draw()}))},t.prototype.render=function(){var t=this,e=this.getGeometry(),i=e.elements,n=e.coordinate;this.coord=n,Object(F.each)(i,(function(e){var i=e.shape,n=t.getPosition(i),o=t.getValue(i),r=t.getTextAlign(),a=[];Object(F.each)(n,(function(e,n){var s=0===n?t.options.leftStyle:t.options.rightStyle,l=t.getTextColor(i,n);\"inner\"===t.options.position&&t.options.adjustColor&&\"black\"!==l&&(s.stroke=null);var c=t.options.formatter,u=c?c(o[n]):o[n],h=t.container.addShape(\"text\",{attrs:Object(F.deepMix)({},s,{x:e.x,y:e.y,text:u,fill:l,textAlign:r[n],textBaseline:\"middle\"}),name:\"label\"});a.push(h),t.doAnimation(h)})),i.set(\"labelShapes\",a),t.adjustPosition(a[0],a[1],i)})),this.plot.canvas.draw()},t.prototype.hide=function(){this.container.set(\"visible\",!1),this.plot.canvas.draw()},t.prototype.show=function(){this.container.set(\"visible\",!0),this.plot.canvas.draw()},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.destory=function(){this.container&&this.container.remove(),this.destroyed=!0},t.prototype.getBBox=function(){},t.prototype.getShapeBbox=function(t){var e=this,i=[];return Object(F.each)(t.get(\"origin\").points,(function(t){i.push(e.coord.convertPoint(t))})),new G(i[0].x,i[1].y,Math.abs(i[2].x-i[0].x),Math.abs(i[0].y-i[1].y))},t.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{position:\"outer\",offsetX:8,offsetY:0,style:Object(F.clone)(t),adjustColor:!0,adjustPosition:!0}},t.prototype.getPosition=function(t){var e,i,n=this.getShapeBbox(t),o=n.minX,r=n.maxX,a=n.minY,s=n.height,l=(n.width,this.options),c=l.offsetX,u=a+s/2+l.offsetY;return\"outer\"===this.options.position?(e=o-c,i=r+c):(e=o+c,i=r-c),[{x:e,y:u},{x:i,y:u}]},t.prototype.getValue=function(t){var e=this.plot.options.xField;return t.get(\"origin\").data[e]},t.prototype.getTextAlign=function(){return\"outer\"===this.options.position?[\"right\",\"left\"]:[\"left\",\"right\"]},t.prototype.getTextColor=function(t,e){if(this.options.adjustColor&&\"inner\"===this.options.position){var i=t.attr(\"fill\"),n=t.attr(\"opacity\")?t.attr(\"opacity\"):1,o=Fa(i);return function(t,e){var i;return Object(F.each)(t,(function(t){var n=t;e>=n.from&&e<n.to&&(i=n.color)})),i}([{from:0,to:85,color:\"white\"},{from:85,to:170,color:\"#F6F6F6\"},{from:170,to:255,color:\"black\"}],Math.round(.299*o[0]+.587*o[1]+.114*o[2])/n)}return 0===e?this.options.leftStyle.fill:this.options.rightStyle.fill},t.prototype.doAnimation=function(t){this.plot.animation&&!1===this.plot.animation||(t.attr(\"fillOpacity\",0),t.attr(\"strokeOpacity\",0),t.stopAnimate(),t.animate({fillOpacity:1,strokeOpacity:1},800,\"easeLinear\",500))},t.prototype.adjustPosition=function(t,e,i){var n=i.get(\"origin\"),o=n.x[0],r=n.x[1],a=Math.abs(r-o),s=this.view.coordinateBBox,l=[t.getBBox(),e.getBBox()],c=t.attr(\"x\"),u=e.attr(\"x\");if(this.options.adjustPosition&&\"inner\"===this.options.position){var h=l[0].width+l[1].width;(l[0].maxX-l[1].minX>2||h>a)&&(c=o-this.options.offsetX,t.attr(\"fill\",this.options.leftStyle.fill),t.attr(\"textAlign\",\"right\"),l[0]=t.getBBox(),u=r+this.options.offsetX,e.attr(\"fill\",this.options.rightStyle.fill),e.attr(\"textAlign\",\"left\"),l[1]=e.getBBox())}l[0].minX<s.minX&&(c=s.minX+8,t.attr(\"textAlign\",\"left\")),t.attr(\"x\",c),e.attr(\"x\",u),this.plot.canvas.draw()},t.prototype.getGeometry=function(){return Object(F.find)(this.view.geometries,(function(t){return\"interval\"===t.type}))},t}();function os(t,e){var i=t.getBBox(),n=i.minX+i.width/2;t.setClip({type:\"rect\",attrs:{x:n,y:i.minY,width:0,height:i.height}}),t.get(\"clipShape\").animate({width:i.width,x:i.minX},e.duration,e.easing,(function(){t.setClip(null)}),e.delay)}function rs(t,e){var i=function(t){var e,i=t.id;return Object(F.each)(is,(function(t){t.id===i&&(e=t)})),e}(t).attr(\"path\"),n=Object(F.clone)(t.attr(\"path\"));t.attr(\"path\",i),t.animate({path:n},e.duration,e.easing,e.callback,100)}os.animationName=\"clipInFromCenter\",rs.animationName=\"updateFromCenter\",Object(U.registerAnimation)(\"clipInFromCenter\",os),Object(U.registerAnimation)(\"updateFromCenter\",rs);var as=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"rangeBar\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)(t.getDefaultOptions.call(this),{label:{visible:!0,position:\"outer\"},xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,offset:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,offset:12}}},{})},e.prototype.afterRender=function(){this.renderLabel();var e=[],i=this.view.geometries;Object(F.each)(i,(function(t){var i=t.elements;Object(F.each)(i,(function(t){e.push(t.shape)}))})),is=e,t.prototype.afterRender.call(this)},e.prototype.renderLabel=function(){this.options.label&&this.options.label.visible&&new ns(Object(P.__assign)({view:this.view,plot:this},this.options.label)).render()},e.prototype.animation=function(){t.prototype.animation.call(this),this.bar.animate={appear:{animation:\"clipInFromCenter\",duration:600},update:{animation:\"updateFromCenter\",duration:600}}},e}(Xa),ss=as;To(\"rangeBar\",as);var ls=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"rangeBar\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=ss.getDefaultOptions,e}(Io);var cs={preRender:[],afterRender:[{name:\"responsiveAxis\",method:function(t){var e=t.getResponsiveTheme(),i=t.canvas;new qr({plot:t,responsiveTheme:e,dim:\"x\"}),new qr({plot:t,responsiveTheme:e,dim:\"y\"}),i.draw()}}]};Object(F.assign)(R,{onAreaClick:\"area:click\",onAreaDblclick:\"area:dblclick\",onAreaMousemove:\"area:mousemove\",onAreaMouseenter:\"area:mouseenter\",onAreaMouseleave:\"area:mouseleave\",onAreaMousedown:\"area:mousedown\",onAreaMouseup:\"area:mouseup\",onAreaContextmenu:\"area:contextmenu\",onLineClick:\"line:click\",onLineDblclick:\"line:dblclick\",onLineMousemove:\"line:mousemove\",onLineMouseenter:\"line:mouseenter\",onLineMouseleave:\"line:mouseleave\",onLineMousedown:\"line:mousedown\",onLineMouseup:\"line:mouseup\",onLineContextmenu:\"line:contextmenu\",onPointClick:\"point:click\",onPointDblclick:\"point:dblclick\",onPointMousemove:\"point:mousemove\",onPointMouseenter:\"point:mouseenter\",onPointMouseleave:\"point:mouseleave\",onPointMousedown:\"point:mousedown\",onPointMouseup:\"point:mouseup\",onPointContextmenu:\"point:contextmenu\"});xo(\"area\",{areaStyle:{normal:{},active:function(t){return{opacity:t.opacity||1}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:\"#333333\"}},lineStyle:{normal:{},active:function(t){return{opacity:t.opacity||1}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:function(t){return{lineWidth:(t.lineWidth||1)+2}}},pointStyle:{normal:{},active:function(t){var e=t.fill||t.fillStyle,i=t.size||t.radius;return{radius:i+1,shadowBlur:i,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:1}},disable:function(t){return{opacity:.5*(t.opacity||t.fillOpacity||1)}},selected:function(t){var e=t.fill||t.fillStyle,i=t.size||t.radius;return{radius:i+2,shadowBlur:i,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:2}}}});var us={area:\"area\",line:\"line\",point:\"point\"},hs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"area\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{smooth:!1,areaStyle:{opacity:.25},line:{visible:!0,size:2,style:{opacity:1,lineJoin:\"round\",lineCap:\"round\"}},point:{visible:!1,size:4,shape:\"point\"},label:{visible:!1,type:\"point\"},legend:{visible:!0,position:\"top-left\",wordSpacing:4},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:\"x\"},offset:20}})},e.prototype.beforeInit=function(){t.prototype.beforeInit.call(this),this.options.responsive&&\"auto\"!==this.options.padding&&this.applyResponsive(\"preRender\")},e.prototype.afterRender=function(){this.options.responsive&&\"auto\"!==this.options.padding&&this.applyResponsive(\"afterRender\"),t.prototype.afterRender.call(this)},e.prototype.geometryParser=function(t,e){return us[e]},e.prototype.scale=function(){var e=this.options,i={};i[e.xField]={type:\"cat\"},Object(F.has)(e,\"xAxis\")&&er(i[e.xField],e.xAxis),i[e.yField]={},Object(F.has)(e,\"yAxis\")&&er(i[e.yField],e.yAxis),this.setConfig(\"scales\",i),t.prototype.scale.call(this)},e.prototype.coord=function(){},e.prototype.addGeometry=function(){var t=this.options,e=tr(\"area\",\"main\",{plot:this});this.area=e,t.label&&this.label(),this.adjustArea(e),this.setConfig(\"geometry\",e),this.addLine(),this.addPoint()},e.prototype.adjustArea=function(t){},e.prototype.adjustLine=function(t){},e.prototype.adjustPoint=function(t){},e.prototype.addLine=function(){var t=this.options,e=Object(F.deepMix)({},t.line);if(e.visible){var i=tr(\"line\",\"guide\",{type:\"line\",plot:this,line:e});this.adjustLine(i),this.setConfig(\"geometry\",i),this.line=i}},e.prototype.addPoint=function(){var t=this.options;if(Object(F.deepMix)({},t.point).visible){var e=tr(\"point\",\"guide\",{plot:this});this.adjustPoint(e),this.setConfig(\"geometry\",e),this.point=e}},e.prototype.animation=function(){t.prototype.animation.call(this),!1===this.options.animation&&(this.area.animate=!1,this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},e.prototype.label=function(){var t=this.options;if(!1===t.label.visible)return this.line&&(this.line.label=!1),void(this.area.label=!1);this.area.label=to(\"label\",{fields:[t.yField],plot:this})},e.prototype.parseEvents=function(e){t.prototype.parseEvents.call(this,g)},e.prototype.applyResponsive=function(t){var e=this,i=cs[t];Object(F.each)(i,(function(t){t.method(e)}))},e}(ko),ps=hs;To(\"area\",hs);var fs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"area\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=ps.getDefaultOptions,e}(Io),ds=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.getShapeInfo=function(t){var e=t.get(\"origin\").points,i=e[e.length-1],n=t.attr(\"stroke\"),o=this.plot.options.stackField,r=t.get(\"origin\").data[0][o],a=Object(F.reduce)(i.y,(function(t,e){return t+e}),0)/Object(F.size)(i.y);return{x:i.x,y:a,color:n,name:r}},e}(Kr);function gs(t,e,i){var n=e[0],o=e[e.length-1];Object(F.each)(e,(function(e){if(e.x===t)return e.y[i];e.x<t&&e.x>n.x&&(n=e),e.x>t&&e.x<o.x&&(o=e)}));var r=(t-n.x)/(o.x-n.x);return n.y[i]*(1-r)+o.y[i]*r}function ys(t,e){var i;for(i=0;i<t.length;i++){var n=t[i];if(n.x===e||n.x>e)break}return i}var ms={lineLabel:{Ctr:ds},areaLabel:{Ctr:function(){function t(t){this.destroyed=!1,this.scaleFactor=[],this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=Object(F.deepMix)(e,t,{}),this.init()}return t.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on(\"beforerender\",(function(){t.clear(),t.plot.canvas.draw()}))},t.prototype.render=function(){var t=this,e=this.plot.options.stackField,i=this.getGeometry().dataArray,n=[];Object(F.each)(i,(function(e,i){var o=t.drawLabel(e,i);o&&(n.push(Object(F.deepMix)({},e[0],o)),t.scaleFactor.push(o.scaleFactor))}));var o=[];Object(F.each)(n,(function(i,n){var r=t.options,a=r.style,s=r.offsetX,l=r.offsetY,c=t.getFontSize(n),u=t.options.formatter,h=u?u(i._origin[e]):i._origin[e],p=t.container.addShape(\"text\",{attrs:Object(F.deepMix)({},a,{x:i.x+s,y:i.y+l,text:h,fill:i.color,fontSize:c,textAlign:\"center\",textBaseline:\"top\"}),name:\"label\"});o.push(p)})),this.plot.canvas.draw()},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.hide=function(){this.container.set(\"visible\",!1),this.plot.canvas.draw()},t.prototype.show=function(){this.container.set(\"visible\",!0),this.plot.canvas.draw()},t.prototype.destory=function(){this.container&&this.container.remove(),this.destroyed=!0},t.prototype.getBBox=function(){},t.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=Object(F.clone)(t.label.style);return e.stroke=null,{offsetX:0,offsetY:0,style:e,autoScale:!0}},t.prototype.drawLabel=function(t,e){var i=function(t){var e=-1/0,i=1/0,n=-1/0;return Object(F.each)(t,(function(t){i=Math.min(t.x,i),n=Math.max(t.x,n);var o=Math.abs(t.y[0]-t.y[1]);e=Math.max(e,o)})),{xRange:[i,n],maxHeight:e}}(t),n=i.xRange,o=i.maxHeight,r=n[1]-n[0],a=this.getInterpolatedPoints(n[0],r,t),s=this.getLabelBbox(e),l={xRange:n,aspect:s.width/s.height,data:a,justTest:!0},c=this.bisection(12,o,this.testFit,l,.01,100);if(null!==c){l.justTest=!1;var u=this.testFit(l);return u.x=u.x,u.y=u.y0+(u.y1-u.y0)/2,u.scaleFactor=c/s.height*.2,u}},t.prototype.getInterpolatedPoints=function(t,e,i){for(var n=[],o=t;o<e;o+=2){var r=gs(o,i,0),a=gs(o,i,1);n.push({x:o,y:[r,a]})}return n},t.prototype.bisection=function(t,e,i,n,o,r){for(var a=0;a<r;a++){var s=(t+e)/2,l=n;l.height=s,l.width=s*l.aspect;var c=i(l);if(c&&(e-t)/2<o)return s;c?t=s:e=s}return null},t.prototype.testFit=function(t){for(var e=t.xRange,i=t.width,n=t.height,o=t.data,r=t.justTest,a=0;a<o.length;a++){var s=o[a].x,l=s+i;if(l>e[1])break;for(var c=ys(o,l),u=-1/0,h=null,p=1/0,f=a;f<c;f++){var d=o[f].y[1],g=o[f].y[0];if(g<p&&(p=g),d>u&&(u=d,h=g),p-u<n)break}if(p-u>=n)return!!r||{x:s,y0:u,y1:h,width:i,height:n}}return!1},t.prototype.getLabelBbox=function(t){var e=Object(F.clone)(this.plot.theme.label.textStyle);e.fontSize=12;var i=this.container.addShape(\"text\",{attrs:Object(P.__assign)({text:t,x:0,y:0},e)}),n=i.getBBox();return i.remove(),n},t.prototype.getGeometry=function(){return Object(F.find)(this.view.geometries,(function(t){return\"area\"===t.type}))},t.prototype.getFontSize=function(t){return this.options.autoScale?12*this.scaleFactor[t]:12},t}()}};var vs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.plotComponents=[],e.type=\"stackedArea\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{label:{visible:!1,type:\"area\"}})},e.prototype.beforeInit=function(){var e=Object(F.get)(this.options,[\"label\",\"visible\"]),i=Object(F.get)(this.options,[\"label\",\"type\"]),n=this.options;e&&(\"line\"===i&&(n.lineLabel=this.options.label),\"area\"===i&&(n.areaLabel=this.options.label)),t.prototype.beforeInit.call(this)},e.prototype.label=function(){},e.prototype.adjustArea=function(t){t.adjust=[{type:\"stack\"}]},e.prototype.adjustLine=function(t){t.adjust=[{type:\"stack\"}]},e.prototype.adjustPoint=function(t){t.adjust=[{type:\"stack\"}]},e.prototype.afterRender=function(){this.renderPlotComponents(),this.options.responsive=!1,t.prototype.afterRender.call(this)},e.prototype.renderPlotComponents=function(){var t=this;Object(F.each)([\"areaLabel\",\"lineLabel\"],(function(e){var i=Object(P.__assign)({view:t.view,plot:t},t.options[e]),n=function(t,e,i){if(t.options[e]&&t.options[e].visible){var n=ms[e],o=new n.Ctr(i);return n.padding&&t.paddingController.registerPadding(o,n.padding),o}}(t,e,i);n&&(n.render(),t.plotComponents.push(n))}))},e}(ps),bs=vs;To(\"stackedArea\",vs);var xs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"stackedArea\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=bs.getDefaultOptions,e}(Io),Os=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"percentStackedArea\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{yAxis:{visible:!0,label:{visible:!0,formatter:function(t){return t.replace(/%/gi,\"\")}}}})},e.prototype.processData=function(t){var e=this.options,i=e.xField,n=e.yField;return Qa(t,i,[n])},e.prototype.scale=function(){var e={},i=this.options.yField;e[this.options.yField]={tickCount:6,alias:i+\" (%)\",min:0,max:1,formatter:function(t){return(100*t).toFixed(1)+\"%\"}},this.options.meta=Object(F.deepMix)({},e,this.options.meta),t.prototype.scale.call(this)},e}(bs),js=Os;To(\"percentStackedArea\",Os);var Ms=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"percentStackedArea\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=js.getDefaultOptions,e}(Io);var ws=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.getType=function(){return!this.plot.column.label||this.plot.column.label.position&&\"top\"!==this.plot.column.label.position?\"inner\":\"top\"},e}(Ur);var _s={preRender:[],afterRender:[{name:\"responsiveAxis\",method:function(t){var e=t.getResponsiveTheme(),i=t.canvas;new qr({plot:t,responsiveTheme:e,dim:\"x\"}),new qr({plot:t,responsiveTheme:e,dim:\"y\"}),i.draw()}},{name:\"responsiveLabel\",method:function(t){var e=t.getResponsiveTheme();new ws({plot:t,responsiveTheme:e})}}]};wo(\"column\",{label:{top:{constraints:[{name:\"elementCollision\"}],rules:{elementCollision:[{name:\"nodeJitterUpward\"},{name:\"nodesResamplingByState\",option:{keep:[\"min\",\"max\",\"median\"]}},{name:\"textHide\"}]}}}});var Cs=function(){function t(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=Object(F.deepMix)(e,t,{}),this.init()}return t.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on(\"beforerender\",(function(){t.clear(),t.plot.canvas.draw()}))},t.prototype.render=function(){var t=this,e=this.getGeometry(),i=e.elements,n=e.coordinate;this.coord=n,Object(F.each)(i,(function(e){var i=e.shape,n=Object(F.clone)(t.options.style),o=t.getValue(i),r=t.getPosition(i,o),a=t.getTextAlign(o),s=t.getTextBaseLine(o),l=t.getTextColor(i);\"top\"!==t.options.position&&t.options.adjustColor&&\"black\"!==l&&(n.stroke=null);var c=t.options.formatter,u=c?c(o):o,h=t.container.addShape(\"text\",{attrs:Object(F.deepMix)({},n,{x:r.x,y:r.y,text:u,fill:l,textAlign:a,textBaseline:s}),name:\"label\"});t.adjustLabel(h,i)}))},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.hide=function(){this.container.set(\"visible\",!1),this.plot.canvas.draw()},t.prototype.show=function(){this.container.set(\"visible\",!0),this.plot.canvas.draw()},t.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},t.prototype.getBBox=function(){},t.prototype.getPosition=function(t,e){var i,n=this.getShapeBbox(t),o=n.minX,r=(n.maxX,n.minY),a=n.maxY,s=n.height,l=n.width,c=this.options,u=c.offsetX,h=c.offsetY,p=c.position,f=e>0?-1:1;\"top\"===p?i=(e>0?r:a)+(h+8)*f:i=\"bottom\"===p?a+(h+8)*f:r+s/2+h;return{x:o+l/2+u,y:i}},t.prototype.getTextColor=function(t){if(this.options.adjustColor&&\"top\"!==this.options.position){var e=t.attr(\"fill\"),i=t.attr(\"opacity\")?t.attr(\"opacity\"):1,n=Fa(e);return Ra([{from:0,to:85,color:\"white\"},{from:85,to:170,color:\"#F6F6F6\"},{from:170,to:255,color:\"black\"}],Math.round(.299*n[0]+.587*n[1]+.114*n[2])/i)}return this.options.style.fill},t.prototype.getTextAlign=function(t){return\"center\"},t.prototype.getTextBaseLine=function(t){return\"middle\"===this.options.position?\"middle\":\"bottom\"},t.prototype.getValue=function(t){return t.get(\"origin\").data[this.plot.options.yField]},t.prototype.adjustLabel=function(t,e){if(this.options.adjustPosition&&\"top\"!==this.options.position){var i=t.getBBox(),n=e.getBBox();if(n.height<=i.height){var o=n.minY+this.options.offsetY-8;t.attr(\"y\",o),t.attr(\"textBaseline\",\"bottom\"),t.attr(\"fill\",this.options.style.fill)}}},t.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,style:Object(F.clone)(t),adjustPosition:!0}},t.prototype.getShapeBbox=function(t){var e=this,i=[];return Object(F.each)(t.get(\"origin\").points,(function(t){i.push(e.coord.convertPoint(t))})),new G(i[0].x,i[1].y,Math.abs(i[2].x-i[0].x),Math.abs(i[0].y-i[1].y))},t.prototype.getGeometry=function(){var t,e=this.view.geometries;return Object(F.each)(e,(function(e){\"interval\"===e.type&&(t=e)})),t},t}(),Ss=X({Column:\"interval\"});Object(F.assign)(R,Ss);xo(\"column\",{columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1)}},disable:function(t){var e=t.opacity||1;return{opacity:.5*e,fillOpacity:.5*e}},selected:{lineWidth:1,stroke:\"black\"}}});var ks={column:\"interval\"},As={interval:\"column\"},Ls=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"column\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},title:{visible:!0}},yAxis:{nice:!0,title:{visible:!0},label:{visible:!0},grid:{visible:!0}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!1,position:\"top\",adjustColor:!0},legend:{visible:!0,position:\"top-left\"},interactions:[{type:\"tooltip\"},{type:\"active-region\"},{type:\"legend-active\"},{type:\"legend-filter\"}],conversionTag:{visible:!1}})},e.prototype.beforeInit=function(){t.prototype.beforeInit.call(this),this.options.responsive&&\"auto\"!==this.options.padding&&this.applyResponsive(\"preRender\")},e.prototype.afterRender=function(){var e=this.options;this.renderLabel(),this.options.responsive&&\"auto\"!==this.options.padding&&this.applyResponsive(\"afterRender\"),e.conversionTag.visible&&(this.conversionTag=new Ia(Object(P.__assign)({view:this.view,field:e.yField,transpose:!0,animation:!1!==e.animation},e.conversionTag))),t.prototype.afterRender.call(this)},e.prototype.geometryParser=function(t,e){return\"g2\"===t?ks[e]:As[e]},e.prototype.processData=function(t){var e=this.options.xField,i=[];return Object(F.each)(t,(function(t){var n=Object(F.clone)(t);n[e]=n[e].toString(),i.push(n)})),i},e.prototype.scale=function(){var e=this.options,i={};i[e.xField]={type:\"cat\"},Object(F.has)(e,\"xAxis\")&&er(i[e.xField],e.xAxis),i[e.yField]={},Object(F.has)(e,\"yAxis\")&&er(i[e.yField],e.yAxis),this.setConfig(\"scales\",i),t.prototype.scale.call(this)},e.prototype.coord=function(){},e.prototype.adjustColumn=function(t){},e.prototype.addGeometry=function(){var t=this.options,e=tr(\"interval\",\"main\",{positionFields:[t.xField,t.yField],plot:this});t.conversionTag.visible&&this.setConfig(\"theme\",Object(F.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustColumn(e),this.column=e,this.setConfig(\"geometry\",e)},e.prototype.animation=function(){t.prototype.animation.call(this),!1===this.options.animation&&(this.column.animate=!1)},e.prototype.parseEvents=function(e){t.prototype.parseEvents.call(this,y)},e.prototype.renderLabel=function(){var t=this.config.scales[this.options.yField];this.options.label&&this.options.label.visible&&new Cs(Object(P.__assign)({view:this.view,plot:this,formatter:t.formatter},this.options.label)).render()},e.prototype.applyResponsive=function(t){var e=this,i=_s[t];Object(F.each)(i,(function(t){t.method(e)}))},e}(ko),Bs=Ls;To(\"column\",Ls);var Ds=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"column\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=Bs.getDefaultOptions,e}(Io),Ts=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"groupedColumn\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{yAxis:{title:{visible:!0}}})},e.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme(\"column\")},e.prototype.addGeometry=function(){t.prototype.addGeometry.call(this)},e.prototype.adjustColumn=function(t){t.adjust=[{type:\"dodge\",marginRatio:.1}]},e}(Bs),Ps=Ts;To(\"groupedColumn\",Ts);var Is=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"groupedColumn\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=Ps.getDefaultOptions,e}(Io);function Es(t,e){var i=[],n=t.get(\"origin\").points;return Object(F.each)(n,(function(t){i.push(e.convertPoint(t))})),i}var Fs=function(){function t(t){this.areas=[],this.lines=[],this._areaStyle={},this._lineStyle={},Object(F.assign)(this,t),this._init()}return t.prototype.draw=function(){var t=this,e=this._getGroupedShapes();Object(F.each)(e,(function(e,i){e.length>0&&t._drawConnection(e,i)})),this.triggerOn?this._addInteraction():this.animation&&this._initialAnimation()},t.prototype.clear=function(){this.container&&this.container.clear(),this.areas=[],this.lines=[]},t.prototype.destory=function(){this.container&&this.container.remove()},t.prototype.setState=function(t,e){\"active\"===t&&this._onActive(e),\"disabled\"===t&&this._onDisabled(e),\"selected\"===t&&this._onSelected(e)},t.prototype._init=function(){var t=this,e=this.view.backgroundGroup;this.container=e.addGroup(),this.draw(),this.view.on(\"beforerender\",(function(){t.clear()}))},t.prototype._getGroupedShapes=function(){var t=this,e=this.view.getScaleByField(this.field).values,i=this.view.geometries[0].getShapes(),n={};return Object(F.each)(e,(function(t){n[t]=[]})),Object(F.each)(i,(function(e){var i=e.get(\"origin\").data[t.field];n[i].push(e)})),n},t.prototype._drawConnection=function(t,e){var i=t[0].attr(\"fill\");this._areaStyle[e]=this._getShapeStyle(i,\"area\"),this._lineStyle[e]=this._getShapeStyle(i,\"line\");for(var n=this.view.geometries[0].coordinate,o=0;o<t.length-1;o++){var r=Es(t[o],n),a=Es(t[o+1],n),s=Object(F.mix)({},this._areaStyle[e]),l=Object(F.mix)({},this._lineStyle[e]);this.triggerOn&&(s.opacity=0,l.opacity=0);var c=this.container.addShape(\"path\",{attrs:Object(F.mix)({},s,{path:[[\"M\",r[2].x,r[2].y],[\"L\",a[1].x,a[1].y],[\"L\",a[0].x,a[0].y],[\"L\",r[3].x,r[3].y]]}),name:\"connectedArea\"}),u=this.container.addShape(\"path\",{attrs:Object(F.mix)({},l,{path:[[\"M\",r[2].x,r[2].y],[\"L\",a[1].x,a[1].y]]}),name:\"connectedArea\"}),h=t[o].get(\"origin\").data;c.set(\"data\",h),u.set(\"data\",h),this.areas.push(c),this.lines.push(u)}},t.prototype._getShapeStyle=function(t,e){var i=e+\"Style\";if(this[i])return this[i];var n={areaStyle:{opacity:.2},lineStyle:{lineWidth:2,opacity:.1}}[i],o={fill:t};return\"line\"===e&&(o={stroke:t}),Object(F.mix)(n,o)},t.prototype._addInteraction=function(){var t=this,e=this.triggerOn;this.view.on(\"interval:\"+e,(function(e){var i=e.target.get(\"origin\").data[t.field];t.setState(\"active\",{name:t.field,exp:i}),t.setState(\"disabled\",{name:t.field,exp:function(t){return t!==i}}),t.view.canvas.draw()})),this.view.on(\"mousemove\",(function(e){\"interval\"!==e.gEvent.target.get(\"name\")&&t.setState(\"disabled\",{name:t.field,exp:function(){return!0}})}))},t.prototype._initialAnimation=function(){var t=this.view.coordinateBBox,e=t.x,i=t.y,n=t.width,o=t.height;this.container.setClip({type:\"rect\",attrs:{x:e,y:i,width:0,height:o}}),this.container.set(\"animating\",!0),this.container.getClip().animate({width:n},600,\"easeQuadOut\",(function(){}),400)},t.prototype._onActive=function(t){var e=this;Object(F.each)(this.areas,(function(i){var n=i.get(\"data\"),o=n[e.field];if(Xn(n,t)){var r=e._areaStyle[o].opacity||1;i.stopAnimate(),i.animate({opacity:r},400,\"easeQuadOut\")}})),Object(F.each)(this.lines,(function(i){var n=i.get(\"data\"),o=n[e.field];if(Xn(n,t)){var r=e._lineStyle[o].opacity||1;i.stopAnimate(),i.animate({opacity:r},400,\"easeQuadOut\")}}))},t.prototype._onDisabled=function(t){Object(F.each)(this.areas,(function(e){Xn(e.get(\"data\"),t)&&(e.stopAnimate(),e.animate({opacity:0},400,\"easeQuadOut\"))})),Object(F.each)(this.lines,(function(e){Xn(e.get(\"data\"),t)&&(e.stopAnimate(),e.animate({opacity:0},400,\"easeQuadOut\"))}))},t.prototype._onSelected=function(t){this._onActive(t)},t.prototype.getGeometry=function(){return Object(F.find)(this.view.geometries,(function(t){return\"interval\"===t.type}))},t}(),Rs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,style:Object(F.clone)(t),adjustPosition:!0}},e.prototype.adjustLabel=function(t,e){if(this.options.adjustPosition){var i=t.getBBox();this.getShapeBbox(e).height<=i.height&&t.attr(\"text\",\"\")}},e}(Cs),Ys=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"stackedColumn\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{legend:{visible:!0,position:\"right-top\"},label:{visible:!1,position:\"middle\",offset:0,adjustColor:!0},connectedArea:{visible:!1,triggerOn:\"mouseenter\"}})},e.prototype.init=function(){this.options.connectedArea.visible&&(this.options.tooltip.crosshairs=null),t.prototype.init.call(this)},e.prototype.afterRender=function(){var e=this.options;e.connectedArea.visible&&(this.connectedArea=new Fs(Object(P.__assign)({view:this.view,field:e.stackField,animation:!1!==e.animation},e.connectedArea))),t.prototype.afterRender.call(this)},e.prototype.adjustColumn=function(t){t.adjust=[{type:\"stack\"}]},e.prototype.renderLabel=function(){var t=this.config.scales[this.options.yField];this.options.label&&this.options.label.visible&&new Rs(Object(P.__assign)({view:this.view,plot:this,formatter:t.formatter},this.options.label)).render()},e}(Bs),Ns=Ys;To(\"stackedColumn\",Ys);var zs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"stackedColumn\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=Ns.getDefaultOptions,e}(Io);var Hs,Xs=function(){function t(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=Object(F.deepMix)(e,t,{}),this.options.topStyle||(this.options.topStyle=this.options.style),this.options.bottomStyle||(this.options.bottomStyle=this.options.style),this.init()}return t.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on(\"beforerender\",(function(){t.clear(),t.plot.canvas.draw()}))},t.prototype.render=function(){var t=this,e=this.getGeometry(),i=e.coordinate,n=e.elements;this.coord=i,Object(F.each)(n,(function(e){var i=e.shape,n=t.getPosition(i),o=t.getValue(i),r=t.getTextBaseline(),a=[];Object(F.each)(n,(function(e,n){var s=1===n?t.options.topStyle:t.options.bottomStyle,l=t.getTextColor(i,n);\"inner\"===t.options.position&&t.options.adjustColor&&\"black\"!==l&&(s.stroke=null);var c=t.options.formatter,u=c?c(o[n]):o[n],h=t.container.addShape(\"text\",{attrs:Object(F.deepMix)({},s,{x:e.x,y:e.y,text:u,fill:l,textAlign:\"center\",textBaseline:r[n]}),name:\"label\"});a.push(h),t.doAnimation(h)})),i.set(\"labelShapes\",a),t.adjustPosition(a[0],a[1],i)})),this.plot.canvas.draw()},t.prototype.hide=function(){this.container.set(\"visible\",!1),this.plot.canvas.draw()},t.prototype.show=function(){this.container.set(\"visible\",!0),this.plot.canvas.draw()},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.destory=function(){this.container&&this.container.remove(),this.destroyed=!0},t.prototype.getBBox=function(){},t.prototype.getShapeBbox=function(t){var e=this,i=[];return Object(F.each)(t.get(\"origin\").points,(function(t){i.push(e.coord.convertPoint(t))})),new G(i[0].x,i[1].y,Math.abs(i[2].x-i[0].x),Math.abs(i[0].y-i[1].y))},t.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{position:\"outer\",offsetX:0,offsetY:8,style:Object(F.clone)(t),adjustColor:!0,adjustPosition:!0}},t.prototype.getPosition=function(t){var e,i,n=this.getShapeBbox(t),o=n.minX,r=(n.maxX,n.minY),a=n.maxY,s=(n.height,n.width),l=this.options,c=(l.offsetX,l.offsetY),u=o+s/2;return\"outer\"===this.options.position?(e=r-c,i=a+c):(e=r+c,i=a-c),[{x:u,y:i},{x:u,y:e}]},t.prototype.getValue=function(t){var e=this.plot.options.yField;return t.get(\"origin\").data[e]},t.prototype.getTextBaseline=function(){return\"outer\"===this.options.position?[\"top\",\"bottom\"]:[\"bottom\",\"top\"]},t.prototype.getTextColor=function(t,e){if(this.options.adjustColor&&\"inner\"===this.options.position){var i=t.attr(\"fill\"),n=t.attr(\"opacity\")?t.attr(\"opacity\"):1,o=Fa(i);return function(t,e){var i;return Object(F.each)(t,(function(t){var n=t;e>=n.from&&e<n.to&&(i=n.color)})),i}([{from:0,to:85,color:\"white\"},{from:85,to:170,color:\"#F6F6F6\"},{from:170,to:255,color:\"black\"}],Math.round(.299*o[0]+.587*o[1]+.114*o[2])/n)}return 1===e?this.options.topStyle.fill:this.options.bottomStyle.fill},t.prototype.doAnimation=function(t){this.plot.animation&&!1===this.plot.animation||(t.attr(\"fillOpacity\",0),t.attr(\"strokeOpacity\",0),t.stopAnimate(),t.animate({fillOpacity:1,strokeOpacity:1},800,\"easeLinear\",500))},t.prototype.adjustPosition=function(t,e,i){var n=i.get(\"origin\"),o=n.y[1],r=n.y[0],a=i.getBBox(),s=(a.minX,a.maxX,a.minY,a.height),l=(a.width,s),c=this.view.coordinateBBox,u=[t.getBBox(),e.getBBox()],h=t.attr(\"y\"),p=e.attr(\"y\");if(this.options.adjustPosition&&\"inner\"===this.options.position){var f=u[0].height+u[1].height;(u[1].maxY-u[0].minY>2||f>l)&&(p=o-this.options.offsetY,e.attr(\"fill\",this.options.topStyle.fill),e.attr(\"textBaseline\",\"bottom\"),h=r+this.options.offsetY,t.attr(\"fill\",this.options.bottomStyle.fill),t.attr(\"textBaseline\",\"top\"),u[0]=t.getBBox(),u[1]=e.getBBox())}u[0].maxY>c.maxY-8&&(h=c.maxY-4,t.attr(\"textBaseline\",\"bottom\")),t.attr(\"y\",h),e.attr(\"y\",p),this.plot.canvas.draw()},t.prototype.getGeometry=function(){return Object(F.find)(this.view.geometries,(function(t){return\"interval\"===t.type}))},t}();function Gs(t,e){var i=t.getBBox(),n=i.minY+i.height/2;t.setClip({type:\"rect\",attrs:{x:i.minX,y:n,width:i.width,height:0}}),t.get(\"clipShape\").animate({height:i.height,y:i.minY},e.duration,e.easing,(function(){t.setClip(null)}),e.delay)}function Vs(t,e){var i=function(t){var e,i=t.id;return Object(F.each)(Hs,(function(t){t.id===i&&(e=t)})),e}(t).attr(\"path\"),n=Object(F.clone)(t.attr(\"path\"));t.attr(\"path\",i),t.animate({path:n},e.duration,e.easing,e.callback,100)}Gs.animationName=\"clipInFromCenterVertical\",Vs.animationName=\"updateFromCenterVertical\",Object(U.registerAnimation)(\"clipInFromCenterVertical\",Gs),Object(U.registerAnimation)(\"updateFromCenterVertical\",Vs);var Ws=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"rangeColumn\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)(t.getDefaultOptions.call(this),{label:{visible:!0,position:\"outer\"}},{})},e.prototype.afterRender=function(){this.renderLabel();var e=[],i=this.view.geometries;Object(F.each)(i,(function(t){var i=t.elements;Object(F.each)(i,(function(t){e.push(t.shape)}))})),Hs=e,t.prototype.afterRender.call(this)},e.prototype.extractLabel=function(){},e.prototype.animation=function(){t.prototype.animation.call(this),this.column.animate={appear:{animation:\"clipInFromCenterVertical\",duration:600},update:{animation:\"updateFromCenterVertical\",duration:600}}},e.prototype.renderLabel=function(){this.options.label&&this.options.label.visible&&new Xs(Object(P.__assign)({view:this.view,plot:this},this.options.label)).render()},e}(Bs),qs=Ws;To(\"rangeColumn\",Ws);var Us=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"rangeColumn\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=qs.getDefaultOptions,e}(Io),$s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"percentStackedColumn\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{label:{visible:!0,position:\"middle\",offset:0},yAxis:{visible:!0,tick:{visible:!1},grid:{visible:!1},title:{visible:!0},label:{visible:!1}}})},e.prototype.processData=function(t){var e=this.options,i=e.xField,n=e.yField;return Qa(t||[],i,[n])},e.prototype.scale=function(){var e={},i=this.options.yField;e[i]={tickCount:6,alias:i+\" (%)\",min:0,max:1,formatter:function(t){return(100*t).toFixed(1)+\"%\"}},this.options.meta=e,t.prototype.scale.call(this)},e}(Ns),Zs=$s;To(\"percentStackedColumn\",$s);var Ks=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"percentStackedColumn\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=Zs.getDefaultOptions,e}(Io),Qs=X({Pie:\"interval\"});function Js(t,e,i){return{x:t.x+i*Math.cos(e),y:t.y+i*Math.sin(e)}}function tl(t,e,i){return void 0===i&&(i=0),Math.max(0,Math.min(t.x+t.width+i,e.x+e.width+i)-Math.max(t.x-i,e.x-i))*Math.max(0,Math.min(t.y+t.height+i,e.y+e.height+i)-Math.max(t.y-i,e.y-i))}Object(F.assign)(R,Qs);var el=function(t,e,i){return void 0===i&&(i=Math.pow(Number.EPSILON,.5)),[t,e].includes(1/0)?Math.abs(t)===Math.abs(e):Math.abs(t-e)<i},il=document.createElement(\"canvas\").getContext(\"2d\"),nl=Object(F.memoize)((function(t,e){void 0===e&&(e={});var i=e.fontSize,n=e.fontFamily,o=e.fontWeight,r=e.fontStyle,a=e.fontVariant;return il.font=[r,a,o,i+\"px\",n].join(\" \"),il.measureText(Object(F.isString)(t)?t:\"\").width}),(function(t,e){return e?Object(P.__spreadArrays)([t],Object(F.values)(e)).join(\"\"):t}));var ol=function(){function t(t,e){this.destroyed=!1,this.plot=t,this.coordinateBBox=this.plot.view.coordinateBBox;var i=Object(F.deepMix)(this.getDefaultOptions(),e,{});this.adjustOption(i),this.options=i,this.init()}return t.prototype.adjustItem=function(t){},t.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.plot.view.on(\"beforerender\",(function(){t.clear(),t.plot.canvas.draw()}))},t.prototype.render=function(){this.clear(),this.initArcPoints(),this.drawTexts(),this.drawLines()},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.hide=function(){this.container.set(\"visible\",!1),this.plot.canvas.draw()},t.prototype.show=function(){this.container.set(\"visible\",!0),this.plot.canvas.draw()},t.prototype.destory=function(){this.container&&this.container.remove(),this.destroyed=!0},t.prototype.drawTexts=function(){var t=this,e=this.options,i=e.style,n=e.formatter,o=e.autoRotate,r=e.offsetX,a=e.offsetY,s=this.getItems(),l=[];s.map((function(e,o){var s=Object(F.deepMix)({},e,i),c=n?n(e.name,{_origin:e.origin},o):e.name,u=t.container.addGroup({name:\"itemGroup\",index:o}).addShape(\"text\",{attrs:Object(F.deepMix)({},s,{x:e.x+r,y:e.y+a,text:c})});u.set(\"id\",\"text-\"+e.name+\"-\"+o),l.push(u)})),l.forEach((function(e){var i=t.coordinateBBox;t.adjustText(e,i)})),this.layout(l,s,this.coordinateBBox),l.forEach((function(e,i){o&&t.rotateLabel(e,s[i].angle)}))},t.prototype.adjustText=function(t,e){var i=t.getBBox(),n=i.width;if(i.maxX>e.maxX?n=e.maxX-i.minX:i.minX<e.minX&&(n=i.maxX-e.minX),\"left\"===t.attr(\"textAlign\")?t.attr(\"x\",Math.max(i.x-0,0)):\"right\"===t.attr(\"textAlign\")&&t.attr(\"x\",Math.max(i.maxX-0,0)),n!==i.width){var o={};[\"fontSize\",\"fontFamily\",\"fontWeight\"].forEach((function(e){o[e]=t.attr(e)}));var r=t.attr(\"text\").split(\"\\n\").map((function(t){return function(t,e,i,n){var o,r=nl(\"...\",i);o=Object(F.isString)(t)?t:Object(F.toString)(t);var a,s,l=e,c=[];if(nl(t,i)<=e)return t;for(;a=o.substr(0,16),!((s=nl(a,i))+r>l&&s>l);)if(c.push(a),l-=s,!(o=o.substr(16)))return c.join(\"\");for(;a=o.substr(0,1),!((s=nl(a,i))+r>l);)if(c.push(a),l-=s,!(o=o.substr(1)))return c.join(\"\");return c.join(\"\")+\"...\"}(t,n,o)}));t.attr(\"text\",r.join(\"\\n\"))}},t.prototype.drawLines=function(){var t=this;if(this.options.line.visible){var e=this.container.get(\"children\"),i=this.getCoordinate().center;e.forEach((function(e,n){var o=e.get(\"children\")[0],r=t.arcPoints[n],a=r.x<i.x,s=t.options.offset>4?4:0,l=t.getLinePath(o,r,s),c=t.options.line;e.addShape(\"path\",{attrs:Object(P.__assign)({path:l,stroke:r.color},c)}),o.attr(\"x\",o.attr(\"x\")+(a?-s:s))}))}},t.prototype.getLinePath=function(t,e,i){var n=!!this.options.line&&this.options.line.smooth,o=e.angle,r=this.getCoordinate(),a=r.center,s=Js(a,o,r.radius+i);i<4&&(s=e);var l=e.x<a.x,c=t.getBBox(),u={x:l?c.maxX:c.minX,y:c.y+c.height/2},h=[\"C\",u.x+(l?1:-1)*(i<4?i/2:4),u.y,2*s.x-e.x,2*s.y-e.y,s.x,s.y],p=[\"L\",s.x,s.y],f=n?h:p;return[\"M\",u.x,u.y].concat(f).concat(\"L\",e.x,e.y).join(\",\")},t.prototype.getGeometry=function(){return this.plot.view.geometries[0]},t.prototype.getCoordinate=function(){var t=this.getGeometry().coordinate;return{center:t.getCenter(),radius:t.getRadius(),startAngle:t.startAngle}},t.prototype.adjustOption=function(t){var e,i=t.offset,n=this.getCoordinate().radius;Object(F.isString)(i)&&(i=n*(e=i,Number(e.endsWith(\"%\")?e.slice(0,-1):e)/100)),t.offset=i},t.prototype.rotateLabel=function(t,e){var i=t.attr(\"x\"),n=t.attr(\"y\"),o=Object(tt.transform)(t.getMatrix(),[[\"t\",-i,-n],[\"r\",rl(e)],[\"t\",i,n]]);t.setMatrix(o)},t.prototype.getItems=function(){var t=this,e=this.options.offset,i=this.getCoordinate(),n=i.center,o=i.radius;return this.arcPoints.map((function(i){var r=Js(n,i.angle,o+e),a=Object(P.__assign)(Object(P.__assign)({},i),r);return t.adjustItem(a),a}))},t.prototype.initArcPoints=function(){var t=this.plot.options.angleField,e=this.getGeometry().elements,i=this.getCoordinate(),n=i.center,o=i.radius,r=this.getCoordinate().startAngle,a=this.getGeometry().scales[t],s=e.map((function(e){var i=e.shape.get(\"origin\"),s=i.color,l=i.data[0]||i.data,c=r+2*Math.PI*a.scale(l[t]),u=(r+c)/2,h=Js(n,u,o);r=c;var p=\"\"+l[t],f=h.x>n.x?\"left\":\"right\";return{x:h.x,y:h.y,color:s,name:p,origin:l,angle:u,textAlign:f}}));this.arcPoints=s},t}();function rl(t){var e=180*t/Math.PI;return e<-90||e>180&&e<270?e+=180:e<180&&e>90&&(e=90-e),e/180*Math.PI}var al={inner:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.adjustOption=function(e){t.prototype.adjustOption.call(this,e),e.offset>0&&(e.offset=0)},e.prototype.adjustItem=function(t){t.textAlign=\"middle\"},e.prototype.drawLines=function(){},e.prototype.layout=function(t,e){var i=this;t.forEach((function(n,o){o>0&&Object(F.each)(t.slice(0,o),(function(t){i.resolveCollision(n,t,e[o])}))}))},e.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,offset:\"-30%\",style:Object(P.__assign)(Object(P.__assign)({},t),{textAlign:\"center\",textBaseline:\"middle\"})}},e.prototype.resolveCollision=function(t,e,i){var n=this.getCoordinate().center,o=i.angle,r=t.getBBox(),a=e.getBBox(),s={x:(r.minX+r.maxX)/2,y:(r.minY+r.maxY)/2},l=Object(F.clone)(s),c=Object(F.clone)(s);if(e.get(\"id\")!==t.get(\"id\")){var u=function(t,e,i){void 0===i&&(i=0);var n=Math.max(0,Math.min(t.x+t.width+i,e.x+e.width+i)-Math.max(t.x-i,e.x-i)),o=Math.max(0,Math.min(t.y+t.height+i,e.y+e.height+i)-Math.max(t.y-i,e.y-i));return n&&t.x<e.x&&(n=-n),o&&t.y<e.y&&(o=-o),t.x===e.x&&t.width===e.width&&(n=e.width),t.y===e.y&&t.height===e.height&&(o=e.height),{xOverlap:n,yOverlap:o}}(r,a),h=u.xOverlap,p=u.yOverlap;if(h&&(l.x=s.x+h,l.y=s.y+Math.tan(o)*h),p){var f=p;f=s.y<n.y?f<0?f:a.minY-r.maxY:f>0?f:a.maxY-r.minY,c.y=s.y+f,c.x=s.x+f/Math.tan(o)}var d=_n(s,l)<_n(s,c)?l:c;t.attr(\"x\",d.x),t.attr(\"y\",d.y)}},e}(ol),outer:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.adjustOption=function(e){t.prototype.adjustOption.call(this,e),e.offset<0&&(e.offset=0)},e.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,offset:12,style:Object(P.__assign)(Object(P.__assign)({},t),{textBaseline:\"middle\"})}},e.prototype.layout=function(t,e,i){var n=this,o=this.getCoordinate().center,r=Object(F.filter)(t,(function(t){return t.attr(\"x\")<=o.x}));[Object(F.filter)(t,(function(t){return t.attr(\"x\")>o.x})),r].forEach((function(t,e){n._antiCollision(t,!e,i)})),this.adjustOverlap(t,i)},e.prototype.adjustOverlap=function(t,e){var i=this;if(!this.options.allowOverlap){for(var n=1;n<t.length;n++)for(var o=t[n],r=0,a=n-1;a>=0;a--){var s=t[a],l=s.getBBox(),c=o.getBBox();if(s.get(\"parent\").get(\"visible\")&&(r=tl(l,c),!el(r,0))){o.get(\"parent\").set(\"visible\",!1);break}}t.forEach((function(t){return i.checkInPanel(t,e)}))}},e.prototype.checkInPanel=function(t,e){var i=t.getBBox();e.y<=i.y&&e.y+e.height>=i.y+i.height||t.get(\"parent\").set(\"visible\",!1)},e.prototype._antiCollision=function(t,e,i){var n=this,o=this.getLabelHeight(t),r=this.getCoordinate(),a=r.center,s=r.radius,l=this.options.offset,c=s+l,u=Math.min(i.height,Math.max(2*c+2*o,t.length*o)),h=Math.floor(u/o);this.options.allowOverlap||t.slice(h).forEach((function(t){t.get(\"parent\").set(\"visible\",!1)})),t.splice(h,t.length-h),t.sort((function(t,e){return t.getBBox().y-e.getBBox().y}));for(var p,f=!0,d=a.y+u/2,g=a.y-u/2,y=t.map((function(t){var e=t.getBBox();return e.maxY>d&&(d=Math.min(i.maxY,e.maxY)),e.minY<g&&(g=Math.max(i.minY,e.minY)),{text:t.attr(\"text\"),size:o,pos:e.y,targets:[]}})),m=0;m<y.length;)m===y.length-1?y[m].targets[0]=d:y[m].targets[0]=y[m+1].pos-y[m+1].size/2,m++;for(;f;)for(y.forEach((function(t){var e=Object(F.last)(t.targets);t.pos=Math.max(g,Math.min(t.pos,e-t.size))})),f=!1,p=y.length;p--;)if(p>0){var v=y[p-1],b=y[p];if(v.pos+v.size>b.pos){v.size+=b.size,v.targets=v.targets.concat(b.targets);var x=Object(F.last)(v.targets);v.pos+v.size>x&&(v.pos=x-v.size),y.splice(p,1),f=!0}else v.targets.splice(-1,1,b.pos)}p=0,y.forEach((function(e){var i=o/2;e.targets.forEach((function(){t[p].attr(\"y\",e.pos+i),i+=o,p++}))}));var O=[],j=[];t.forEach((function(t,e){var i=n.arcPoints[e];i.angle>=0&&i.angle<=Math.PI?j.push(t):O.push(t)})),[O,j].forEach((function(o,r){if(o.length){var u=r?Object(F.last)(o).getBBox().maxY-a.y:a.y-Object(F.head)(o).getBBox().minY;u=Math.max(c,u);var h=l>4?4:0,p=Math.max.apply(0,Object(F.map)(t,(function(t){return t.getBBox().width})))+l+h,f=Math.max(c,Math.min((u+c)/2,a.x-(i.minX+p))),d=f*f,g=u*u;o.forEach((function(t,i){var o=n.arcPoints[i],r=t.getBBox(),l=(r.minX,r.width,r.minY+r.height/2),c=Math.pow(l-a.y,2),u=Js(a,o.angle,s),p=(e?1:-1)*h*2;if(c>g)console.warn(\"\\u5f02\\u5e38(\\u4e00\\u822c\\u4e0d\\u4f1a\\u51fa\\u73b0)\",t.attr(\"text\")),t.attr(\"x\",u.x+p);else{var f=a.x+(e?1:-1)*Math.sqrt((1-c/g)*d);(a.x===u.x&&l===u.y||a.y===u.y&&f===u.x)&&(f=u.x),t.attr(\"x\",f+p)}}))}}))},e.prototype.getLabelHeight=function(t){return this.options.labelHeight?this.options.labelHeight:Object(F.head)(t)?Object(F.head)(t).getBBox().height:14},e}(ol),\"outer-center\":function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.adjustOption=function(e){t.prototype.adjustOption.call(this,e),e.offset<0&&(e.offset=0)},e.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,offset:12,style:Object(P.__assign)(Object(P.__assign)({},t),{textBaseline:\"middle\"})}},e.prototype.adjustItem=function(t){var e=this.options.offset;\"left\"===t.textAlign?t.x+=e>4?4:e/2:\"right\"===t.textAlign&&(t.x-=e>4?4:e/2)},e.prototype.layout=function(t,e,i){this.adjustOverlap(t,i)},e.prototype.adjustOverlap=function(t,e){var i=this;if(!this.options.allowOverlap){for(var n=1;n<t.length;n++)for(var o=t[n],r=0,a=n-1;a>=0;a--){var s=t[a],l=s.getBBox(),c=o.getBBox();if(s.get(\"parent\").get(\"visible\")&&(r=tl(l,c),!el(r,0))){o.get(\"parent\").set(\"visible\",!1);break}}t.forEach((function(t){return i.checkInPanel(t,e)}))}},e.prototype.checkInPanel=function(t,e){var i=t.getBBox();e.y<=i.y&&e.y+e.height>=i.y+i.height||t.get(\"parent\").set(\"visible\",!1)},e}(ol)};function sl(t){if(al[t])return al[t];console.warn(\"this label \"+t+\" is not registered\")}function ll(t,e,i){return{x:t.x+i*Math.cos(e),y:t.y+i*Math.sin(e)}}var cl=function(){function t(t){this.destroyed=!1,this.view=t.view,this.options=Object(F.deepMix)({},this.getDefaultOptions(),t),this._adjustOptions(this.options),this.init()}return t.prototype.init=function(){var t=this;this.container=this.view.geometries[0].labelsContainer,this.view.on(\"beforerender\",(function(){t.clear()}))},t.prototype.render=function(){var t=this;if(this.view&&!this.view.destroyed){var e=Object(F.clone)(this.view.getData());this.halves=[[],[]];var i=[],n=this.view.geometries[0].elements;Object(F.each)(n,(function(t){i.push(t.shape)})),this.coord=this.view.geometries[0].coordinate;var o=this.options.fields[0],r=this.view.getScalesByDim(\"y\")[o],a=this.coord.getCenter(),s=this.coord.startAngle,l=this.coord.polarRadius,c=this.view.coordinateBBox,u=c.width,h=c.height;this.width=u,this.height=h;for(var p=s,f=function(t){var n=e[t],s=r.scale(n[o]),c=p+2*Math.PI*s,u=p+(c-p)/2;p=c;var h=ll(a,u,l+0),f=ll(a,u,l+15),g=\"#CCC\";if(2===d.options.fields.length){var y=d.options.fields[1],m=d.view.geometries[0].scales[y].scale(n[y]),v=Math.floor(m*(i.length-1));g=i[v].attr(\"fill\")}var b={_anchor:h,_inflection:f,_data:n,x:f.x,y:f.y,r:l+15,fill:g,textGroup:null,_side:null},x=[];if(Object(F.each)(d.options.fields,(function(t){x.push(n[t])})),d.options.formatter){var O=d.options.formatter(n[o],{_origin:n,color:g},t);Object(F.isString)(O)&&(O=[O]),x=O}var j=d.container.addGroup(),M={x:0,y:0,fontSize:d.options.text.fontSize,lineHeight:d.options.text.fontSize,fontWeight:d.options.text.fontWeight,fill:d.options.text.fill},w=n[o];d.options.formatter&&(w=x[0]);var _=Object(F.clone)(M);(2===x.length&&(_.fontWeight=700),j.addShape(\"text\",{attrs:Object(F.mix)({textBaseline:2===x.length?\"top\":\"middle\",text:w},_),data:n,offsetY:2===x.length?2:0,name:\"label\"}).name=\"label\",2===x.length)&&(j.addShape(\"text\",{attrs:Object(F.mix)({textBaseline:\"bottom\",text:x[1]},M),data:n,offsetY:-2,name:\"label\"}).name=\"label\");b.textGroup=j,h.x<a.x?(b._side=\"left\",d.halves[0].push(b)):(b._side=\"right\",d.halves[1].push(b))},d=this,g=0;g<e.length;g++)f(g);var y=Math.floor(h/this.options.lineHeight);Object(F.each)(this.halves,(function(e){e.length>y&&e.splice(y,e.length-y),e.sort((function(t,e){return t.y-e.y})),t._antiCollision(e)})),this.view.canvas.draw()}},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.hide=function(){this.container.set(\"visible\",!1),this.view.canvas.draw()},t.prototype.show=function(){this.container.set(\"visible\",!0),this.view.canvas.draw()},t.prototype.destory=function(){this.container&&this.container.remove(),this.destroyed=!0},t.prototype.getDefaultOptions=function(){return{text:{fill:\"rgba(0, 0, 0, 0.65)\",fontSize:12},line:{lineWidth:.5,stroke:\"rgba(0, 0, 0, 0.45)\"},lineHeight:32,sidePadding:20}},t.prototype._antiCollision=function(t){var e,i=this,n=this.coord,o=n.getHeight(),r=n.center,a=n.getRadius(),s=r.y-a-15-this.options.lineHeight,l=!0,c=o,u=0,h=Number.MIN_VALUE,p=0,f=t.map((function(t){var e=t.y;e>u&&(u=e),e<h&&(h=e);var n=t.textGroup.getBBox().width;return n>=p&&(p=n),{size:i.options.lineHeight,targets:[e-s]}}));u-s>c&&(c=u-s);for(;l;)for(f.forEach((function(t){var e=(Math.min.apply(h,t.targets)+Math.max.apply(h,t.targets))/2;t.pos=Math.min(Math.max(h,e-t.size/2),c-t.size)})),l=!1,e=f.length;e--;)if(e>0){var d=f[e-1],g=f[e];d.pos+d.size>g.pos&&(d.size+=g.size,d.targets=d.targets.concat(g.targets),d.pos+d.size>c&&(d.pos=c-d.size),f.splice(e,1),l=!0)}e=0,f.forEach((function(n){var o=s;n.targets.forEach((function(){t[e].y=n.pos+o+i.options.lineHeight/2,o+=i.options.lineHeight,e++}))}));var y=[];t.forEach((function(t){var e=i._drawLabel(t);i._drawLabelLine(t,p,e),y.push(e)}))},t.prototype._drawLabel=function(t){var e=this.coord,i=e.getCenter(),n=e.getRadius(),o=(this.width,t.y),r=t.textGroup,a=r.get(\"children\"),s=\"left\"===t._side?1:-1,l={textAlign:\"left\"===t._side?\"right\":\"left\",x:\"left\"===t._side?i.x-n-this.options.sidePadding:i.x+n+this.options.sidePadding};return this.options.offsetX&&(l.x+=this.options.offsetX*s),a.forEach((function(t){var e=t.get(\"offsetY\"),i=o+e;t.attr(l),t.attr(\"y\",i)})),r},t.prototype._drawLabelLine=function(t,e,i){var n=[t._anchor.x,t._anchor.y],o=[t._inflection.x,t._inflection.y],r=(t.fill,t.y),a=t.textGroup;if(a){var s=[\"left\"===t._side?a.getBBox().maxX+4:a.getBBox().minX-4,r],l=[n,o,s];if(o[1]!==r)if(o[1]<r){var c=o,u=s[0]+e+15,h=s[0]-e-15,p=[\"left\"===t._side?u:h,o[1]],f=[\"left\"===t._side?s[0]+e:s[0]-e,s[1]];l=[n,c,p,f,s],(\"right\"===t._side&&p[0]<c[0]||\"left\"===t._side&&p[0]>c[0])&&(l=[n,f,s])}else l=[n,[o[0],r],s];for(var d=[],g=0;g<l.length;g++){var y=l[g],m=\"L\";0===g&&(m=\"M\"),d.push([m,y[0],y[1]])}i.addShape(\"path\",{attrs:{path:d,lineWidth:this.options.line.lineWidth,stroke:this.options.line.stroke}})}},t.prototype._adjustOptions=function(t){t.text.fontSize&&(t.lineHeight=3*t.text.fontSize)},t}();xo(\"pie\",{columnStyle:{normal:{},active:function(t){return{fillOpacity:.8*(t.opacity||1)}},disable:function(t){return{fillOpacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:\"black\"}}});var ul={pie:\"interval\"},hl={pie:\"column\"},pl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"pie\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:\"auto\",radius:.8,label:{visible:!0,type:\"inner\",autoRotate:!1,allowOverlap:!1,line:{visible:!0,smooth:!0}},legend:{visible:!0,position:\"right-center\"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},pieStyle:{stroke:\"white\",lineWidth:1}})},e.prototype.afterRender=function(){t.prototype.afterRender.call(this);var e=this.options;if(e.label&&e.label.visible){this.labelComponent&&this.labelComponent.clear();var i=e.label;if(\"spider\"===i.type)this.labelComponent=new cl(Object(P.__assign)({view:this.view,fields:e.colorField?[e.angleField,e.colorField]:[e.angleField]},this.options.label)),this.labelComponent.render();else{var n=sl(i.type);this.labelComponent=new n(this,e.label),this.labelComponent.render()}}},e.prototype.geometryParser=function(t,e){return\"g2\"===t?ul[e]:hl[e]},e.prototype.scale=function(){var t=this.options,e={};e[t.angleField]={},e[t.colorField]={type:\"cat\"},this.setConfig(\"scales\",e)},e.prototype.processData=function(t){var e=this.options.angleField;return t.map((function(t){var i;return Object(P.__assign)(Object(P.__assign)({},t),((i={})[e]=\"string\"===typeof t[e]?Number.parseFloat(t[e]):t[e],i))}))},e.prototype.axis=function(){},e.prototype.coord=function(){var t=this.options,e={type:\"theta\",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig(\"coordinate\",e)},e.prototype.addGeometry=function(){var t=this.options,e=tr(\"interval\",\"main\",{plot:this,positionFields:[1,t.angleField]});e.adjust=[{type:\"stack\"}],this.pie=e,t.label&&this.label(),this.setConfig(\"geometry\",e)},e.prototype.animation=function(){t.prototype.animation.call(this),!1===this.options.animation&&(this.pie.animate=!1)},e.prototype.annotation=function(){},e.prototype.parseEvents=function(e){t.prototype.parseEvents.call(this,m)},e.prototype.label=function(){this.pie.label=!1},e}(ko),fl=pl;To(\"pie\",pl);var dl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"pie\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=fl.getDefaultOptions,e}(Io),gl=function(t){function e(e){var i=t.call(this,e)||this;return i.type=\"heatmap\",i.paletteCache={},i.intensity=e.intensity,i.radius=e.radius,i}return Object(P.__extends)(e,t),e.prototype.createElements=function(t,e){void 0===e&&(e=!1);var i=this.prepareRange(t);return this.prepareSize(),this.prepareBlur(),this.prepareGreyScaleBlurredCircle(this.radius),this.drawWithRange(t,i),null},e.prototype.clear=function(){this.clearShadowCanvasCtx(),t.prototype.clear.call(this)},e.prototype.prepareRange=function(t){var e=this.getAttribute(\"color\").getFields()[0],i=1/0,n=-1/0;return t.forEach((function(t){var o=t._origin[e];o>n&&(n=o),o<i&&(i=o)})),i===n&&(i=n-1),[i,n]},e.prototype.prepareSize=function(){var t=this.radius;this.radius||(t=this.getDefaultValue(\"size\"),Object(F.isNumber)(t)||(t=this.getDefaultSize()),this.radius=t)},e.prototype.prepareBlur=function(){var t=Object(F.get)(this.styleOption,[\"style\",\"shadowBlur\"]);Object(F.isNumber)(t)||(t=this.radius/2),this.blur=t},e.prototype.getDefaultSize=function(){var t=this.getAttribute(\"position\"),e=this.coordinate;return Math.min(e.getWidth()/(4*t.scales[0].ticks.length),e.getHeight()/(4*t.scales[1].ticks.length))},e.prototype.colorize=function(t){for(var e=this.getAttribute(\"color\"),i=t.data,n=this.paletteCache,o=3;o<i.length;o+=4){var r=i[o];if(r){var a=void 0;n[r]?a=n[r]:(a=Fa(e.gradient(r/256)),n[r]=a),i[o-3]=a[0],i[o-2]=a[1],i[o-1]=a[2],i[o]=r}}},e.prototype.prepareGreyScaleBlurredCircle=function(t){var e=this.grayScaleCanvas;e||(e=document.createElement(\"canvas\"),this.grayScaleCanvas=e);var i=this.intensity?this.intensity:2,n=Math.sqrt(-2*Math.log(1/255/16/t/i/.3989422804014327))/3*t,o=n-t,r=n+o,a=e.getContext(\"2d\");e.width=e.height=2*r,a.clearRect(0,0,e.width,e.height),a.shadowOffsetX=a.shadowOffsetY=2*r,a.shadowBlur=o,a.shadowColor=\"black\",a.beginPath(),a.arc(-r,-r,t,0,2*Math.PI,!0),a.closePath(),a.fill()},e.prototype.drawGrayScaleBlurredCircle=function(t,e,i,n,o){var r=this.grayScaleCanvas;o.globalAlpha=n,o.drawImage(r,t-i,e-i)},e.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;t||(t=document.createElement(\"canvas\"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight();var e=t.getContext(\"2d\");return e.globalCompositeOperation=\"lighter\",e},e.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},e.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;t=this.container.addShape({type:\"image\",attrs:{}}),this.imageShape=t},e.prototype.drawWithRange=function(t,e){var i=this.coordinate,n=i.start,o=i.end,r=this.coordinate.getWidth(),a=this.coordinate.getHeight(),s=this.getAttribute(\"color\").getFields()[0];this.clearShadowCanvasCtx();var l=this.getShadowCanvasCtx();e&&(t=t.filter((function(t){return t._origin[s]<=e[1]&&t._origin[s]>=e[0]})));for(var c=this.scales[s],u=0;u<t.length;u++){var h=t[u],p=this.getDrawCfg(h),f=c.scale(h._origin[s]);this.drawGrayScaleBlurredCircle(p.x-n.x,p.y-o.y,this.radius+this.blur,f,l)}var d=l.getImageData(0,0,r,a);this.clearShadowCanvasCtx(),this.colorize(d),l.putImageData(d,0,0),(new Image).src=l.canvas.toDataURL(\"image/png\"),this.getImageShape(),this.imageShape.attr(\"x\",n.x),this.imageShape.attr(\"y\",o.y),this.imageShape.attr(\"width\",r),this.imageShape.attr(\"height\",a),this.imageShape.attr(\"img\",l.canvas),this.imageShape.set(\"origin\",this.getShapeInfo(t))},e.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return Object(P.__assign)(Object(P.__assign)({},e),{mappingData:t,data:this.getData(t)})},e.prototype.getData=function(t){return t.map((function(t){return t._origin}))},e}(U.Geometry);Object(U.registerGeometry)(\"linearHeatmap\",gl);var yl=function(t){function e(e){var i=t.call(this)||this;return i.options=e,i.view=i.options.view,i.init(),i}return Object(P.__extends)(e,t),e.prototype.init=function(){var t=this.getCoordinate();this.width=t.getWidth(),this.height=t.getHeight(),this.x=t.start.x,this.y=t.end.y,this.container=this.view.backgroundGroup.addGroup({})},e.prototype.render=function(){if(\"color\"===this.options.type)this.renderColorBackground();else if(\"image\"===this.options.type)this.renderImageBackground();else if(this.options.callback){var t={x:this.x,y:this.y,width:this.width,height:this.height,container:this.container};this.options.callback(t)}},e.prototype.renderColorBackground=function(){this.container.addShape(\"rect\",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,fill:this.options.value},name:\"heatmap-background\"})},e.prototype.renderImageBackground=function(){this.container.addShape(\"image\",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,img:this.options.src},name:\"heatmap-background\"})},e.prototype.clear=function(){this.container&&(this.container.clear(),this.emit(\"background:clear\"))},e.prototype.destroy=function(){this.container&&(this.container.remove(),this.emit(\"background:destroy\"))},e.prototype.getCoordinate=function(){var t;return Object(F.each)(this.view.geometries,(function(e){\"heatmap\"===e.type&&(t=e.coordinate)})),t},e}(E.a),ml={background:{Ctr:yl},legend:{Ctr:function(){function t(t){this.destroyed=!1,this.dataSlides={};var e=this.getDefaultOptions();t.plot.options.theme&&\"dark\"===t.plot.options.theme&&(e=this.getDarkOptions()),this.options=Object(F.deepMix)({},e,t),this.view=this.options.view,this.afterRender=!0,this.init()}return t.prototype.init=function(){this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var t=this.options.plot.container;this.container=t.addGroup()},t.prototype.render=function(){var t=this.getScales(),e=this.options.plot.options.colorField;this.colorScale=t[e];var i=this.colorScale,n=i.min,o=i.max,r=this.options.plot.options.color;\"horizontal\"===this.layout?this.renderHorizontal(n,o,r):this.renderVertical(n,o,r),this.legendLayout(),this.addInteraction(),this.options.plot.canvas.draw()},t.prototype.hide=function(){this.container.set(\"visible\",!1),this.options.plot.canvas.draw()},t.prototype.show=function(){this.container.set(\"visible\",!0),this.options.plot.canvas.draw()},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},t.prototype.getBBox=function(){var t=this.container.getBBox();return new G(this.x,this.y,t.width,t.height)},t.prototype.renderVertical=function(t,e,i){var n=this,o=this.width,r=this.height/i.length,a=this.container.addGroup(),s=Object(F.clone)(i).reverse(),l=(e-t)/i.length;Object(F.each)(s,(function(t,i){var s=r*i,c={to:e-l*i,from:e-l*(i+1)};n.container.addShape(\"rect\",{attrs:{x:0,y:s,width:o,height:r,fill:t,opacity:1,cursor:\"pointer\"},name:\"legend\"}).set(\"info\",c);var u=n.getDataSlide(c);n.dataSlides[c.from+\"-\"+c.to]={mode:\"active\",data:u};a.addShape(\"path\",{attrs:Object(P.__assign)({path:[[\"M\",0,s+r],[\"L\",o,s+r]]},n.options.gridlineStyle)})}));this.container.addShape(\"text\",{attrs:Object(P.__assign)({text:e,x:o/2,y:-4,textAlign:\"center\",textBaseline:\"bottom\"},this.options.text.style),name:\"legend-label\"}),this.container.addShape(\"text\",{attrs:Object(P.__assign)(Object(P.__assign)({text:t,x:o/2,y:this.height+4,textAlign:\"center\",textBaseline:\"top\"},this.options.text.style),{name:\"legend-label\"})}),a.addShape(\"path\",{attrs:Object(P.__assign)({path:[[\"M\",0,0],[\"L\",this.width,0],[\"L\",this.width,this.height],[\"L\",0,this.height],[\"L\",0,0]]},this.options.gridlineStyle)})},t.prototype.renderHorizontal=function(t,e,i){var n=this,o=this.width/i.length,r=this.height,a=this.container.addGroup(),s=(e-t)/i.length;Object(F.each)(i,(function(t,e){var i=o*e,l={from:s*e,to:s*(e+1)};n.container.addShape(\"rect\",{attrs:{x:i,y:0,width:o,height:r,fill:t,opacity:.8,cursor:\"pointer\"},name:\"legend\"}).set(\"info\",l);a.addShape(\"path\",{attrs:Object(P.__assign)({path:[[\"M\",i+o,0],[\"L\",i+o,r]]},n.options.gridlineStyle)})})),this.container.addShape(\"text\",{attrs:Object(P.__assign)(Object(P.__assign)({text:t,x:-4,y:r/2},this.options.text.style),{textAlign:\"right\",textBaseline:\"middle\"}),name:\"legend-label\"}),this.container.addShape(\"text\",{attrs:Object(P.__assign)({text:e,x:this.width+4,y:r/2,textAlign:\"left\",textBaseline:\"middle\"},this.options.text.style),name:\"legend-label\"}),a.addShape(\"path\",{attrs:Object(P.__assign)({path:[[\"M\",0,0],[\"L\",this.width,0],[\"L\",this.width,this.height],[\"L\",0,this.height],[\"L\",0,0]]},this.options.gridlineStyle)})},t.prototype.getLayout=function(){var t=this.options.position.split(\"-\");return this.position=t[0],\"left\"===t[0]||\"right\"===t[0]?\"vertical\":\"horizontal\"},t.prototype.getDefaultWidth=function(){return\"horizontal\"===this.layout?.5*this.options.plot.options.width:10},t.prototype.getDefaultHeight=function(){return\"vertical\"===this.layout?.5*this.options.plot.options.height:10},t.prototype.legendLayout=function(){var t=this,e=this.options.plot.getPlotTheme().bleeding;Object(F.isArray)(e)&&Object(F.each)(e,(function(i,n){\"function\"===typeof e[n]&&(e[n]=e[n](t.options.plot.options))}));var i=this.container.getBBox(),n=0,o=0,r=this.options.position.split(\"-\"),a=this.options.plot.width,s=this.options.plot.height;\"left\"===r[0]?n=e[3]:\"right\"===r[0]?n=a-e[1]-i.width:\"center\"===r[1]?n=(a-i.width)/2:\"left\"===r[1]?n=e[3]:\"right\"===r[1]&&(n=this.options.plot.width-e[1]-i.width),\"bottom\"===r[0]?o=s-e[2]-i.height:\"top\"===r[0]?o=this.getTopPosition(e):\"center\"===r[1]?o=(s-i.height)/2:\"top\"===r[1]?o=e[0]:\"bottom\"===r[1]&&(o=s-e[2]-i.height),this.x=n,this.y=o,this.container.translate(n,o)},t.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:\"rgba(0, 0, 0, 0.45)\"}},gridlineStyle:{lineWidth:1,stroke:\"rgba(0, 0, 0, 0.45)\"}}},t.prototype.getDarkOptions=function(){return{text:{style:{fontSize:12,fill:\"rgba(255, 255, 255, 0.45)\"}},gridlineStyle:{lineWidth:1,stroke:\"rgba(255, 255, 255, 0.25)\"}}},t.prototype.addInteraction=function(){var t=this,e=this.options.plot.options,i=e.colorField;e.data;this.container.on(\"click\",(function(e){var n=e.target;if(\"legend\"===n.get(\"name\")){var o=n.get(\"info\"),r=o.from+\"-\"+o.to,a=t.dataSlides[r];\"active\"===a.mode?(a.mode=\"deactive\",n.stopAnimate(),n.animate({opacity:.1},200)):(a.mode=\"active\",n.stopAnimate(),n.animate({opacity:1},200));var s=t.getFilteredData();s.length>0&&(t.view.changeData(s),t.view.scale(i,{min:t.colorScale.min,max:t.colorScale.max,nice:t.colorScale.nice}),t.view.render())}}))},t.prototype.getFilteredData=function(){var t=[];return Object(F.each)(this.dataSlides,(function(e){\"active\"==e.mode&&t.push.apply(t,e.data)})),t},t.prototype.getDataSlide=function(t){var e=[],i=this.options.plot.options,n=i.colorField,o=i.data;return Object(F.each)(o,(function(i){var o=i[n];o>=t.from&&o<t.to&&e.push(i)})),e},t.prototype.getTopPosition=function(t){return this.options.plot.description?this.options.plot.description.getBBox().maxY+10:this.options.plot.title?this.options.plot.title.getBBox().maxY+10:t[0]},t.prototype.getScales=function(){var t;return Object(F.each)(this.view.geometries,(function(e){\"heatmap\"===e.type&&(t=e.scales)})),t},t}(),padding:\"outer\"}};var vl=X({Heatmap:\"heatmap\",LegendLabel:\"legend-label\",HeatmapBackground:\"heatmap-background\"});Object(F.assign)(R,vl);var bl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"densityHeatmap\",e.plotComponents=[],e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1,offset:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,offset:12}},tooltip:{visible:!0,showCrosshairs:!0,crosshairs:{type:\"xy\",line:{style:{stroke:\"#000000\",lineWidth:1,opacity:.5}}},showMarkers:!1},legend:{visible:!0,position:\"bottom-center\"},color:[\"rgba(33,102,172,0)\",\"rgb(103,169,207)\",\"rgb(209,229,240)\",\"rgb(253,219,199)\",\"rgb(239,138,98)\",\"rgb(178,24,43)\"],interactions:[{type:\"tooltip\"}]})},e.prototype.afterRender=function(){this.renderPlotComponents(),t.prototype.afterRender.call(this)},e.prototype.destroy=function(){Object(F.each)(this.plotComponents,(function(t){t.destroy()})),t.prototype.destroy.call(this)},e.prototype.scale=function(){var e=this.options,i={};i[e.xField]={},Object(F.has)(e,\"xAxis\")&&er(i[e.xField],e.xAxis),i[e.yField]={},Object(F.has)(e,\"yAxis\")&&er(i[e.yField],e.yAxis),this.setConfig(\"scales\",i),t.prototype.scale.call(this)},e.prototype.coord=function(){},e.prototype.geometryParser=function(t,e){return\"heatmap\"},e.prototype.addGeometry=function(){var t={type:\"linearheatmap\",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},cfg:{intensity:this.options.intensity,radius:this.options.radius}};this.options.radius&&(t.radius=this.options.radius),this.options.intensity&&(t.intensity=this.options.intensity),this.setConfig(\"geometry\",t),this.addPoint()},e.prototype.addPoint=function(){var t=this.options,e={visible:!1,size:0};t.point&&t.point.visible?t.point=Object(F.deepMix)(e,t.point):t.point=e;var i=tr(\"point\",\"guide\",{plot:this});i.active=!1,this.setConfig(\"geometry\",i)},e.prototype.extractLabel=function(){var t=this.options,e=t.label;return(!e||!1!==e.visible)&&to(\"label\",Object(P.__assign)({plot:this,labelType:\"scatterLabel\",fields:[t.xField,t.yField],position:\"middle\",offset:0},e))},e.prototype.legend=function(){this.setConfig(\"legends\",!1)},e.prototype.parseEvents=function(e){t.prototype.parseEvents.call(this,v)},e.prototype.renderPlotComponents=function(){var t=this;Object(F.each)(this.plotComponents,(function(t){t.destroy()}));Object(F.each)([\"legend\",\"background\"],(function(e){var i=Object(P.__assign)({view:t.view,plot:t},t.options[e]),n=function(t,e,i){if(t.options[e]&&t.options[e].visible){var n=ml[e],o=new n.Ctr(i);return n.padding&&t.paddingController.registerPadding(o,n.padding),o}}(t,e,i);n&&(n.render(),t.plotComponents.push(n))}))},e}(ko),xl=bl;To(\"densityHeatmap\",bl);var Ol=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"densityHeatmap\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=xl.getDefaultOptions,e}(Io);function jl(t,e,i,n,o){var r=i*o,a=n*o;return[[\"M\",t-r/2,e+a/2],[\"Q\",t-r/2,e,t-r/2,e-a/2],[\"Q\",t,e-a/2,t+r/2,e-a/2],[\"Q\",t+r/2,e,t+r/2,e+a/2],[\"Q\",t,e+a/2,t-r/2,e+a/2],[\"Z\"]]}function Ml(t,e,i){return[[\"M\",t,e],[\"l\",-i,0],[\"a\",i,i,0,1,0,2*i,0],[\"a\",i,i,0,1,0,-2*i,0],[\"Z\"]]}function wl(t,e,i){return[[\"M\",t-i,e],[\"Q\",t-i,e-i,t,e-i],[\"Q\",t+i,e-i,t+i,e],[\"Q\",t+i,e+i,t,e+i],[\"Q\",t-i,e+i,t-i,e],[\"Z\"]]}Object(U.registerShape)(\"polygon\",\"rect\",{draw:function(t,e){var i=this.parsePoints(t.points),n=i[2].x-i[0].x,o=i[0].y-i[1].y,r=jl(i[0].x+n/2,i[1].y+o/2,n,o,t.size);return e.addShape(\"path\",{attrs:{path:r,fill:t.color,opacity:1}})}}),Object(U.registerShape)(\"point\",\"curvePoint\",{draw:function(t,e){var i=Ml(t.x,t.y,t.size);return e.addShape(\"path\",{attrs:{path:i,fill:t.color,opacity:1}})}});var _l=function(){function t(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=Object(F.deepMix)(e,t,{}),this.init()}return t.prototype.init=function(){var t=this;this.container=this.view.geometries[0].labelsContainer,this.view.on(\"beforerender\",(function(){t.clear(),t.plot.canvas.draw()}))},t.prototype.render=function(){var t=this,e=this.view.geometries[0].elements;Object(F.each)(e,(function(e){var i=e.shape,n=t.options,o=n.style,r=n.offsetX,a=n.offsetY,s=t.options.formatter,l=s?s(t.getContent(i)):t.getContent(i),c=t.getPosition(i),u=t.getTextColor(i),h=t.container.addShape(\"text\",{attrs:Object(F.deepMix)({},o,{x:c.x+r,y:c.y+a,text:l,fill:u,textAlign:\"center\",textBaseline:\"middle\"}),name:\"label\"});t.options.adjustPosition&&t.adjustLabel(h,i)}))},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.hide=function(){this.container.set(\"visible\",!1),this.plot.canvas.draw()},t.prototype.show=function(){this.container.set(\"visible\",!0),this.plot.canvas.draw()},t.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},t.prototype.getBBox=function(){},t.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,style:Object(F.clone)(t)}},t.prototype.getContent=function(t){return t.get(\"origin\").data[this.plot.options.colorField]},t.prototype.getPosition=function(t){var e=t.getBBox();return{x:e.minX+e.width/2,y:e.minY+e.height/2}},t.prototype.getTextColor=function(t){if(this.options.adjustColor){var e=t.attr(\"fill\"),i=t.attr(\"opacity\")?t.attr(\"opacity\"):1,n=Fa(e);return Ra([{from:0,to:85,color:\"white\"},{from:85,to:170,color:\"#F6F6F6\"},{from:170,to:255,color:\"black\"}],Math.round(.299*n[0]+.587*n[1]+.114*n[2])/i)}return this.options.style.fill},t.prototype.adjustLabel=function(t,e){var i=t.getBBox(),n=e.getBBox();(i.width>n.width||i.height>n.height)&&t.attr(\"text\",\"\")},t}(),Cl={label:{Ctr:_l},legend:{Ctr:function(){function t(t){this.destroyed=!1,this.dataSlides={},this.interactiveEvents={};var e=this.getDefaultOptions();this.options=Object(F.deepMix)({},e,t),this.view=this.options.view,this.afterRender=!0,this.init()}return t.prototype.init=function(){var t=this;this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var e=this.options.plot.container;this.container&&this.container.remove(),this.container=e.addGroup(),this.view.on(\"beforerender\",(function(){t.clear(),t.options.plot.canvas.draw()}))},t.prototype.render=function(){var t=this.view.geometries[0].scales,e=this.options.plot.options.colorField;this.colorScale=t[e];var i=this.colorScale,n=i.min,o=i.max,r=this.options.plot.options.color;\"horizontal\"===this.layout?this.renderHorizontal(n,o,r):this.renderVertical(n,o,r),this.legendLayout(),this.addInteraction()},t.prototype.hide=function(){this.container.set(\"visible\",!1),this.options.plot.canvas.draw()},t.prototype.show=function(){this.container.set(\"visible\",!0),this.options.plot.canvas.draw()},t.prototype.clear=function(){if(this.container){this.container.get(\"children\");this.container.clear()}},t.prototype.destroy=function(){this.container&&this.container.remove(),this.offEvent(),this.destroyed=!0},t.prototype.getBBox=function(){var t=this.container.getBBox();return new G(this.x,this.y,t.width,t.height)},t.prototype.renderVertical=function(t,e,i){var n=this,o=(e-t)/(i.length-1),r=1/(i.length-1),a=this.height/(i.length-1),s=\"l(90)\";Object(F.each)(i,(function(t,e){s+=r*e+\":\"+t+\" \"})),this.container.addShape(\"rect\",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:s},name:\"legend\"}),Object(F.each)(i,(function(t,e){var i=a*e;n.container.addShape(\"path\",{attrs:Object(P.__assign)({path:[[\"M\",0,i],[\"L\",n.width,i]]},n.options.ticklineStyle)});var r=Math.round(o*e);n.container.addShape(\"text\",{attrs:Object(P.__assign)({text:r,textAlign:\"left\",textBaseline:\"middle\",x:n.width+4,y:i},n.options.text.style),name:\"legend-label\"})}));var l=[[\"M\",-10,-7],[\"L\",0,0],[\"L\",-10,7],[\"Z\"]];this.anchor=this.container.addShape(\"path\",{attrs:Object(P.__assign)({path:l},this.options.anchorStyle)}),this.anchor.set(\"visible\",!1)},t.prototype.renderHorizontal=function(t,e,i){var n=this,o=(e-t)/(i.length-1),r=1/(i.length-1),a=this.width/(i.length-1),s=\"l(0)\";Object(F.each)(i,(function(t,e){s+=r*e+\":\"+t+\" \"})),this.container.addShape(\"rect\",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:s},name:\"legend\"}),Object(F.each)(i,(function(t,e){var i=a*e;n.container.addShape(\"path\",{attrs:Object(P.__assign)({path:[[\"M\",i,0],[\"L\",i,n.height]]},n.options.ticklineStyle),name:\"legend-label\"});var r=Math.round(o*e);n.container.addShape(\"text\",{attrs:Object(P.__assign)({text:r,textAlign:\"center\",textBaseline:\"top\",x:i,y:n.height+4},n.options.text.style)})}));var l=[[\"M\",0,0],[\"L\",-7,-10],[\"L\",7,-10],[\"Z\"]];this.anchor=this.container.addShape(\"path\",{attrs:Object(P.__assign)({path:l},this.options.anchorStyle)}),this.anchor.set(\"visible\",!1)},t.prototype.getLayout=function(){var t=this.options.position.split(\"-\");return this.position=t[0],\"left\"===t[0]||\"right\"===t[0]?\"vertical\":\"horizontal\"},t.prototype.getDefaultWidth=function(){return\"horizontal\"===this.layout?this.view.coordinateBBox.width:10},t.prototype.getDefaultHeight=function(){return\"vertical\"===this.layout?this.view.coordinateBBox.height:10},t.prototype.legendLayout=function(){var t=this,e=this.view.coordinateBBox,i=this.options.plot.getPlotTheme().bleeding;Object(F.isArray)(i)&&Object(F.each)(i,(function(e,n){\"function\"===typeof i[n]&&(i[n]=i[n](t.options.plot.options))}));var n=this.container.getBBox(),o=0,r=0,a=this.options.position.split(\"-\"),s=this.options.plot.width,l=this.options.plot.height;\"left\"===a[0]?o=i[3]:\"right\"===a[0]?o=s-i[1]-n.width:\"center\"===a[1]?o=this.width===e.width?e.x:(s-n.width)/2:\"left\"===a[1]?o=i[3]:\"right\"===a[1]&&(o=this.options.plot.width-i[1]-n.width),\"bottom\"===a[0]?r=l-i[2]-n.height:\"top\"===a[0]?r=this.getTopPosition(i):\"center\"===a[1]?r=this.height===e.height?e.y:(l-n.height)/2:\"top\"===a[1]?r=i[0]:\"bottom\"===a[1]&&(r=l-i[2]-n.height),this.x=o,this.y=r,this.container.translate(o,r)},t.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:\"rgba(0, 0, 0, 0.45)\"}},ticklineStyle:{lineWidth:1,stroke:\"rgba(0, 0, 0, 0.8)\"},anchorStyle:{fill:\"rgba(0,0,0,0.5)\"},triggerOn:\"mousemove\"}},t.prototype.addInteraction=function(){var t=this,e=(\"rect\"===this.options.plot.options.shapeType?\"polygon\":\"point\")+\":\"+this.options.triggerOn,i=(this.options.triggerOn,this.options.plot.options.colorField),n=this.colorScale,o=n.min,r=n.max,a=function(e){var n=(e.data.data[i]-o)/(r-o);t.moveAnchor(n)};this.view.on(e,a),this.interactiveEvents[e]={target:this.view,handler:a};var s=function(e){t.anchor.set(\"visible\",!1)};this.options.plot.canvas.on(\"mouseleave\",s),this.interactiveEvents.mouseleave={target:this.options.plot.canvas,handler:s}},t.prototype.moveAnchor=function(t){if(this.anchor.set(\"visible\",!0),\"vertical\"===this.layout){var e=this.height*t;(i=[1,0,0,0,1,0,0,0,1])[7]=e,this.anchor.stopAnimate(),this.anchor.animate({matrix:i},400,\"easeLinear\")}else{var i;e=this.width*t;(i=[1,0,0,0,1,0,0,0,1])[6]=e,this.anchor.stopAnimate(),this.anchor.animate({matrix:i},400,\"easeLinear\")}},t.prototype.getTopPosition=function(t){return this.options.plot.description?this.options.plot.description.getBBox().maxY+10:this.options.plot.title?this.options.plot.title.getBBox().maxY+10:t[0]},t.prototype.offEvent=function(){Object(F.each)(this.interactiveEvents,(function(t,e){var i=t.target,n=t.handler;i.off(e,n)}))},t}(),padding:\"outer\"}};var Sl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"heatmap\",e.gridSize=[],e.plotComponents=[],e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{shapeType:\"rect\",legend:{visible:!0,position:\"right-center\"},tooltip:{shared:!1,showCrosshairs:!1,showMarkers:!1},xAxis:{visible:!0,gridAlign:\"center\",grid:{visible:!0},tickLine:{visible:!0},line:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!0}},yAxis:{visible:!0,gridAlign:\"center\",grid:{visible:!0,align:\"center\"},tickLine:{visible:!0},label:{autoHide:!0,autoRotate:!1}},color:[\"#9ae3d5\",\"#66cdbb\",\"#e7a744\",\"#f1e066\",\"#f27664\",\"#e7c1a2\"],label:{visible:!0,adjustColor:!0,adjustPosition:!0,offset:0,style:{stroke:\"rgba(255,255,255,0)\",lineWidth:0}},interactions:[{type:\"tooltip\"}]})},e.prototype.afterRender=function(){this.renderPlotComponents(),t.prototype.afterRender.call(this)},e.prototype.changeShape=function(t){if(this.options.shapeType!==t)if(this.options.shapeType=t,\"rect\"===t){var e=this.getShapes();this.circleToRect(e)}else if(\"circle\"===t){e=this.getShapes();this.rectToCircle(e)}},e.prototype.mappingSize=function(t){if(!this.options.sizeField||this.options.sizeField!==t){this.options.sizeField=t;var e=Object(F.valuesOfKey)(this.options.data,t),i=Math.min.apply(Math,e),n=Math.max.apply(Math,e),o=new(Wi(\"linear\"))({min:i,max:n}),r=this.getShapes();\"rect\"===this.options.shapeType?this.rectSizeMapping(r,o,t):\"circle\"===this.options.shapeType&&this.circleSizeMapping(r,o,t)}},e.prototype.disableMappingSize=function(){var t=this.getShapes();\"rect\"===this.options.shapeType?this.rectDisableSizeMapping(t):\"circle\"===this.options.shapeType&&this.circleDisableSizeMapping(t)},e.prototype.destroy=function(){Object(F.each)(this.plotComponents,(function(t){t.destroy()})),t.prototype.destroy.call(this)},e.prototype.geometryParser=function(){return\"\"},e.prototype.coord=function(){},e.prototype.legend=function(){this.setConfig(\"legends\",!1)},e.prototype.addGeometry=function(){if(this.gridSize=this.getGridSize(),\"rect\"===this.options.shapeType){var t=this.addRect();this.setConfig(\"geometry\",t)}else{var e=this.addCircle();this.setConfig(\"geometry\",e)}},e.prototype.addRect=function(){var t=[.3,.9];this.options.shapeSize&&(t[0]=this.options.shapeSize[0]/this.gridSize[0],t[1]=this.options.shapeSize[1]/this.gridSize[1]);var e={type:\"polygon\",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:[\"rect\"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[1]},e},e.prototype.addCircle=function(){var t=[.3,.9];this.options.shapeSize?t=this.options.shapeSize:(t[0]=this.gridSize[0]*t[0]*.5,t[1]=this.gridSize[1]*t[1]*.5);var e={type:\"point\",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:[\"curvePoint\"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[.5*Math.min(this.gridSize[0],this.gridSize[1])*.9]},e},e.prototype.getGridSize=function(){if(\"auto\"===this.options.padding)return[0,0];var t=this.getViewRange(),e=this.options,i=e.padding,n=e.xField,o=e.yField,r=e.data,a=t.width-i[1]-i[3],s=t.height-i[0]-i[2];return[a/Object(F.valuesOfKey)(r,n).length,s/Object(F.valuesOfKey)(r,o).length]},e.prototype.circleToRect=function(t){var e=this,i=this.gridSize;Object(F.each)(t,(function(t){var n=t.get(\"origin\"),o=n.x,r=n.y,a=n.size,s=2*a/Math.min(i[0],i[1]);e.options.sizeField||(s=1);var l=wl(o,r,a),c=jl(o,r,i[0],i[1],s);t.stopAnimate(),t.attr(\"path\",l),t.animate({path:c},500,\"easeLinear\")}))},e.prototype.rectToCircle=function(t){var e=this;Object(F.each)(t,(function(t){var i=t.get(\"coord\"),n=t.get(\"origin\").points,o=[];Object(F.each)(n,(function(t){o.push(i.convertPoint(t))}));var r=t.getBBox(),a=r.width,s=r.height,l=r.minX+a/2,c=r.minY+s/2,u=e.options.sizeField?1:.9,h=wl(l,c,Math.min(a,s)/2*u),p=Ml(l,c,Math.min(a,s)/2*u);t.stopAnimate(),t.animate({path:h},500,\"easeLinear\",(function(){t.attr(\"path\",p)}))}))},e.prototype.rectSizeMapping=function(t,e,i){Object(F.each)(t,(function(t){var n=t.get(\"origin\").data,o=.3+.6*e.scale(n[i]);t.get(\"origin\").size=o;var r=t.getBBox(),a=r.width,s=r.height,l=jl(r.minX+a/2,r.minY+s/2,a,s,o);t.stopAnimate(),t.animate({path:l},500,\"easeLinear\")}))},e.prototype.circleSizeMapping=function(t,e,i){Object(F.each)(t,(function(t){var n=t.get(\"origin\").data,o=.3+.6*e.scale(n[i]),r=t.get(\"origin\"),a=r.x,s=r.y,l=r.size,c=Ml(a,s,l*o);t.get(\"origin\").size=l*o,t.stopAnimate(),t.animate({path:c},500,\"easeLinear\")}))},e.prototype.circleDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,Object(F.each)(t,(function(t){var i=t.get(\"origin\"),n=i.x,o=i.y,r=.9*Math.min(e.gridSize[0],e.gridSize[1]);t.get(\"origin\").size=r/2;var a=Ml(n,o,r/2);t.stopAnimate(),t.animate({path:a},500,\"easeLinear\")}))},e.prototype.rectDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,Object(F.each)(t,(function(t){var i=t.getBBox(),n=i.width,o=i.height,r=jl(i.minX+n/2,i.minY+o/2,e.gridSize[0],e.gridSize[1],1);t.get(\"origin\").size=1,t.stopAnimate(),t.animate({path:r},500,\"easeLinear\")}))},e.prototype.getShapes=function(){var t=this.view.geometries[0].elements,e=[];return Object(F.each)(t,(function(t){e.push(t.shape)})),e},e.prototype.renderPlotComponents=function(){var t=this;Object(F.each)(this.plotComponents,(function(t){t.destroy()})),this.plotComponents=[];Object(F.each)([\"label\",\"legend\"],(function(e){var i=Object(P.__assign)({view:t.view,plot:t},t.options[e]),n=function(t,e,i){if(t.options[e]&&t.options[e].visible){var n=Cl[e],o=new n.Ctr(i);return n.padding&&t.paddingController.registerPadding(o,n.padding),o}}(t,e,i);n&&(n.render(),t.plotComponents.push(n))}))},e}(ko),kl=Sl;To(\"heatmap\",Sl);var Al=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"heatmap\",t.prototype.createLayers.call(this,i)},e.prototype.changeShape=function(t){this.layers[0].changeShape(t)},e.prototype.mappingSize=function(t){this.layers[0].mappingSize(t)},e.prototype.disableMappingSize=function(){this.layers[0].disableMappingSize()},e.getDefaultOptions=kl.getDefaultOptions,e}(Io),Ll=function(t){function e(e){var i=Object(F.deepMix)({},e,{itemTpl:'<div data-index={index}>\\n        <span style=\"background-color:{color};\" class=\"g2-tooltip-marker\"></span>\\n        {name}<span class=\"g2-tooltip-value\">{value}</span></div>'},e);return t.call(this,i)||this}return Object(P.__extends)(e,t),e}(K.a);window.setImmediate||(window.setImmediate=window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],e=\"zero-timeout-message\";return window.addEventListener(\"message\",(function(i){if(\"string\"===typeof i.data&&i.data.substr(0,e.length)===e){i.stopImmediatePropagation();var n=parseInt(i.data.substr(e.length),36);t[n]&&(t[n](),t[n]=void 0)}}),!0),window.clearImmediate=function(e){t[e]&&(t[e]=void 0)},function(i){var n=t.length;return t.push(i),window.postMessage(e+n.toString(36),\"*\"),n}}()||function(t){window.setTimeout(t,0)}),window.clearImmediate||(window.clearImmediate=window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)});var Bl=function(){var t=document.createElement(\"canvas\");if(!t||!t.getContext)return!1;var e=t.getContext(\"2d\");return!!e.getImageData&&(!!e.fillText&&(!!Array.prototype.some&&!!Array.prototype.push))}(),Dl=function(){if(Bl){for(var t,e,i=document.createElement(\"canvas\").getContext(\"2d\"),n=20;n;){if(i.font=n.toString(10)+\"px sans-serif\",i.measureText(\"\\uff37\").width===t&&i.measureText(\"m\").width===e)return n+1;t=i.measureText(\"\\uff37\").width,e=i.measureText(\"m\").width,n--}return 0}}(),Tl=function(t){for(var e,i,n=t.length;n;e=Math.floor(Math.random()*n),i=t[--n],t[n]=t[e],t[e]=i);return t},Pl=function(t,e){if(Bl){Array.isArray(t)||(t=[t]),t.forEach((function(e,i){if(\"string\"===typeof e){if(t[i]=document.getElementById(e),!t[i])throw\"The element id specified is not found.\"}else if(!e.tagName&&!e.appendChild)throw\"You must pass valid HTML elements, or ID of the element.\"}));var i={data:[],fontFamily:'\"Trebuchet MS\", \"Heiti TC\", \"\\u5fae\\u8edf\\u6b63\\u9ed1\\u9ad4\", \"Arial Unicode MS\", \"Droid Fallback Sans\", sans-serif',fontWeight:\"normal\",color:\"random-dark\",animatable:!0,minFontSize:Dl,maxFontSize:60,clearCanvas:!0,backgroundColor:\"#fff\",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:\"rgba(255,0,0,0.3)\",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotateRatio:.5,rotationSteps:1,shuffle:!0,shape:\"circle\",ellipticity:1,active:!0,animatable:!0,selected:-1,shadowColor:\"#333\",shadowBlur:10,classes:null,onWordCloudHover:null,onWordCloudClick:null},n=[];if(e)for(var o in e)if(\"wordStyle\"===o)for(var r in e[o])r in i&&(i[r]=e[o][r]);else o in i&&(i[o]=e[o]);if(i.minFontSize<Dl&&(i.minFontSize=Dl),i.minFontSize>i.maxFontSize)console.error(\"minSize cant bigger than maxSize\");else{for(var a=0,s=0;s<i.data.length;s++)a<i.data[s].weight&&(a=i.data[s].weight);var l=!1;if(\"function\"!==typeof i.shape)switch(i.shape){case\"circle\":default:i.shape=\"circle\";break;case\"cardioid\":i.shape=function(t){return 1-Math.sin(t)},l=!0;break;case\"diamond\":i.shape=function(t){var e=t%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))};break;case\"square\":i.shape=function(t){var e=(t+Math.PI/4)%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))};break;case\"triangle-forward\":i.shape=function(t){var e=t%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case\"triangle-backward\":i.shape=function(t){var e=(t+Math.PI)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case\"triangle\":case\"triangle-up\":i.shape=function(t){var e=(t+3*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case\"triangle-down\":i.shape=function(t){var e=(t+5*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case\"pentagon\":i.shape=function(t){var e=(t+.955)%(2*Math.PI/5);return 1/(Math.cos(e)+.726543*Math.sin(e))};break;case\"star\":i.shape=function(t){var e=(t+.955)%(2*Math.PI/10);return(t+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-e)+3.07768*Math.sin(2*Math.PI/10-e)):1/(Math.cos(e)+3.07768*Math.sin(e))}}i.gridSize=Math.max(Math.floor(i.gridSize),4);var c,u,h,p,f,d,g,y=i.gridSize,m=y-i.maskGapWidth,v=Math.abs(i.maxRotation-i.minRotation),b=Math.min(i.maxRotation,i.minRotation),x=i.rotationSteps;switch(i.color){case\"random-dark\":g=function(){return N(10,50)};break;case\"random-light\":g=function(){return N(50,90)};break;default:\"function\"===typeof i.color&&(g=i.color)}var O=null;\"function\"===typeof i.classes&&(O=i.classes);var j,M=!1,w=[],_=function(t){var e,i,n=t.currentTarget,o=n.getBoundingClientRect();t.touches?(e=t.touches[0].clientX,i=t.touches[0].clientY):(e=t.clientX,i=t.clientY);var r=e-o.left,a=i-o.top,s=Math.floor(r*(n.width/o.width||1)/y),l=Math.floor(a*(n.height/o.height||1)/y);return w&&w[s]&&w[s][l]},C=function(t,e,i,n){n(t?t.id:-1)},S=function(t){var e=_(t);if(j!==e){if(!e)return i.onWordCloudHover(void 0,void 0,t,Y),void(i.active&&C(void 0,0,0,Y));i.onWordCloudHover(e.item,e.dimension,t,Y),i.active&&C(e.item,e.dimension,0,Y),j=e}},k=function(t){var e=_(t);e&&(i.onWordCloudClick(e.item,e.dimension,t),t.preventDefault())},A=[],L=function(t){if(A[t])return A[t];var e=8*t,n=e,o=[];for(0===t&&o.push([p[0],p[1],0]);n--;){var r=1;\"circle\"!==i.shape&&(r=i.shape(n/e*2*Math.PI)),o.push([p[0]+t*r*Math.cos(-n/e*2*Math.PI),p[1]+t*r*Math.sin(-n/e*2*Math.PI)*i.ellipticity,n/e*2*Math.PI])}return A[t]=o,o},B=function(){return i.abortThreshold>0&&(new Date).getTime()-d>i.abortThreshold},D=function(t,e,n){var o=function(t){return Math.min(Math.max(i.minFontSize,i.maxFontSize*t/a),i.maxFontSize)}(e);if(o<=0)return!1;var r=1;o<Dl&&(r=function(){for(var t=2;t*o<Dl;)t+=2;return t}());var s=document.createElement(\"canvas\"),l=s.getContext(\"2d\",{willReadFrequently:!0});l.font=i.fontWeight+\" \"+(o*r).toString(10)+\"px \"+i.fontFamily;var c=l.measureText(t).width/r,u=Math.max(o*r,l.measureText(\"m\").width,l.measureText(\"\\uff37\").width)/r,h=c+2*u,p=3*u,f=Math.ceil(h/y),d=Math.ceil(p/y);h=f*y,p=d*y;var g,m=-c/2,v=.4*-u,b=Math.ceil((h*Math.abs(Math.sin(n))+p*Math.abs(Math.cos(n)))/y),x=Math.ceil((h*Math.abs(Math.cos(n))+p*Math.abs(Math.sin(n)))/y),O=x*y,j=b*y;s.setAttribute(\"width\",O),s.setAttribute(\"height\",j),l.scale(1/r,1/r),l.translate(O*r/2,j*r/2),l.rotate(-n),l.font=i.fontWeight+\" \"+(o*r).toString(10)+\"px \"+i.fontFamily,l.fillStyle=\"#000\",l.textBaseline=\"middle\",l.fillText(t,m*r,(v+.5*o)*r);try{g=l.getImageData(0,0,O,j).data}catch(A){return!1}if(B())return!1;for(var M,w,_,C=[],S=x,k=[b/2,x/2,b/2,x/2];S--;)for(M=b;M--;){_=y;t:{for(;_--;)for(w=y;w--;)if(g[4*((M*y+_)*O+(S*y+w))+3]){C.push([S,M]),S<k[3]&&(k[3]=S),S>k[1]&&(k[1]=S),M<k[0]&&(k[0]=M),M>k[2]&&(k[2]=M);break t}0}}return{mu:r,occupied:C,bounds:k,gw:x,gh:b,fillTextOffsetX:m,fillTextOffsetY:v,fillTextWidth:c,fillTextHeight:u,fontSize:o}},T=function(e,o,r,a,s,l,c,u,h,p,f){var d=r.fontSize,m=i.color,v=i.classes;if(f){var b=R(p);m=b?b.color:i.color}else m=g?g(a,s,d,l,c):i.color,v=O?O(a,s,d,l,c):i.classes;var x=r.bounds;x[3],x[0],x[1],x[3],x[2],x[0],t.forEach((function(t){if(t.getContext){var g=t.getContext(\"2d\"),b=r.mu;g.save();var x=i.fontWeight+\" \"+(d*b).toString(10)+\"px \"+i.fontFamily;g.scale(1/b,1/b),g.font=x,g.fillStyle=m;var O=(e+r.gw/2)*y*b,j=(o+r.gh/2)*y*b;g.translate(O,j),0!==u&&g.rotate(-u),g.textBaseline=\"middle\",i.selected===p&&(g.shadowColor=i.shadowColor,g.shadowBlur=i.shadowBlur),g.fillText(a,r.fillTextOffsetX*b,(r.fillTextOffsetY+.5*d)*b),f||n.push({gx:e,gy:o,info:r,word:a,weight:s,distance:l,theta:c,rotateDeg:u,attributes:h,id:p,color:m}),g.restore()}else{var M=document.createElement(\"span\"),w=\"\";w=\"rotate(\"+-u/Math.PI*180+\"deg) \",1!==r.mu&&(w+=\"translateX(-\"+r.fillTextWidth/4+\"px) scale(\"+1/r.mu+\")\");var _={position:\"absolute\",display:\"block\",font:i.fontWeight+\" \"+d*r.mu+\"px \"+i.fontFamily,left:(e+r.gw/2)*y+r.fillTextOffsetX+\"px\",top:(o+r.gh/2)*y+r.fillTextOffsetY+\"px\",width:r.fillTextWidth+\"px\",height:r.fillTextHeight+\"px\",lineHeight:d+\"px\",whiteSpace:\"nowrap\",transform:w,webkitTransform:w,msTransform:w,transformOrigin:\"50% 40%\",webkitTransformOrigin:\"50% 40%\",msTransformOrigin:\"50% 40%\"};for(var C in m&&(_.color=m),M.textContent=a,_)M.style[C]=_[C];if(h)for(var S in h)M.setAttribute(S,h[S]);v&&(M.className+=v),t.appendChild(M)}}))},P=function(e,i,n,o,r){if(!(e>=u||i>=h||e<0||i<0)){if(c[e][i]=!1,n)t[0].getContext(\"2d\").fillRect(e*y,i*y,m,m);M&&(w[e][i]={item:r,dimension:o})}},I=function(e,n,o,r,a,s,l,p){var f=Math.floor(e[0]-n.gw/2),d=Math.floor(e[1]-n.gh/2);n.gw,n.gh;return!!function(t,e,n,o,r){for(var a=r.length;a--;){var s=t+r[a][0],l=e+r[a][1];if(s>=u||l>=h||s<0||l<0){if(!i.drawOutOfBound)return!1}else if(!c[s][l])return!1}return!0}(f,d,0,0,n.occupied)&&(T(f,d,n,o,r,a,e[2],s,l,p,!1),function(e,n,o,r,a){var s,l,c=a.occupied,p=i.drawMask;if(p&&((s=t[0].getContext(\"2d\")).save(),s.fillStyle=i.maskColor),M){var f=a.bounds;l={x:(e+f[3])*y,y:(n+f[0])*y,w:(f[1]-f[3]+1)*y,h:(f[2]-f[0]+1)*y}}for(var d=c.length;d--;){var g=e+c[d][0],m=n+c[d][1];if(!(g>=u||m>=h||g<0||m<0)){var v=R(a.item.id);v&&(a.item.color=v.color),P(g,m,p,l,a.item)}}p&&s.restore()}(f,d,0,0,n),{gx:f,gy:d,rot:s,info:n})},E=function(t){var e,n,o,r;Array.isArray(t)?(e=t[0],n=t[1]):(e=t.word,n=t.weight,o=t.attributes,r=t.id);var a=0===i.rotateRatio?0:Math.random()>i.rotateRatio?0:0===v?b:x>0?b+Math.floor(Math.random()*x)*v/x:b+Math.random()*v,s=D(e,n,a);if(s&&(s.item=t),!s)return!1;if(B())return!1;if(!i.drawOutOfBound){var l=s.bounds;if(l[1]-l[3]+1>u||l[2]-l[0]+1>h)return!1}for(var c=f+1;c--;){var p=L(f-c);i.shuffle&&(p=[].concat(p),Tl(p));for(var d=0;d<p.length;d++){var g=I(p[d],s,e,n,f-c,a,o,r);if(g)return g}}return null},F=function(e,i,n){if(i)return!t.some((function(t){var o=document.createEvent(\"CustomEvent\");return o.initCustomEvent(e,!0,i,n||{}),!t.dispatchEvent(o)}),this);t.forEach((function(t){var o=document.createEvent(\"CustomEvent\");o.initCustomEvent(e,!0,i,n||{}),t.dispatchEvent(o)}),this)},R=function(t){for(var e=0;e<n.length;e++){var i=n[e];if(n[e].id===t)return i}},Y=function(e){if(void 0===e){var o=t[0];if(o.getContext)u=Math.ceil(o.width/y),h=Math.ceil(o.height/y);else{var r=o.getBoundingClientRect();u=Math.ceil(r.width/y),h=Math.ceil(r.height/y)}if(F(\"wordcloudstart\",!0)){var a,s,g;if(p=i.origin?[i.origin[0]/y,i.origin[1]/y]:[u/2,h/(l?4:2)],f=Math.floor(Math.sqrt(u*u+h*h)),c=[],!o.getContext||i.clearCanvas)for(t.forEach((function(t){if(t.getContext){var e=t.getContext(\"2d\");e.fillStyle=i.backgroundColor,e.clearRect(0,0,u*(y+1),h*(y+1)),e.fillRect(0,0,u*(y+1),h*(y+1))}else t.textContent=\"\",t.style.backgroundColor=i.backgroundColor,t.style.position=\"relative\"})),a=u;a--;)for(c[a]=[],s=h;s--;)c[a][s]=!0;else{var m=document.createElement(\"canvas\").getContext(\"2d\");m.fillStyle=i.backgroundColor,m.fillRect(0,0,1,1);var v,b,x=m.getImageData(0,0,1,1).data,O=o.getContext(\"2d\").getImageData(0,0,u*y,h*y).data;for(a=u;a--;)for(c[a]=[],s=h;s--;){b=y;t:for(;b--;)for(v=y;v--;)for(g=4;g--;)if(O[4*((s*y+b)*u*y+(a*y+v))+g]!==x[g]){c[a][s]=!1;break t}!1!==c[a][s]&&(c[a][s]=!0)}O=m=x=void 0}if(i.onWordCloudHover||i.onWordCloudClick){for(M=!0,a=u+1;a--;)w[a]=[];i.onWordCloudHover&&o.addEventListener(\"mousemove\",S),i.onWordCloudClick&&(o.addEventListener(\"click\",k),o.addEventListener(\"touchstart\",k),o.addEventListener(\"touchend\",(function(t){t.preventDefault()})),o.style.webkitTapHighlightColor=\"rgba(0, 0, 0, 0)\"),o.addEventListener(\"wordcloudstart\",(function t(){o.removeEventListener(\"wordcloudstart\",t),o.removeEventListener(\"mousemove\",S),o.removeEventListener(\"click\",k),j=void 0}))}if(i.animatable){var _,C;g=0,0!==i.wait?(_=window.setTimeout,C=window.clearTimeout):(_=window.setImmediate,C=window.clearImmediate);var A=function(e,i){t.forEach((function(t){t.removeEventListener(e,i)}),this)},L=function t(){A(\"wordcloudstart\",t),C(D)};!function(e,i){t.forEach((function(t){t.addEventListener(e,i)}),this)}(\"wordcloudstart\",L);var D=_((function t(){if(g>=i.data.length)return C(D),F(\"wordcloudstop\",!1),void A(\"wordcloudstart\",L);d=(new Date).getTime();var e=E(i.data[g]),n=!F(\"wordclouddrawn\",!0,{item:i.data[g],drawn:e});if(B()||n)return C(D),i.abort(),F(\"wordcloudabort\",!1),F(\"wordcloudstop\",!1),void A(\"wordcloudstart\",L);g++,D=_(t,i.wait)}),i.wait)}else for(var P=0;P<i.data.length;P++)E(i.data[P])}}else if(i.selected!==e&&t[0].getContext){i.selected=e;var I=t[0].getContext(\"2d\");I.fillStyle=i.backgroundColor,I.clearRect(0,0,t[0].width,t[0].height),I.fillRect(0,0,t[0].width,t[0].height);for(var R=0;R<n.length;R++){var Y=n[R];T(Y.gx,Y.gy,Y.info,Y.word,Y.weight,Y.distance,Y.theta,Y.rotateDeg,Y.attributes,Y.id,!0)}}};Y()}}function N(t,e){return\"hsl(\"+(360*Math.random()).toFixed()+\",\"+(30*Math.random()+70).toFixed()+\"%,\"+(Math.random()*(e-t)+t).toFixed()+\"%)\"}};Pl.isSupported=Bl,Pl.minFontSize=Dl;var Il=Pl,El=function(t){function e(e){var i=t.call(this,e)||this;return i._toolTipsAction=function(t,e,n,o){e?(i._toolTips.update({items:[{color:t.color||\"red\",name:t.word,value:t.weight}],x:n.offsetX,y:n.offsetY}),i._toolTips.show()):i._toolTips.hide(),i._toolTips.render(),i._configHoverAction&&i._configHoverAction(t,e,n,o)},i._configHoverAction=e.onWordCloudHover,i._enableToolTips=Object(F.get)(e,\"tooltip.visible\",!0),i.options=Object(F.deepMix)({},{width:400,height:400,enableToolTips:!0},e,{onWordCloudHover:i._enableToolTips?i._toolTipsAction:i._configHoverAction}),i}return Object(P.__extends)(e,t),e.prototype.init=function(){t.prototype.init.call(this),this._initToolTips()},e.prototype.render=function(){t.prototype.render.call(this),this._render()},e.prototype._initToolTips=function(){this._toolTips=new Ll({showTitle:!1,visible:!1,parent:this.options.container,follow:!0,inPanel:!1,items:[]}),this._toolTips.init()},e.prototype._render=function(){this._targetCanvas=this.canvas.get(\"el\"),this.options.maskImage?this._handleMaskImage():this._start()},e.prototype._handleMaskImage=function(){var t=this,e=new Image;e.src=this.options.maskImage+\"?\"+(new Date).getTime(),e.crossOrigin=\"Anonymous\",e.onload=function(){e.naturalHeight+e.naturalWidth===0||e.width+e.height===0?t._start():t._startWithMaskImage(e)},e.onerror=function(){console.error(\"image %s load failed !!!\",t.options.maskImage),t._start()}},e.prototype._start=function(){this._handleG2PlotConfig();var t=this._targetCanvas.getContext(\"2d\"),e=this.canvas.get(\"width\")/this.canvas.get(\"el\").width;t.scale(e,e),Il(this._targetCanvas,this.options)},e.prototype._handleG2PlotConfig=function(){var t,e,i,n=this.options.wordStyle.fontSize||[10,60],o=this.options.wordStyle.rotation||[-Math.PI/2,Math.PI/2];this.options.wordStyle.active?(t=!0,e=this.options.wordStyle.active.shadowColor||\"#333\",i=this.options.wordStyle.active.shadowBlur||10):t=!1,this.options=Object(F.deepMix)({},this.options,{minFontSize:n[0],maxFontSize:n[1],minRotation:o[0],maxRotation:o[1],active:t,shadowColor:e,shadowBlur:i})},e.prototype._startWithMaskImage=function(t){var e=this._scaleMaskImageCanvas(this._transformWhite2BlackPixels(t)),i=e.maskImageCanvas,n=e.maskImageContext,o=document.createElement(\"canvas\").getContext(\"2d\");o.fillStyle=this.options.backgroundColor||\"#fff\",o.fillRect(0,0,1,1);for(var r=o.getImageData(0,0,1,1).data,a=n.getImageData(0,0,i.width,i.height),s=n.createImageData(a),l=0;l<a.data.length;l+=4)a.data[l+3]>128?(s.data[l]=r[0],s.data[l+1]=r[1],s.data[l+2]=r[2],s.data[l+3]=r[3]):(s.data[l]=r[0],s.data[l+1]=r[1],s.data[l+2]=r[2],s.data[l+3]=254);n.putImageData(s,0,0),this._targetCanvas.getContext(\"2d\").drawImage(i,0,0),this.options=Object(F.deepMix)({},this.options,{clearCanvas:!1}),this._start()},e.prototype._scaleMaskImageCanvas=function(t){var e=document.createElement(\"canvas\");e.width=this.canvas.get(\"width\"),e.height=this.canvas.get(\"height\");var i=e.getContext(\"2d\");return i.imageSmoothingEnabled=!0,i.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height),{maskImageCanvas:e,maskImageContext:i}},e.prototype._transformWhite2BlackPixels=function(t){var e=document.createElement(\"canvas\");e.width=t.width,e.height=t.height;var i=e.getContext(\"2d\");i.drawImage(t,0,0,t.width,t.height);for(var n=i.getImageData(0,0,e.width,e.height),o=0;o<n.data.length;o+=4){var r=n.data[o]+n.data[o+1]+n.data[o+2];n.data[o+3]<128||r>750?(n.data[o]=255,n.data[o+1]=255,n.data[o+2]=255,n.data[o+3]=0):(n.data[o]=0,n.data[o+1]=0,n.data[o+2]=0,n.data[o+3]=255)}return i.putImageData(n,0,0),e},e}(V),Fl=function(t){function e(e,i){return i.renderer=\"canvas\",t.call(this,e,i)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"wordCloud\",i.container=this.containerDOM,t.prototype.createLayers.call(this,i)},e}(Io);To(\"wordCloud\",El);var Rl=X({Rose:\"interval\"});Object(F.assign)(R,Rl);var Yl={rose:\"interval\"},Nl={rose:\"column\"},zl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"rose\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:\"auto\",radius:.8,innerRadius:0,label:{visible:!0,type:\"inner\",autoRotate:!0,adjustColor:!1},legend:{visible:!0,position:\"right\"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},columnStyle:{stroke:\"white\",lineWidth:1},xAxis:{visible:!1,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},e.prototype.getOptions=function(e){var i=t.prototype.getOptions.call(this,e),n=e.sectorStyle,o=e.categoryField,r=e.radiusField;return Object(F.deepMix)({},i,{columnStyle:n,xField:o,yField:r})},e.prototype.geometryParser=function(t,e){return\"g2\"===t?Yl[e]:Nl[e]},e.prototype.scale=function(){var t=this.options,e={};e[t.radiusField]={},e[t.categoryField]={type:\"cat\"},this.setConfig(\"scales\",e)},e.prototype.coord=function(){var t=this.options,e={type:\"polar\",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig(\"coordinate\",e)},e.prototype.addGeometry=function(){var t=this.options;this.adjustColorFieldMapping(),this.adjustLegendOptions();var e=tr(\"interval\",\"main\",{plot:this,positionFields:[t.categoryField,t.radiusField],widthRatio:{rose:1}});e.label=this.extractLabel(),e.adjust=this.adjustRoseAdjust(),this.rose=e,this.setConfig(\"geometry\",e)},e.prototype.adjustColorFieldMapping=function(){var t=this.options;(t.stackField||t.groupField)&&(this.options.colorField=null)},e.prototype.adjustRoseAdjust=function(){},e.prototype.animation=function(){t.prototype.animation.call(this),!1===this.options.animation&&(this.rose.animate=!1)},e.prototype.annotation=function(){},e.prototype.parseEvents=function(e){t.prototype.parseEvents.call(this,b)},e.prototype.extractLabel=function(){var t=this.options;if(!t.label||!t.label.visible)return!1;var e=Object(F.deepMix)({},t.label);this.adjustLabelOptions(e);var i=[t.categoryField,t.radiusField];return(t.stackField||t.groupField)&&i.push(t.stackField||t.groupField),to(\"label\",Object(P.__assign)({plot:this,labelType:\"polar\",fields:i},e))},e.prototype.adjustLabelOptions=function(t){var e=this.options.radiusField;if(t){var i=t.offset,n=t.type,o=t.content;\"inner\"===n?t.offset=i<0?i:-10:\"outer\"===n&&(t.offset=i>=0?i:10),o||(t.content=function(t,i){return\"\"+i._origin[e]})}},e.prototype.adjustLegendOptions=function(){var t=this.options,e=t.legend;e&&(t.stackField||t.groupField||(e.clickable=!1))},e}(ko),Hl=zl;To(\"rose\",zl);var Xl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"rose\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=Hl.getDefaultOptions,e}(Io),Gl=i(\"/OH1\"),Vl=i.n(Gl),Wl=i(\"nkna\"),ql=i.n(Wl);var Ul={preRender:[],afterRender:[{name:\"responsiveAxis\",method:function(t){var e=t.getResponsiveTheme(),i=t.canvas;new qr({plot:t,responsiveTheme:e,dim:\"x\"}),new qr({plot:t,responsiveTheme:e,dim:\"y\"}),i.draw()}}]};xo(\"bar\",{columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1)}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:\"black\"}}});var $l=i(\"fggK\");function Zl(t,e,i){return(1-i)*t+i*e}function Kl(t,e){var i=e||{},n=i.duration,o=void 0===n?200:n,r=i.delay,a=i.easing,s=i.callback,l=i.reverse,c=t.getBBox(),u=l?c.maxX:c.minX,h=(c.minY+c.maxY)/2,p=t.setClip({type:\"rect\",attrs:{x:c.x,y:c.y,width:c.width,height:c.height}});p.setMatrix(Object(tt.transform)(p.getMatrix(),[[\"t\",-u,-h],[\"s\",0,1],[\"t\",u,h]]));var f={fillOpacity:t.attr(\"fillOpacity\"),strokeOpacity:t.attr(\"strokeOpacity\"),opacity:t.attr(\"opacity\")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),p.animate({matrix:[1,0,0,0,1,0,0,0,1]},{duration:200,easing:a,callback:function(){t.setClip(null),p.remove()},delay:r}),t.animate(f,{duration:o,easing:a,delay:r}),s&&setTimeout((function(){return s(t)}),o+r)}function Ql(t,e){var i=e||{},n=i.duration,o=void 0===n?200:n,r=i.delay,a=i.easing,s=i.callback,l=i.reverse,c=t.getBBox(),u=(c.minX+c.maxX)/2,h=l?c.maxY:c.minY,p=t.setClip({type:\"rect\",attrs:{x:c.x,y:c.y,width:c.width,height:c.height}});p.setMatrix(Object(tt.transform)(p.getMatrix(),[[\"t\",-u,-h],[\"s\",1,0],[\"t\",u,h]]));var f={fillOpacity:t.attr(\"fillOpacity\"),strokeOpacity:t.attr(\"strokeOpacity\"),opacity:t.attr(\"opacity\")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),p.animate({matrix:[1,0,0,0,1,0,0,0,1]},{duration:200,easing:a,callback:function(){t.setClip(null),p.remove()},delay:r}),t.animate(f,{duration:o,easing:a,delay:r}),s&&setTimeout((function(){return s(t)}),o+r)}function Jl(t,e,i){return(1-i)*t+i*e}Object(U.registerShape)(\"interval\",\"funnel-basic-rect\",{getPoints:function(t){return t.size=1.8*t.size,function(t,e){void 0===e&&(e=!1);var i,n,o,r,a=t.x,s=t.y,l=t.y0,c=t.size;Object(F.isArray)(s)?(i=s[0],n=s[1]):(i=l,n=s),Object(F.isArray)(a)?(o=a[0],r=a[1]):(o=a-c/2,r=a+c/2);var u=[{x:o,y:i},{x:o,y:n}];return e?u.push({x:r,y:(n+i)/2}):u.push({x:r,y:n},{x:r,y:i}),u}(t)},draw:function(t,e){var i,n=Object($l.getStyle)(t,!1,!0),o=Object(F.get)(t,\"data.__compare__\"),r=this.parsePath(function(t,e){var i=[],n=t.points,o=t.nextPoints;if(e){var r=e.yValues,a=e.yValuesMax,s=e.yValuesNext,l=(n[0].y+n[1].y)/2,c=r[0]+r[1],u=r.map((function(t){return t/c/.5})),h=.9*(a[0]/(a[0]+a[1])-.5);if(Object(F.isNil)(o))i.push([\"M\",n[0].x,h+(n[0].y-l)*u[0]+l],[\"L\",n[1].x,h+l],[\"L\",n[2].x,h+l],[\"L\",n[3].x,h+(n[3].y-l)*u[0]+l],[\"Z\"]),i.push([\"M\",n[0].x,h+.002+l],[\"L\",n[1].x,h+.002+(n[1].y-l)*u[1]+l],[\"L\",n[2].x,h+.002+(n[2].y-l)*u[1]+l],[\"L\",n[3].x,h+.002+l],[\"Z\"]);else{var p=s[0]+s[1],f=s.map((function(t){return t/p/.5}));i.push([\"M\",n[0].x,h+(n[0].y-l)*u[0]+l-.001],[\"L\",n[1].x,h+l-.001],[\"L\",o[1].x,h+l-.001],[\"L\",o[0].x,h+(o[3].y-l)*f[0]+l-.001],[\"Z\"]),i.push([\"M\",n[0].x,h+l+.001],[\"L\",n[1].x,h+(n[1].y-l)*u[1]+l+.001],[\"L\",o[1].x,h+(o[2].y-l)*f[1]+l+.001],[\"L\",o[0].x,h+l+.001],[\"Z\"])}}else Object(F.isNil)(o)?i.push([\"M\",n[0].x,n[0].y],[\"L\",n[1].x,n[1].y],[\"L\",n[2].x,n[2].y],[\"L\",n[3].x,n[3].y],[\"Z\"]):i.push([\"M\",n[0].x,n[0].y],[\"L\",n[1].x,n[1].y],[\"L\",o[1].x,o[1].y],[\"L\",o[0].x,o[0].y],[\"Z\"]);return i}(t,o));return e.addShape(\"path\",((i={name:\"interval\",attrs:Object(P.__assign)(Object(P.__assign)({},n),{path:r})}).__compare__=o,i))},getMarker:function(t){return{symbol:\"square\",style:{r:4,fill:t.color}}}}),Object(U.registerShape)(\"interval\",\"funnel-dynamic-rect\",{draw:function(t,e){var i=Object($l.getStyle)(t,!1,!0),n=Object(F.get)(t,\"data.__custom__\"),o=this.parsePath(function(t,e){var i=e.reverse,n=e.ratioUpper,o=e.ratioLower,r=[],a=t[0],s=(t[1].x+t[2].x)/2;if(i){var l=o;o=n,n=l}var c=(a.x-s)*Zl(.6,1.2,o)+s;r.push([\"M\",c,a.y]);for(var u=1,h=t.length;u<h;u++){var p=t[u].x;switch(u){case 1:case 2:p=(p-s)*Zl(.6,1.2,n)+s;break;case 3:p=(p-s)*Zl(.6,1.2,o)+s}r.push([\"L\",p,t[u].y])}return r.push([\"L\",c,a.y]),r.push([\"z\"]),r}(t.points,n));return e.addShape(\"path\",{attrs:Object(P.__assign)(Object(P.__assign)({},i),{path:o})})},getMarker:function(t){var e=t.color,i=t.isInPolar;return{symbol:i?\"circle\":\"square\",style:{r:i?4.5:4,fill:e}}}}),Kl.animationName=\"funnelScaleInX\",Object(U.registerAnimation)(\"funnelScaleInX\",Kl),Ql.animationName=\"funnelScaleInY\",Object(U.registerAnimation)(\"funnelScaleInY\",Ql);var tc={column:\"interval\"},ec={interval:\"funnel\"},ic=function(t){function e(e){var i=t.call(this,e)||this;return i.type=\"funnel\",i._shouldResetPercentages=!0,i._shouldResetLabels=!0,i._shouldResetCompareTexts=!0,i._legendsListenerAttached=!1,i._onLegendContainerMouseDown=function(t){var e=i.options;if(t.target.get(\"name\").startsWith(\"legend-item\")){var n=t.target.get(\"parent\");if(n.set(\"unchecked\",!n.get(\"unchecked\")),i.refreshPercentages(),i.refreshLabels(),e.dynamicHeight){var o=i._findCheckedDataByMouseDownLegendItem(n);i._genCustomFieldForDynamicHeight(o)}if(e.compareField){o=i._findCheckedDataByMouseDownLegendItem(n);i._updateDataForCompare(o),i.refreshCompareTexts()}}},i.adjustProps(i.options),e.dynamicHeight&&i._genCustomFieldForDynamicHeight(i.getData()),e.compareField&&(i.options.data=i._reduceDataForCompare(i.getData())),i}return Object(P.__extends)(e,t),e.getDefaultOptions=function(e){var i={label:{visible:!0,adjustColor:!0,formatter:e&&(e.compareField||e.transpose)?function(t,e,i,n,o){return\"\"+n}:function(t,e,i,n,o){return t+\" \"+n}},percentage:{visible:!0,offsetX:e.transpose?0:40,offsetY:e.transpose?40:0,spacing:4,line:{visible:!0,style:{lineWidth:1,stroke:\"rgba(0, 0, 0, 0.15)\"}},text:{content:\"\\u8f6c\\u5316\\u7387\",style:{fill:\"rgba(0, 0, 0, 0.65)\"}},value:{visible:!0,style:{fill:\"black\"},formatter:function(t,e){return(100*e/t).toFixed(2)+\"%\"}}},tooltip:{visible:!0,shared:!0,showTitle:!1,showCrosshairs:!1,showMarkers:!1},animation:Object(F.deepMix)({},Ta.DEFAULT_ANIMATE_CFG,{appear:{duration:800}}),dynamicHeight:!1,compareText:{visible:!0,offsetX:-16,offsetY:-16,style:{fill:\"black\"}},legend:{position:\"bottom\"},interactions:[{type:\"tooltip\"},{type:\"legend-filter\"}]};return Object(F.deepMix)({},t.getDefaultOptions.call(this),i)},e.prototype.beforeInit=function(){t.prototype.beforeInit.call(this);var e=this.options;e.responsive&&\"auto\"!==e.padding&&this.applyResponsive(\"preRender\")},e.prototype.coord=function(){var t=this.options,e={actions:t.transpose?t.dynamicHeight?[[\"transpose\"],[\"scale\",1,-1]]:[[\"scale\",1,-1]]:t.dynamicHeight?[]:[[\"transpose\"],[\"scale\",1,-1]]};this.setConfig(\"coordinate\",e)},e.prototype.axis=function(){this.setConfig(\"axes\",!1)},e.prototype.adjustFunnel=function(t){var e=this.options;t.shape=e.dynamicHeight?\"funnel-dynamic-rect\":\"funnel-basic-rect\",t.color={fields:[e.xField],values:e.color&&(Array.isArray(e.color)?e.color:[e.color])},Object(F.isFunction)(e.funnelStyle)?t.style={callback:e.funnelStyle}:t.style={cfg:e.funnelStyle},t.adjust=[{type:e.dynamicHeight?\"stack\":\"symmetric\"}]},e.prototype.tooltip=function(){var e=this.options;e.compareField&&Object(F.deepMix)(e.tooltip,{htmlContent:function(t,e){var i,n,o,r;i=ql.a.CONTAINER_CLASS,n=Object(Kt.createDom)('<div class=\"'+i+'\"></div>'),Object(Kt.modifyCSS)(n,Vl.a[i]);var a=n;if(t){i=ql.a.TITLE_CLASS,n=Object(Kt.createDom)('<div class=\"'+i+'\"></div>'),Object(Kt.modifyCSS)(n,Vl.a[i]),a.appendChild(n);var s=n;i=ql.a.MARKER_CLASS,n=Object(Kt.createDom)('<span class=\"'+i+'\"></span>'),Object(Kt.modifyCSS)(n,Vl.a[i]),Object(Kt.modifyCSS)(n,{width:\"10px\",height:\"10px\"}),s.appendChild(n),r=n,n=Object(Kt.createDom)(\"<span>\"+t+\"</span>\"),s.appendChild(n)}if(e){i=ql.a.LIST_CLASS,n=Object(Kt.createDom)('<ul class=\"'+i+'\"></ul>'),Object(Kt.modifyCSS)(n,Vl.a[i]),a.appendChild(n);var l=n;e.reduce((function(t,e){o||(o=e.color);var i=Object(F.get)(e,\"point._origin.__compare__.compareValues\");return Object(F.get)(e,\"point._origin.__compare__.yValues\").forEach((function(e,n){return t.push([i[n],e])})),t}),[]).forEach((function(t,e){var o=t[0],r=t[1];i=ql.a.LIST_ITEM_CLASS,n=Object(Kt.createDom)('<li class=\"'+i+'\" data-index='+e+\"></li>\"),Object(Kt.modifyCSS)(n,Vl.a[i]),l.appendChild(n);var a=n;i=ql.a.NAME_CLASS,n=Object(Kt.createDom)('<span class=\"'+i+'\">'+o+\"</span>\"),Object(Kt.modifyCSS)(n,Vl.a[i]),a.appendChild(n),i=ql.a.VALUE_CLASS,n=Object(Kt.createDom)('<span class=\"'+i+'\">'+r+\"</span>\"),Object(Kt.modifyCSS)(n,Vl.a[i]),a.appendChild(n)}))}return o&&r&&Object(Kt.modifyCSS)(r,{backgroundColor:o}),a}}),t.prototype.tooltip.call(this)},e.prototype.addGeometry=function(){var t=this.options,e=tr(\"interval\",\"main\",{positionFields:[t.dynamicHeight?\"_\":t.xField,t.yField],plot:this});this.adjustFunnel(e),this.funnel=e,this.setConfig(\"geometry\",e)},e.prototype.animation=function(){var e=this;t.prototype.animation.call(this);var i=this.options;if(!1===i.animation)this.funnel.animate=!1;else{var n=this.getData(),o=Object(F.get)(i,\"animation.appear.duration\"),r=o/(n.length||1);this._animationAppearTimeoutHandler&&(clearTimeout(this._animationAppearTimeoutHandler),delete this._animationAppearTimeoutHandler),this._animationAppearTimeoutHandler=setTimeout((function(){e.fadeInPercentages(r),i.compareField&&e.fadeInCompareTexts(r),delete e._animationAppearTimeoutHandler}),o),this.funnel.animate=Object(F.deepMix)({},i.animation,{appear:{animation:i.transpose?\"funnelScaleInX\":\"funnelScaleInY\",duration:r,delay:function(t){return Object(F.findIndex)(n,(function(e){return Object(F.isEqual)(e,t)}))*r},callback:function(t){e.fadeInLabels(t,.5*r)}},enter:{animation:\"fade-in\"}})}},e.prototype.afterRender=function(){var e=this.options;if(e.responsive&&\"auto\"!==e.padding&&this.applyResponsive(\"afterRender\"),this.resetLabels(),this.resetPercentages(),e.compareField&&this.resetCompareTexts(),\"auto\"==e.padding){var i=this._findPercentageContainer();i&&this.paddingController.registerPadding(i,\"inner\",!0);var n=this._findCompareTextContainer();n&&this.paddingController.registerPadding(n,\"inner\",!0)}(t.prototype.afterRender.call(this),!1===e.animation&&(this.fadeInLabels(),this.fadeInPercentages(),e.compareField&&this.fadeInCompareTexts()),this._legendsListenerAttached)||(this._legendsListenerAttached=!0,this.view.getController(\"legend\").container.on(\"mousedown\",this._onLegendContainerMouseDown))},e.prototype.updateConfig=function(e){e=this.adjustProps(e),t.prototype.updateConfig.call(this,e),this._legendsListenerAttached=!1},e.prototype.changeData=function(e){var i=this.options;if(!1!==i.animation&&(this._shouldResetPercentages=!1,this._shouldResetLabels=!1),i.dynamicHeight){var n=this._findCheckedDataInNewData(e);this._genCustomFieldForDynamicHeight(n)}if(i.compareField){e=this._reduceDataForCompare(e);n=this._findCheckedDataInNewData(e);this._updateDataForCompare(n)}t.prototype.changeData.call(this,e),this.refreshPercentages(),this.refreshLabels(),i.compareField&&this.fadeInCompareTexts()},e.prototype.geometryParser=function(t,e){return\"g2\"===t?tc[e]:ec[e]},e.prototype.applyResponsive=function(t){var e=this,i=Ul[t];Object(F.each)(i,(function(t){t.method(e)}))},e.prototype.adjustProps=function(t){return t.compareField&&(t.dynamicHeight=!1),t.dynamicHeight&&(Object(F.set)(t,\"meta.\"+t.yField+\".nice\",!1),Object(F.set)(t,\"tooltip.shared\",!1)),t},e.prototype.resetPercentages=function(){var t=this;if(this._shouldResetPercentages){var e=this.options,i=e.percentage||{},n=i.offsetX,o=i.offsetY,r=i.spacing,a=i.line,s=void 0===a?{}:a,l=i.text,c=void 0===l?{}:l,u=i.value,h=void 0===u?{}:u,p=Date.now(),f=this._findPercentageContainer(!0);this._eachShape((function(i,a,l,u){if(a>0){var d=i.getBBox(),g=d.minX,y=d.maxX,m=d.maxY,v=d.minY,b=e.transpose?g:y,x=e.transpose&&e.compareField?m:v,O=t._findPercentageMembersInContainerByIndex(f,a,!0),j=O.line,M=O.text,w=O.value,_=[function(t,i,a,f,d){a&&(a.attr(Object(F.deepMix)({},s.style,{x1:t,y1:i,x2:e.transpose?t+n:t-n,y2:e.transpose?i-o:i+o,opacity:0})),a.set(\"adjustTimestamp\",p));var g=0,y=0,m=function(){f&&(f.attr(Object(F.deepMix)({},c.style,{x:e.transpose?t+n:t-n-r-y-r,y:e.transpose?i-o-r:i+o,opacity:0,text:c.content,textAlign:e.transpose?\"left\":\"right\",textBaseline:e.transpose?\"bottom\":\"middle\"})),f.set(\"adjustTimestamp\",p),g=f.getBBox().width)},v=function(){d&&(d.attr(Object(F.deepMix)({},h.style,{x:e.transpose?t+n+g+r:t-n-r,y:e.transpose?i-o-r:i+o,opacity:0,text:Object(F.isFunction)(h.formatter)?e.compareField?h.formatter(Object(F.get)(u,\"__compare__.yValues.0\"),Object(F.get)(l,\"__compare__.yValues.0\")):h.formatter(u[e.yField],l[e.yField]):\"\",textAlign:e.transpose?\"left\":\"right\",textBaseline:e.transpose?\"bottom\":\"middle\"})),d.set(\"adjustTimestamp\",p),y=d.getBBox().width)};e.transpose?(m(),v()):(v(),m())},function(t,i,a,f,d){a&&(a.attr(Object(F.deepMix)({},s.style,{x1:t,y1:i,x2:t+n,y2:e.transpose?e.compareField?i+o:i-o:i+o,opacity:0})),a.set(\"adjustTimestamp\",p));var g=0;f&&(f.attr(Object(F.deepMix)({},c.style,{x:e.transpose?t+n:t+n+r,y:e.transpose?e.compareField?i+o+r:i-o-r:i+o,opacity:0,text:c.content,textAlign:\"left\",textBaseline:e.transpose?e.compareField?\"top\":\"bottom\":\"middle\"})),f.set(\"adjustTimestamp\",p),g=f.getBBox().width),d&&(d.attr(Object(F.deepMix)({},h.style,{x:e.transpose?t+n+g+r:t+n+r+g+r,y:e.transpose?e.compareField?i+o+r:i-o-r:i+o,opacity:0,text:Object(F.isFunction)(h.formatter)?e.compareField?h.formatter(Object(F.get)(u,\"__compare__.yValues.1\"),Object(F.get)(l,\"__compare__.yValues.1\")):h.formatter(u[e.yField],l[e.yField]):\"\",textAlign:\"left\",textBaseline:e.transpose?e.compareField?\"top\":\"bottom\":\"middle\"})),d.set(\"adjustTimestamp\",p))}];if(e.compareField){var C=[g,v];[[C[0],C[1]],[b,x]].forEach((function(t,e){var i=t[0],n=t[1];return _[e](i,n,j&&j[e],M&&M[e],w&&w[e])}))}else _[1](b,x,j,M,w)}u=l,a++})),f.get(\"children\").forEach((function(t){t.get(\"adjustTimestamp\")!=p&&(t.attr({opacity:0}),f.set(t.get(\"id\"),null),setTimeout((function(){return t.remove()}),0))}))}},e.prototype.fadeInPercentages=function(t,e){var i=this,n=this.options,o=this._findPercentageContainer(),r=function(e){var n={minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0};i._eachShape((function(r,a){var s=i._findPercentageMembersInContainerByIndex(o,a),l={minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0},c=function(t){if(t&&\"text\"==t.get(\"type\")){var e=t.getBBox(),i=e.minX,n=e.maxX,o=e.minY,r=e.maxY;i<l.minX&&(l.minX=i),n>l.maxX&&(l.maxX=n),o<l.minY&&(l.minY=o),r>l.maxY&&(l.maxY=r)}};if(Object(F.each)(s,(function(t){return Object(F.isArray)(t)?c(t[e]):c(t)})),l.minX>n.maxX||l.maxX<n.minX||l.minY>n.maxY||l.maxY<n.minY){var u=function(e){if(e){var i={opacity:1};t?e.animate(i,t):e.attr(i)}};Object(F.each)(s,(function(t){return Object(F.isArray)(t)?u(t[e]):u(t)})),Object(F.assign)(n,l)}}))};n.compareField?[0,1].forEach(r):r(),t&&e&&setTimeout(e,t)},e.prototype.fadeOutPercentages=function(t,e){var i=this,n=this._findPercentageContainer();this._eachShape((function(e,o){var r=i._findPercentageMembersInContainerByIndex(n,o),a=function(e){if(e){var i={opacity:0};t?e.animate(i,t):e.attr(i)}};Object(F.each)(r,(function(t){return Object(F.isArray)(t)?t.forEach(a):a(t)}))})),t&&e&&setTimeout(e,t)},e.prototype.refreshPercentages=function(t){var e=this;if(!1!==this.options.animation){var i=this._calcRefreshFadeDurations(),n=i.fadeOutDuration,o=i.fadeInDuration;this._shouldResetPercentages=!1,this.fadeOutPercentages(n,(function(){e._shouldResetPercentages=!0,e.resetPercentages(),e.fadeInPercentages(o,t)}))}},e.prototype._findPercentageContainer=function(t){void 0===t&&(t=!1);var e=this.view.middleGroup,i=e.get(\"percentageContainer\");return!i&&t&&(i=e.addGroup(),e.set(\"percentageContainer\",i)),i},e.prototype._findPercentageMembersInContainerByIndex=function(t,e,i){void 0===i&&(i=!1);var n=this.options,o=n.percentage||{},r=o.visible,a=o.line,s=void 0===a?{}:a,l=o.text,c=void 0===l?{}:l,u=o.value,h=void 0===u?{}:u,p={line:void 0,text:void 0,value:void 0};if(!1===r||!t)return p;if(!1!==s.visible){var f=function(n){var o=\"_percentage-line-\"+e+\"-\"+n,r=t.get(o);return!r&&i&&(r=t.addShape({id:o,type:\"line\",attrs:{}}),t.set(o,r)),r},d=n.compareField?[0,1].map(f):f(0);p.line=d}if(!1!==c.visible){f=function(n){var o=\"_percentage-text-\"+e+\"-\"+n,r=t.get(o);return!r&&i&&(r=t.addShape({id:o,type:\"text\",attrs:{}}),t.set(o,r)),r};var g=n.compareField?[0,1].map(f):f(0);p.text=g}if(!1!==h.visible){f=function(n){var o=\"_percentage-value-\"+e+\"-\"+n,r=t.get(o);return!r&&i&&(r=t.addShape({id:o,type:\"text\",attrs:{}}),t.set(o,r)),r};var y=n.compareField?[0,1].map(f):f(0);p.value=y}return p},e.prototype._calcRefreshFadeDurations=function(){var t=this.options,e=Object(F.get)(t,\"animation.update.duration\"),i=Object(F.get)(t,\"animation.enter.duration\");return{fadeInDuration:.6*Math.min(i,e),fadeOutDuration:1.2*Math.max(i,e)}},e.prototype.resetLabels=function(){var t=this;if(this._shouldResetLabels){var e,i,n=this.options,o=n.xField,r=n.yField,a=Date.now(),s=this._getGeometry().labelsContainer,l=n.label||{},c=Object(F.deepMix)(Object(P.__assign)({},this.theme.label),n.label.style,{opacity:0,textAlign:\"center\",textBaseline:\"middle\"}),u=l.formatter;this._eachShape((function(h,p,f){0==p&&(i=(e=f).__compare__);var d=h.getBBox(),g=d.minX,y=d.maxX,m=d.minY,v=d.maxY,b=f[o],x=f[r];l.adjustColor&&(c.fill=t._getAdjustedTextFillByShape(h));var O,j=f.__compare__;O=j?[0,1].map((function(t){return u(b,h,p,j.yValues[t],i.yValues[t])})).join(n.transpose?\"\\n\\n\":\"    \"):u(b,h,p,x,e[r]);var M=t._findLabelInContainerByIndex(s,p,!0),w=j?j.yValues[0]/(j.yValues[0]+j.yValues[1]):.5;M.attr(Object(P.__assign)(Object(P.__assign)({},c),{x:Jl(g,y,n.transpose?.5:w),y:Jl(m,v,n.transpose?w:.5),text:O})),M.set(\"adjustTimestamp\",a)})),s.get(\"children\").forEach((function(t){t.get(\"adjustTimestamp\")!=a&&(t.attr({opacity:0}),s.set(t.get(\"id\"),null),setTimeout((function(){return t.remove()})))}))}},e.prototype.fadeInLabels=function(t,e,i){var n=this,o=this._getGeometry().labelsContainer;this._eachShape((function(i,r){if(!t||t==i){var a=n._findLabelInContainerByIndex(o,r);if(a){var s=i.getBBox(),l=a.getBBox();if(l.minX>=s.minX&&l.maxX<=s.maxX&&l.minY>=s.minY&&l.maxY<=s.maxY){var c={opacity:1};e?a.animate(c,e):a.attr(c)}}}})),e&&i&&setTimeout(i,e)},e.prototype.fadeOutLabels=function(t,e,i){var n=this,o=this._getGeometry().labelsContainer;this._eachShape((function(i,r){if(!t||t==i){var a=n._findLabelInContainerByIndex(o,r);if(a){var s={opacity:0};e?a.animate(s,e):a.attr(s)}}})),e&&i&&setTimeout(i,e)},e.prototype.refreshLabels=function(t){var e=this;if(!1!==this.options.animation){var i=this._calcRefreshFadeDurations(),n=i.fadeOutDuration,o=i.fadeInDuration;this._shouldResetLabels=!1,this.fadeOutLabels(null,n,(function(){e._shouldResetLabels=!0,e.resetLabels(),e.fadeInLabels(null,o,t)}))}},e.prototype._findLabelInContainerByIndex=function(t,e,i){var n,o;if(void 0===i&&(i=!1),!1===(null===(n=this.options.label)||void 0===n?void 0:n.visible))return o;var r=\"_label-\"+e;return!(o=t.get(r))&&i&&(o=t.addShape({id:r,type:\"text\",attrs:{}}),t.set(r,o)),o},e.prototype.resetCompareTexts=function(){if(this._shouldResetCompareTexts){var t,e,i=this.options;if(this._eachShape((function(i,n,o){0==n&&(t=i.get(\"parent\").getBBox(),e=Object(F.get)(o,\"__compare__\"))})),t&&e&&!1!==Object(F.get)(i,\"compareText.visible\")){var n=this._findCompareTextContainer(!0),o=e.yValuesMax,r=e.compareValues,a=t.minX,s=t.maxX,l=t.minY,c=t.maxY,u=n.get(\"children\");[0,1].forEach((function(t){var e=u[t];e||(e=n.addShape({type:\"text\"})),e.attr(Object(F.deepMix)({},Object(F.get)(i,\"compareText.style\"),{text:i.transpose?r[t]:t?\"  \"+r[t]:r[t]+\"  \",x:i.transpose?a+Object(F.get)(i,\"compareText.offsetX\"):Jl(a,s,o[0]/(o[0]+o[1])),y:i.transpose?Jl(l,c,o[0]/(o[0]+o[1]))+(t?8:-8):l+Object(F.get)(i,\"compareText.offsetY\"),opacity:0,textAlign:i.transpose?\"right\":t?\"left\":\"right\",textBaseline:i.transpose&&t?\"top\":\"bottom\"}))}))}}},e.prototype.fadeInCompareTexts=function(t,e){var i=this._findCompareTextContainer();if(i){var n=i.get(\"children\");[0,1].forEach((function(e){var i=n[e];if(i){var o={opacity:1};t?i.animate(o,t):i.attr(o)}}))}t&&e&&setTimeout(e,t)},e.prototype.fadeOutCompareTexts=function(t,e){var i=this._findCompareTextContainer();if(i){var n=i.get(\"children\");[0,1].forEach((function(e){var i=n[e];if(i){var o={opacity:0};t?i.animate(o,t):i.attr(o)}}))}t&&e&&setTimeout(e,t)},e.prototype.refreshCompareTexts=function(t){var e=this;if(!1!==this.options.animation){var i=this._calcRefreshFadeDurations(),n=i.fadeInDuration,o=i.fadeOutDuration;this._shouldResetCompareTexts=!1,this.fadeOutCompareTexts(o,(function(){e._shouldResetCompareTexts=!0,e.resetCompareTexts(),e.fadeInCompareTexts(n,t)}))}},e.prototype._findCompareTextContainer=function(t){void 0===t&&(t=!1);var e=this.view.middleGroup,i=e.get(\"compareTextContainer\");return!i&&t&&(i=e.addGroup(),e.set(\"compareTextContainer\",i)),i},e.prototype._eachShape=function(t){var e,i,n=this._findCheckedData(this.getData()),o=n.length,r=0;null===(e=this._getGeometry())||void 0===e||e.elements.forEach((function(e){var a=e.shape,s=n[r];r<o&&t(a,r,s,i),i=s,r++}))},e.prototype._getGeometry=function(){return this.view.geometries[0]},e.prototype._getAdjustedTextFillByShape=function(t){var e=t.attr(\"fill\"),i=t.attr(\"opacity\")?t.attr(\"opacity\"):1,n=Fa(e);return Ra([{from:0,to:85,color:\"white\"},{from:85,to:170,color:\"#F6F6F6\"},{from:170,to:255,color:\"black\"}],Math.round(.299*n[0]+.587*n[1]+.114*n[2])/i)},e.prototype._genCustomFieldForDynamicHeight=function(t){var e=this.options,i=t.reduce((function(t,i){return t+i[e.yField]}),0),n=1;t.forEach((function(o,r){var a=o[e.yField],s=n-a/i;o.__custom__={datumIndex:r,dataLength:t.length,ratioUpper:n,ratioLower:s,reverse:e.transpose},n=s}))},e.prototype._findCheckedDataByMouseDownLegendItem=function(t){this.options;var e=t.get(\"parent\").get(\"children\").map((function(t){return!t.get(\"unchecked\")}));return this.getData().filter((function(t,i){return e[i]}))},e.prototype._findCheckedDataInNewData=function(t){var e=this.options,i=this.view.getController(\"legend\").container.findAll((function(t){return\"legend-item\"==t.get(\"name\")})).filter((function(t){return t.get(\"unchecked\")})).map((function(t){return t.get(\"id\").replace(\"-legend-item-\",\"\")}));return t.filter((function(t){return!Object(F.contains)(i,t[e.xField])}))},e.prototype._findCheckedData=function(t){var e=this.options,i=this.view.getController(\"legend\").container.findAll((function(t){return\"legend-item\"==t.get(\"name\")})).filter((function(t){return!t.get(\"unchecked\")})).map((function(t){return t.get(\"id\").replace(\"-legend-item-\",\"\")}));return t.filter((function(t){return Object(F.contains)(i,t[e.xField])}))},e.prototype._reduceDataForCompare=function(t){var e,i=this.options,n=[-1/0,-1/0];return(t=t.reduce((function(t,o){var r,a=o[i.xField],s=o[i.yField],l=o[i.compareField];e||(e=l);var c=t.find((function(t){return t[i.xField]==a}));c||((r={})[i.xField]=a,r[i.yField]=0,r.__compare__={compareValues:[],yValues:[],yValuesMax:[],yValuesNext:void 0,transpose:i.transpose},c=r,t.push(c));var u=l==e?0:1;return c.__compare__.yValues[u]=s,n[u]<s&&(n[u]=s),c.__compare__.compareValues[u]=l,t}),[])).forEach((function(e,o){e[i.yField]=Object(F.get)(e,\"__compare__.yValues\",[]).reduce((function(t,e){return t+e}),0),Object(F.set)(e,\"__compare__.yValuesMax\",n),Object(F.set)(e,\"__compare__.yValuesNext\",Object(F.get)(t,o+1+\".__compare__.yValues\"))})),t},e.prototype._updateDataForCompare=function(t){var e=[-1/0,-1/0];t.forEach((function(t){var i=Object(F.get)(t,\"__compare__.yValues\");[0,1].forEach((function(t){i[t]>e[t]&&(e[t]=i[t])}))})),t.forEach((function(i,n){Object(F.set)(i,\"__compare__.yValuesMax\",e),Object(F.set)(i,\"__compare__.yValuesNext\",Object(F.get)(t,n+1+\".__compare__.yValues\"))}))},e}(ko),nc=ic;To(\"funnel\",ic);var oc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"funnel\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=nc.getDefaultOptions,e}(Io),rc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"stackedRose\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},e.prototype.adjustRoseAdjust=function(){return[{type:\"stack\"}]},e}(Hl),ac=rc;To(\"stackedRose\",rc);var sc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"stackedRose\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=ac.getDefaultOptions,e}(Io),lc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"groupedRose\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},e.prototype.adjustRoseAdjust=function(){return[{type:\"dodge\",marginRatio:1}]},e}(Hl),cc=lc;To(\"groupedRose\",lc);var uc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"groupedRose\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=cc.getDefaultOptions,e}(Io),hc=X({Area:\"area\",Line:\"line\",Point:\"point\"});Object(F.assign)(R,hc);xo(\"radar\",{areaStyle:{normal:{},active:function(t){return{opacity:t.opacity||1}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:\"#333333\"}},lineStyle:{normal:{},active:function(t){return{opacity:t.opacity||1}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:function(t){return{lineWidth:(t.lineWidth||1)+2}}},pointStyle:{normal:{},active:function(t){var e=t.fill||t.fillStyle,i=t.size||t.radius;return{radius:i+1,shadowBlur:i,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:1}},disable:function(t){return{opacity:.5*(t.opacity||t.fillOpacity||1)}},selected:function(t){var e=t.fill||t.fillStyle,i=t.size||t.radius;return{radius:i+2,shadowBlur:i,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:2}}}});var pc={area:\"area\",line:\"line\",point:\"point\"},fc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"radar\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:\"auto\",radius:.8,smooth:!1,line:{visible:!0,size:2,style:{opacity:1}},area:{visible:!0,style:{opacity:.25}},point:{visible:!1,size:4,shape:\"point\",style:{opacity:1}},angleAxis:{visible:!0,autoRotateTitle:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1}},radiusAxis:{min:0,visible:!0,nice:!0,autoRotateTitle:!0,line:{visible:!0},tickLine:{visible:!0},gridType:\"line\",grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1}},label:{visible:!1,type:\"point\"},legend:{visible:!0,position:\"left-top\"},tooltip:{visible:!0,shared:!0,showCrosshairs:!1}})},e.prototype.init=function(){var e=this.options;e.xField=e.angleField,e.yField=e.radiusField,t.prototype.init.call(this)},e.prototype.geometryParser=function(t,e){return pc[e]},e.prototype.scale=function(){var e=this.options,i={};i[e.angleField]={},Object(F.has)(e,\"angleAxis\")&&er(i[e.angleField],e.angleAxis),i[e.radiusField]={},Object(F.has)(e,\"radiusAxis\")&&er(i[e.radiusField],e.radiusAxis),this.setConfig(\"scales\",i),t.prototype.scale.call(this)},e.prototype.coord=function(){var t={type:\"polar\",cfg:{radius:this.options.radius}};this.setConfig(\"coordinate\",t)},e.prototype.axis=function(){var t=this.options,e=to(\"axis\",{plot:this,dim:\"angle\"}),i=to(\"axis\",{plot:this,dim:\"radius\"}),n={};n[t.angleField]=e,n[t.radiusField]=i,this.setConfig(\"axes\",n)},e.prototype.addGeometry=function(){var t=this.options;if(t.area.visible){var e=tr(\"area\",\"main\",{plot:this});this.setConfig(\"geometry\",e),this.area=e}if(t.line&&t.line.visible){var i=tr(\"line\",\"guide\",{plot:this});this.setConfig(\"geometry\",i),this.line=i}if(t.point&&t.point.visible){var n=tr(\"point\",\"guide\",{plot:this});this.setConfig(\"geometry\",n),this.point=n}t.label&&this.label()},e.prototype.label=function(){var t=this.options;if(!1===t.label.visible)return this.point&&(this.point.label=!1),this.line&&(this.line.label=!1),void(this.area&&(this.area.label=!1));var e=to(\"label\",Object(P.__assign)({fields:[t.radiusField],cfg:{type:\"polar\",autoRotate:!1},plot:this},t.label));this.point?this.point.label=e:this.line?this.line.label=e:this.area&&(this.area.label=e)},e.prototype.annotation=function(){},e.prototype.animation=function(){t.prototype.animation.call(this),!1===this.options.animation&&(this.area&&(this.area.animate=!1),this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},e.prototype.parseEvents=function(e){t.prototype.parseEvents.call(this,x)},e}(ko),dc=fc;To(\"radar\",fc);var gc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"radar\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=dc.getDefaultOptions,e}(Io),yc=X({Liquid:\"intervl\",Statistic:\"annotation-text\"});Object(F.assign)(R,yc);var mc=vo(),vc=function(t,e){e.color&&!t.fill&&(t.fill=e.color),Object(F.isNumber)(e.opacity)&&(t.opacity=t.fillOpacity=e.opacity)},bc=function(t,e){e.color&&!t.stroke&&(t.stroke=e.color),Object(F.isNumber)(e.opacity)&&(t.opacity=t.strokeOpacity=e.opacity)},xc={lerp:function(t,e,i){return(1-i)*t+i*e}},Oc=function(t){var e={fill:\"#fff\",stroke:mc.color,fillOpacity:0,lineWidth:2},i=Object(F.mix)({},e,t.style);return bc(i,t),i};function jc(t,e,i,n){return 0===e?[[t+.5*i/Math.PI/2,n/2],[t+.5*i/Math.PI,n],[t+i/4,n]]:1===e?[[t+.5*i/Math.PI/2*(Math.PI-2),n],[t+.5*i/Math.PI/2*(Math.PI-1),n/2],[t+i/4,0]]:2===e?[[t+.5*i/Math.PI/2,-n/2],[t+.5*i/Math.PI,-n],[t+i/4,-n]]:[[t+.5*i/Math.PI/2*(Math.PI-2),-n],[t+.5*i/Math.PI/2*(Math.PI-1),-n/2],[t+i/4,0]]}function Mc(t,e,i,n,o,r,a){for(var s=2*Math.ceil(2*t/i*4),l=[],c=n;c<2*-Math.PI;)c+=2*Math.PI;for(;c>0;)c-=2*Math.PI;var u=r-t+(c=c/Math.PI/2*i)-2*t;l.push([\"M\",u,e]);for(var h=0,p=0;p<s;++p){var f=jc(p*i/4,p%4,i,o);l.push([\"C\",f[0][0]+u,-f[0][1]+e,f[1][0]+u,-f[1][1]+e,f[2][0]+u,-f[2][1]+e]),p===s-1&&(h=f[2][0])}return l.push([\"L\",h+u,a+t]),l.push([\"L\",u,a+t]),l.push([\"L\",u,e]),l}function wc(t,e){var i=t.get(\"parent\"),n=i.getBBox(),o=Math.min(Math.max(0,Object(F.get)(e,\"factor\",.5)),1),r=Object(F.get)(e,\"delay\",0),a=Object(F.get)(e,\"duration\",800),s=e.callback,l=(n.minX+n.maxX)/2,c=n.maxY,u=i.find((function(t){return\"wrap\"==t.get(\"name\")})),h=u.attr(\"opacity\");u.attr(\"opacity\",0),u.animate({opacity:h},a*o,\"easeLinear\",null,r);var p=i.find((function(t){return\"waves\"==t.get(\"name\")})),f=Object(F.clone)(p.attr(\"matrix\"))||[1,0,0,0,1,0,0,0,1],d=ca(f,[[\"t\",-l,-c],[\"s\",1,0],[\"t\",l,c]]);p.setMatrix(d),p.animate({matrix:f},a,e.easing,(function(){return s&&s(i,u,p)}),r)}Object(U.registerShape)(\"interval\",\"liquid-fill-gauge\",{draw:function(t,e){var i=0,n=1/0;Object(F.each)(t.points,(function(t){t.x<n&&(n=t.x),i+=t.x}));var o=i/t.points.length,r=this.parsePoint({x:o,y:.5}),a=this.parsePoint({x:n,y:.5}),s=r.x-a.x,l=Math.min(s,a.y),c=function(t){var e={lineWidth:0,fill:mc.color,fillOpacity:.85},i=Object(F.mix)({},e,t.style);return vc(i,t),t.color&&!i.stroke&&(i.stroke=i.stroke||t.color),i}(t).fill,u=e.addGroup({name:\"waves\",attrs:{x:r.x,y:r.y}});u.setClip({type:\"circle\",attrs:{x:r.x,y:r.y,r:l}});var h=u.get(\"clipShape\");!function(t,e,i,n,o,r,a,s){for(var l=a.getBBox(),c=l.maxX-l.minX,u=l.maxY-l.minY,h=0;h<n;h++){var p=n<=1?0:h/(n-1),f=r.addShape(\"path\",{attrs:{path:Mc(s,l.minY+u*i,c/4,0,c/xc.lerp(56,64,p),t,e),fill:o,opacity:xc.lerp(.6,.3,p)}}),d=ca([[\"t\",c/2,0]]);f.animate({matrix:d},{duration:xc.lerp(5e3,3500,p),repeat:!0})}}(r.x,r.y,1-t.points[1].y,3,c,u,h,4*l);e.addShape(\"circle\",{name:\"wrap\",attrs:Object(F.mix)(Oc(t),{x:r.x,y:r.y,r:l,fill:\"transparent\"})});return u[0]}}),wc.animationName=\"liquidMoveIn\",Object(U.registerAnimation)(\"liquidMoveIn\",wc);var _c={column:\"interval\"},Cc={interval:\"liquid\"},Sc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"liquid\",e.shouldFadeInAnnotation=!0,e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{animation:{factor:.4,easing:\"easeExpOut\",duration:800},liquidStyle:{lineWidth:2},color:\"#6a99f9\",interactions:[]})},e.prototype.beforeInit=function(){var t=this.options,e=t.min,i=t.max,n=t.value;if(!Object(F.isNumber)(e))throw new Error(\"The min value of Liquid is required, and the type of min must be Number.\");if(!Object(F.isNumber)(i))throw new Error(\"The max value of Liquid is required, and the type of max must be Number.\");if(!Object(F.isNumber)(n))throw new Error(\"The value of Liquid is required, and the type of value must be Number.\")},e.prototype.init=function(){this.options.data=[{}],t.prototype.init.call(this)},e.prototype.coord=function(){},e.prototype.scale=function(){var e=this.options,i=e.min,n=e.max,o={value:{}};er(o.value,{min:Math.min(i,n),max:Math.max(i,n)}),this.setConfig(\"scales\",o),t.prototype.scale.call(this)},e.prototype.axis=function(){this.setConfig(\"axes\",!1)},e.prototype.adjustLiquid=function(t){var e=this.options;t.shape={values:[\"liquid-fill-gauge\"]},t.tooltip=!1;var i=e.liquidStyle;Object(F.isFunction)(i)&&(i=i()),i&&(t.style=i)},e.prototype.addGeometry=function(){var t=tr(\"interval\",\"main\",{positionFields:[1,\"value\"],plot:this});this.adjustLiquid(t),this.liquid=t,this.setConfig(\"geometry\",t)},e.prototype.animation=function(){var t=this.options;if(!1===t.animation)this.liquid.animate=!1;else{var e=Object(F.get)(t,\"animation.factor\"),i=Object(F.get)(t,\"animation.easing\"),n=Object(F.get)(t,\"animation.duration\");this.liquid.animate={appear:{animation:\"liquidMoveIn\",factor:e,easing:i,duration:n}}}},e.prototype.geometryParser=function(t,e){return\"g2\"===t?_c[e]:Cc[e]},e.prototype.annotation=function(){var t=[],e=this.extractStatistic();t.push(e),this.setConfig(\"annotations\",t)},e.prototype.extractStatistic=function(){var t,e,i,n=this.options,o=n.statistic||{};if(t=Object(F.isFunction)(o.formatter)?o.formatter(n.value):\"\"+n.value){e=.8*(n.width<n.height?.8*n.width:n.height)/t.length,i=Math.max(1,Math.ceil(.025*e))}o.visible;var r=Object(F.deepMix)({style:{fontSize:e,shadowBlur:i}},o,{top:!0,content:t,type:\"text\",position:[\"50%\",\"50%\"],style:{opacity:1,fill:\"transparent\",shadowColor:\"transparent\",textAlign:\"center\"}});return delete r.visible,delete r.formatter,delete r.adjustColor,r},e.prototype.parseEvents=function(e){t.prototype.parseEvents.call(this,O)},e.prototype.afterRender=function(){this.fadeInAnnotation();var t=this.options,e=t.padding?t.padding:this.config.theme.padding;t.defaultState&&\"auto\"!==e&&this.stateController.defaultStates(t.defaultState),\"auto\"===e&&this.paddingController.processAutoPadding()},e.prototype.processData=function(t){return[{_:\"_\",value:this.options.value}]},e.prototype.changeValue=function(t){this.options.value=t,this.changeData([])},e.prototype.fadeInAnnotation=function(){var t=this,e=this.options,i=this.view.foregroundGroup.findAll((function(t){return\"annotation-text\"===t.get(\"name\")}))[0],n=e.animation||{},o=this.calcAnnotationColorStyle();this.shouldFadeInAnnotation?i.animate(o,n.duration*Math.min(1,1.5*n.factor),null,(function(){t.shouldFadeInAnnotation=!1})):Object(F.forIn)(o,(function(t,e){return i.attr(e,t)}))},e.prototype.calcAnnotationColorStyle=function(){var t=this.options,e={fill:\"#303030\",shadowColor:\"white\"};if(!1===Object(F.get)(t,\"statistic.adjustColor\"))return{fill:Object(F.get)(t,\"statistic.style.fill\",e.fill),shadowColor:Object(F.get)(t,\"statistic.style.shadowColor\",e.shadowColor)};var i=t.min,n=t.max,o=t.value;if(((i=Math.min(i,n))==(n=Math.max(i,n))?1:(o-i)/(n-i))>.55){var r=Fa(this.options.color);return Math.round(.299*r[0]+.587*r[1]+.114*r[2])/.8<156?{fill:\"#f6f6f6\",shadowColor:\"black\"}:e}return e},e.prototype.updateConfig=function(e){t.prototype.updateConfig.call(this,e),this.shouldFadeInAnnotation=!0},e.prototype.getViewRange=function(){var e=t.prototype.getViewRange.call(this),i=this.options.liquidStyle,n=i.lineWidth?i.lineWidth:2,o=e.minX,r=e.minY,a=e.width,s=e.height,l=Math.min(a,s)-2*n;return new G(o+a/2-l/2,r+s/2-l/2,l,l)},e}(ko),kc=Sc;To(\"liquid\",Sc);var Ac=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"liquid\",t.prototype.createLayers.call(this,i)},e.prototype.changeValue=function(t,e){if(void 0===e&&(e=!1),e)this.eachLayer((function(e){e instanceof kc&&e.changeValue(t)}));else{var i=this.layers[0];i instanceof kc&&i.changeValue(t)}},e.getDefaultOptions=kc.getDefaultOptions,e}(Io),Lc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"histogram\",e}return Object(P.__extends)(e,t),e.prototype.init=function(){this.options.xField=\"range\",this.options.yField=\"count\",t.prototype.init.call(this)},e.prototype.processData=function(t){var e=this,i=this.options,n=i.binField,o=i.binWidth,r=i.binNumber,a=Object(F.clone)(t);Object(F.sortBy)(a,n);var s=Object(F.valuesOfKey)(a,n),l=Object(F.getRange)(s),c=l.max-l.min,u=o;if(!o&&r&&(u=c/r),!o&&!r){var h=Dn(s);u=c/h}var p={};Object(F.each)(a,(function(t){var i=t[n],o=e.getBin(i,u),r=o[0]+\"-\"+o[1];Object(F.hasKey)(p,r)||(p[r]={name:r,range:o,count:0,data:[]}),p[r].data.push(t),p[r].count+=1}));var f=[];return Object(F.each)(p,(function(t){f.push(t)})),f},e.prototype.scale=function(){t.prototype.scale.call(this);var e=this.config.scales.range;e.nice=!1,e.type=\"linear\"},e.prototype.getBin=function(t,e){var i=Math.floor(t/e);return[e*i,e*(i+1)]},e}(Bs),Bc=Lc;To(\"histogram\",Lc);var Dc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"histogram\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=Bc.getDefaultOptions,e}(Io),Tc={epanechnikov:function(t){return Math.abs(t)<=1?.75*(1-t*t):0},gaussian:function(t){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*Math.pow(t,2))},uniform:function(t){return Math.abs(t)<=1?.5:0},triangle:function(t){return Math.abs(t)<=1?1-Math.abs(t):0},quartic:function(t){var e=1-t*t;return Math.abs(t)<=1?.9375*e*e:0},triweight:function(t){var e=1-t*t;return Math.abs(t)<=1?.9375*Math.pow(e,3):0},cosinus:function(t){var e=Math.PI/4*Math.cos(.5*Math.PI*t);return Math.abs(t)<=1?e:0}},Pc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"density\",e}return Object(P.__extends)(e,t),e.prototype.init=function(){var e=this.options.xAxis?Object(F.clone)(this.options.xAxis):{};this.options.xField=\"value\",this.options.yField=\"density\",this.options.xAxis=Object(F.deepMix)({},e,{type:\"linear\"}),this.options.smooth=!0,t.prototype.init.call(this)},e.prototype.processData=function(t){var e=this,i=this.options,n=i.binField,o=i.binWidth,r=i.binNumber,a=i.kernel,s=Tc[a||\"epanechnikov\"],l=Object(F.clone)(t);Object(F.sortBy)(l,n);var c=Object(F.valuesOfKey)(l,n),u=Object(F.getRange)(c),h=u.max-u.min,p=r,f=o;!r&&o&&(p=Math.floor(h/o)),!o&&r&&(f=h/r),r||o||(p=Dn(c),f=h/r);var d=new(Wi(\"linear\"))({min:u.min,max:u.max,tickCount:p,nice:!1}).getTicks(),g=[];return Object(F.each)(d,(function(t){var i=e.kernelDensityEstimator(f,s,t,c);g.push({value:t.text,density:i})})),g},e.prototype.kernelDensityEstimator=function(t,e,i,n){var o=0;return Object(F.each)(n,(function(n){var r=(i.tickValue-n)/t;o+=e(r)})),0===n.length?0:o/n.length},e}(ps),Ic=Pc;To(\"density\",Pc);var Ec=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"density\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=Ic.getDefaultOptions,e}(Io),Fc=function(){function t(t){this.type=\"coordinate\",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var e=t.start,i=t.end,n=t.matrix,o=void 0===n?[1,0,0,0,1,0,0,0,1]:n,r=t.isTransposed,a=void 0!==r&&r;this.start=e,this.end=i,this.matrix=o,this.originalMatrix=Object(P.__spreadArrays)(o),this.isTransposed=a}return t.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},t.prototype.update=function(t){F.assign(this,t),this.initial()},t.prototype.convertDim=function(t,e){var i,n=this[e],o=n.start,r=n.end;return this.isReflect(e)&&(o=(i=[r,o])[0],r=i[1]),o+t*(r-o)},t.prototype.invertDim=function(t,e){var i,n=this[e],o=n.start,r=n.end;return this.isReflect(e)&&(o=(i=[r,o])[0],r=i[1]),(t-o)/(r-o)},t.prototype.applyMatrix=function(t,e,i){void 0===i&&(i=0);var n=this.matrix,o=[t,e,i];return tt.vec3.transformMat3(o,o,n),o},t.prototype.invertMatrix=function(t,e,i){void 0===i&&(i=0);var n=this.matrix,o=tt.mat3.invert([],n),r=[t,e,i];return tt.vec3.transformMat3(r,r,o),r},t.prototype.convert=function(t){var e=this.convertPoint(t),i=e.x,n=e.y,o=this.applyMatrix(i,n,1);return{x:o[0],y:o[1]}},t.prototype.invert=function(t){var e=this.invertMatrix(t.x,t.y,1);return this.invertPoint({x:e[0],y:e[1]})},t.prototype.rotate=function(t){var e=this.matrix,i=this.center;return tt.mat3.translate(e,e,[-i.x,-i.y]),tt.mat3.rotate(e,e,t),tt.mat3.translate(e,e,[i.x,i.y]),this},t.prototype.reflect=function(t){return\"x\"===t?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},t.prototype.scale=function(t,e){var i=this.matrix,n=this.center;return tt.mat3.translate(i,i,[-n.x,-n.y]),tt.mat3.scale(i,i,[t,e]),tt.mat3.translate(i,i,[n.x,n.y]),this},t.prototype.translate=function(t,e){var i=this.matrix;return tt.mat3.translate(i,i,[t,e]),this},t.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},t.prototype.getCenter=function(){return this.center},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isReflect=function(t){return\"x\"===t?this.isReflectX:this.isReflectY},t.prototype.resetMatrix=function(t){this.matrix=t||Object(P.__spreadArrays)(this.originalMatrix)},t}(),Rc=function(t){function e(e){var i=t.call(this,e)||this;return i.isRect=!0,i.type=\"cartesian\",i.initial(),i}return Object(P.__extends)(e,t),e.prototype.initial=function(){t.prototype.initial.call(this);var e=this.start,i=this.end;this.x={start:e.x,end:i.x},this.y={start:e.y,end:i.y}},e.prototype.convertPoint=function(t){var e,i=t.x,n=t.y;return this.isTransposed&&(i=(e=[n,i])[0],n=e[1]),{x:this.convertDim(i,\"x\"),y:this.convertDim(n,\"y\")}},e.prototype.invertPoint=function(t){var e,i=this.invertDim(t.x,\"x\"),n=this.invertDim(t.y,\"y\");return this.isTransposed&&(i=(e=[n,i])[0],n=e[1]),{x:i,y:n}},e}(Fc),Yc=function(t){function e(e){var i=t.call(this,e)||this;i.isHelix=!0,i.type=\"helix\";var n=e.startAngle,o=void 0===n?1.25*Math.PI:n,r=e.endAngle,a=void 0===r?7.25*Math.PI:r,s=e.innerRadius,l=void 0===s?0:s,c=e.radius;return i.startAngle=o,i.endAngle=a,i.innerRadius=l,i.radius=c,i.initial(),i}return Object(P.__extends)(e,t),e.prototype.initial=function(){t.prototype.initial.call(this);var e=(this.endAngle-this.startAngle)/(2*Math.PI)+1,i=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(i*=this.radius),this.d=Math.floor(i*(1-this.innerRadius)/e),this.a=this.d/(2*Math.PI),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*i,end:this.innerRadius*i+.99*this.d}},e.prototype.convertPoint=function(t){var e,i=t.x,n=t.y;this.isTransposed&&(i=(e=[n,i])[0],n=e[1]);var o=this.convertDim(i,\"x\"),r=this.a*o,a=this.convertDim(n,\"y\");return{x:this.center.x+Math.cos(o)*(r+a),y:this.center.y+Math.sin(o)*(r+a)}},e.prototype.invertPoint=function(t){var e,i=this.d+this.y.start,n=tt.vec2.subtract([],[t.x,t.y],[this.center.x,this.center.y]),o=tt.vec2.angleTo(n,[1,0],!0),r=o*this.a;tt.vec2.length(n)<r&&(r=tt.vec2.length(n)),o=2*Math.floor((tt.vec2.length(n)-r)/i)*Math.PI+o;var a=this.a*o,s=tt.vec2.length(n)-a;s=Object(F.isNumberEqual)(s,0)?0:s;var l=this.invertDim(o,\"x\"),c=this.invertDim(s,\"y\");return l=Object(F.isNumberEqual)(l,0)?0:l,c=Object(F.isNumberEqual)(c,0)?0:c,this.isTransposed&&(l=(e=[c,l])[0],c=e[1]),{x:l,y:c}},e}(Fc),Nc=function(t){function e(e){var i=t.call(this,e)||this;i.isPolar=!0,i.type=\"polar\";var n=e.startAngle,o=void 0===n?-Math.PI/2:n,r=e.endAngle,a=void 0===r?3*Math.PI/2:r,s=e.innerRadius,l=void 0===s?0:s,c=e.radius;return i.startAngle=o,i.endAngle=a,i.innerRadius=l,i.radius=c,i.initial(),i}return Object(P.__extends)(e,t),e.prototype.initial=function(){for(t.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=2*Math.PI;var e,i=this.getOneBox(),n=i.maxX-i.minX,o=i.maxY-i.minY,r=Math.abs(i.minX)/n,a=Math.abs(i.minY)/o;this.height/o>this.width/n?(e=this.width/n,this.circleCenter={x:this.center.x-(.5-r)*this.width,y:this.center.y-(.5-a)*e*o}):(e=this.height/o,this.circleCenter={x:this.center.x-(.5-r)*e*n,y:this.center.y-(.5-a)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=e*this.radius:(this.radius<=0||this.radius>e)&&(this.polarRadius=e):this.polarRadius=e,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},e.prototype.getRadius=function(){return this.polarRadius},e.prototype.convertPoint=function(t){var e,i=this.getCenter(),n=t.x,o=t.y;return this.isTransposed&&(n=(e=[o,n])[0],o=e[1]),n=this.convertDim(n,\"x\"),o=this.convertDim(o,\"y\"),{x:i.x+Math.cos(n)*o,y:i.y+Math.sin(n)*o}},e.prototype.invertPoint=function(t){var e=this.getCenter(),i=[t.x-e.x,t.y-e.y],n=[1,0,0,0,1,0,0,0,1];tt.mat3.rotate(n,n,this.startAngle);var o=[1,0,0];tt.vec3.transformMat3(o,o,n),o=[o[0],o[1]];var r=tt.vec2.angleTo(o,i,this.endAngle<this.startAngle);Object(F.isNumberEqual)(r,2*Math.PI)&&(r=0);var a=tt.vec2.length(i),s=r/(this.endAngle-this.startAngle);s=this.endAngle-this.startAngle>0?s:-s;var l=this.invertDim(a,\"y\"),c={x:0,y:0};return c.x=this.isTransposed?l:s,c.y=this.isTransposed?s:l,c},e.prototype.getCenter=function(){return this.circleCenter},e.prototype.getOneBox=function(){var t=this.startAngle,e=this.endAngle;if(Math.abs(e-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var i=[0,Math.cos(t),Math.cos(e)],n=[0,Math.sin(t),Math.sin(e)],o=Math.min(t,e);o<Math.max(t,e);o+=Math.PI/18)i.push(Math.cos(o)),n.push(Math.sin(o));return{minX:Math.min.apply(Math,i),maxX:Math.max.apply(Math,i),minY:Math.min.apply(Math,n),maxY:Math.max.apply(Math,n)}},e}(Fc),zc={},Hc=function(t){return zc[t.toLowerCase()]},Xc=function(t,e){zc[t.toLowerCase()]=e};Xc(\"rect\",Rc),Xc(\"cartesian\",Rc),Xc(\"polar\",Nc),Xc(\"helix\",Yc);var Gc=function(){function t(t){this.type=\"variable\",Object(F.assign)(this,t)}return t.prototype.normalize=function(){},t}();var Vc={preRender:[{name:\"responsiveRing\",method:function(t){var e=t.options,i=t.getResponsiveTheme(),n=e.padding,o=e.radius?e.radius:1,r=t.width,a=t.height,s={radius:o,coord:new(Hc(\"polar\"))({radius:o,start:{x:n[3],y:n[0]},end:{x:r-n[1],y:a-n[2]}})},l=new Gc({nodes:[{name:\"innerRadius\",value:0}]}),c=i.ring.constraints;new Gr({nodes:l,constraints:c,region:s,plot:t,onEnd:function(){e.innerRadius=l.nodes[0].value}})}}]};wo(\"ring\",{ring:{constraints:[{name:\"ringThickness\"},{name:\"minRingThickness\"}]}});var Wc=X({Ring:\"interval\"});Object(F.assign)(R,Wc);var qc=function(){function t(t){var e=this.getDefaultOptions();this.options=Object(F.deepMix)(e,t,{}),this.x=this.options.x,this.y=this.options.y,this.html=this.options.html,this.container=this.options.container}return t.prototype.render=function(){if(Object(F.isElement)(this.container)){this.wrapperNode=Object(Kt.createDom)('<div class=\"g2plot-htmlStatistic\"></div>'),this.container.appendChild(this.wrapperNode),Object(Kt.modifyCSS)(this.wrapperNode,{position:\"absolute\"});var t=Object(Kt.createDom)(this.html);this.wrapperNode.appendChild(t),this.setDomPosition(this.x,this.y)}},t.prototype.updateHtml=function(t){this.wrapperNode.innerHTML=t},t.prototype.updatePosition=function(t,e){this.setDomPosition(t,e)},t.prototype.destory=function(){this.container.removeChild(this.wrapperNode)},t.prototype.getDefaultOptions=function(){return{x:0,y:0,html:\"\",container:null,alignX:\"middle\",alignY:\"middle\"}},t.prototype.setDomPosition=function(t,e){var i=t,n=e,o=Object(Kt.getOuterWidth)(this.wrapperNode),r=Object(Kt.getOuterHeight)(this.wrapperNode);\"middle\"===this.options.alignX&&(i=t-o/2),\"middle\"===this.options.alignY&&(n=e-r/2),Object(Kt.modifyCSS)(this.wrapperNode,{top:Math.round(n)+\"px\",left:Math.round(i)+\"px\"})},t}(),Uc=\"color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;\",$c=\"font-weight:300;\",Zc=\"font-size:32px;font-weight:bold;color:#4D4D4D\";var Kc=function(t){function e(e){var i=t.call(this,e)||this;return i.view=e.view,i.plot=e.plot,i.statisticClass=e.statisticClass,i.adjustOptions(),i}return Object(P.__extends)(e,t),e.prototype.triggerOn=function(){var t=this,e=this.options.triggerOn;this.view.on(\"interval:\"+e,Object(F.debounce)((function(e){var i=t.parseStatisticData(e.data.data),n=t.getStatisticHtmlString(i);t.updateHtml(n)}),150));var i=this.options.triggerOff?this.options.triggerOff:\"mouseleave\";this.view.on(\"interval:\"+i,Object(F.debounce)((function(e){var i=t.getTotalValue(),n=t.parseStatisticData(i),o=t.getStatisticHtmlString(n);t.updateHtml(o)}),150))},e.prototype.adjustOptions=function(){var t,e;if(this.options.content)t=this.options.content;else{var i=this.getTotalValue();t=this.parseStatisticData(i)}e=this.options.htmlContent?this.options.htmlContent(t):this.getStatisticTemplate(t),this.html=e;var n=this.view.coordinateBBox,o=n.minX,r=n.minY,a=n.width,s=n.height;this.x=o+a/2,this.y=r+s/2},e.prototype.getTotalValue=function(){var t,e=0,i=this.plot.options,n=i.angleField,o=i.colorField;return Object(F.each)(this.plot.options.data,(function(t){\"number\"===typeof t[n]&&(e+=t[n])})),(t={})[n]=e,t[o]=\"\\u603b\\u8ba1\",t},e.prototype.parseStatisticData=function(t){var e=this.plot.options,i=e.angleField,n=e.colorField;return n?{name:t[n],value:t[i]}:t[i]},e.prototype.getStatisticTemplate=function(t){var e,i=this.getStatisticSize();if(Object(F.isString)(t))e=function(t,e,i){return'<div class=\"ring-guide-html '+e+'\" style='+(Uc+\"width:\"+i+\"px;\")+'><span class=\"ring-guide-value\" style='+Zc+\">\"+t+\"</span></div>\"}(t,this.statisticClass,i);else if(Object(F.isObject)(t)&&2===Object(F.keys)(t).length){var n=t;e=function(t,e,i,n){return'<div class=\"ring-guide-html '+i+'\" style='+(Uc+\"width:\"+n+\"px;\")+'><span class=\"ring-guide-name\" style='+$c+\">\"+t+'</span><br/><span class=\"ring-guide-value\" style='+Zc+\">\"+e+\"</span></div>\"}(n.name,n.value,this.statisticClass,i)}return e},e.prototype.getStatisticSize=function(){var t=this.view.getCoordinate().getRadius(),e=this.plot.options;return t/e.radius*e.innerRadius*2},e.prototype.getStatisticHtmlString=function(t){var e,i=this.options.triggerOn;return Object(F.isString)(i)&&(e=this.getStatisticTemplate(t)),Object(F.isFunction)(i)&&(e=i(t),e='<div class=\"ring-guide-html '+this.statisticClass+'\">'+e+\"</div>\"),e},e}(qc),Qc={ring:\"interval\"},Jc={interval:\"ring\"},tu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"donut\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{radius:.6,innerRadius:.64,statistic:{visible:!0,triggerOn:\"mouseenter\",triggerOff:\"mouseleave\"}})},e.prototype.beforeInit=function(){t.prototype.beforeInit.call(this),e.centralId++,this.statisticClass=\"statisticClassId\"+e.centralId,this.adjustLabelDefaultOptions(),this.options.statistic&&this.options.statistic.triggerOn&&(this.options.tooltip.visible=!1),this.options.responsive&&\"auto\"!==this.options.padding&&this.applyResponsive(\"preRender\")},e.prototype.afterRender=function(){var t=this.options,e=this.canvas.get(\"container\");if(this.statistic&&e.removeChild(this.statistic.wrapperNode),this.options.statistic&&this.options.statistic.visible){var i=this.canvas.get(\"container\");Object(Kt.modifyCSS)(i,{position:\"relative\"}),this.statistic=new Kc(Object(P.__assign)({container:i,view:this.view,plot:this,statisticClass:this.statisticClass},this.options.statistic)),this.statistic.render(),this.options.statistic.triggerOn&&this.statistic.triggerOn()}t.label&&t.label.visible&&new(sl(t.label.type))(this,t.label).render()},e.prototype.destroy=function(){this.statistic&&this.statistic.destroy(),t.prototype.destroy.call(this)},e.prototype.geometryParser=function(t,e){return\"g2\"===t?Qc[e]:Jc[e]},e.prototype.coord=function(){var t=this.options,e={type:\"theta\",cfg:{radius:t.radius,innerRadius:t.innerRadius}};this.setConfig(\"coordinate\",e)},e.prototype.parseEvents=function(e){t.prototype.parseEvents.call(this,j)},e.prototype.applyResponsive=function(t){var e=this,i=Vc[t];Object(F.each)(i,(function(t){t.method(e)}))},e.prototype.adjustLabelDefaultOptions=function(){var t=this.options.label;if(t&&\"inner\"===t.type){var e=t.style||{};e.textAlign||(e.textAlign=\"center\"),t.style=e,t.offset||(t.offset=(this.options.innerRadius-1)/2*100+\"%\")}},e.centralId=0,e}(fl),eu=tu;To(\"donut\",tu);var iu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"donut\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=eu.getDefaultOptions,e}(Io);Object(U.registerShape)(\"interval\",\"waterfall\",{draw:function(t,e){var i=function(t,e,i){var n=t.style,o=t.defaultStyle,r=t.color,a=Object(P.__assign)(Object(P.__assign)({},o),n);return r&&(e&&(a.stroke=r),i&&(a.fill=r)),a}(t,!1,!0),n=this.parsePath(function(t){var e=[],i=t[0];e.push([\"M\",i.x,i.y]);for(var n=1,o=t.length;n<o;n++)e.push([\"L\",t[n].x,t[n].y]);return e.push([\"L\",i.x,i.y]),e.push([\"z\"]),e}(t.points)),o=e.addShape(\"path\",{attrs:Object(P.__assign)(Object(P.__assign)({},i),{path:n}),name:\"interval\"}),r=Object(F.get)(t.style,\"leaderLine\");if(r&&r.visible){var a=r.style||{};if(t.nextPoints){var s=[[\"M\",t.points[2].x,t.points[2].y],[\"L\",t.nextPoints[0].x,t.nextPoints[0].y]];s=this.parsePath(s),e.addShape(\"path\",{attrs:Object(P.__assign)({path:s,stroke:\"#d3d3d3\",lineDash:[4,2],lineWidth:1},a),name:\"leader-line\"})}}return o}});var nu=function(t){function e(e){return t.call(this,e)||this}return Object(P.__extends)(e,t),e.prototype.adjustLabel=function(t,e){var i=e.getBBox(),n=e.cfg.origin.data,o=n[su],r=n[this.plot.options.yField],a=Object(F.isArray)(o)?o[1]:o,s=(i.minY+i.maxY)/2,l=\"bottom\";r<0?(s=i.maxY+2,l=\"top\"):s=i.minY-2,t.attr(\"y\",s),t.attr(\"text\",a),t.attr(\"textBaseline\",l)},e}(Cs);var ou=function(){function t(t){this.textAttrs={},this.view=t.view,this.fields=t.fields,this.formatter=t.formatter,this.textAttrs=Object(F.mix)({fill:\"#fff\",fontSize:12,lineHeight:12,stroke:\"rgba(0, 0, 0, 0.45)\"},t.style),this._init()}return t.prototype.draw=function(){var t=this;if(this.view&&!this.view.destroyed){var e=Object(F.clone)(this.view.getData());this.container=this.view.foregroundGroup.addGroup();var i=this.view.geometries[0].elements.map((function(t){return t.shape}));Object(F.each)(i,(function(n,o){if(n.cfg.origin){var r=n.cfg.origin.data,a=n.getBBox(),s=r[su],l=s;Object(F.isArray)(s)&&(l=s[1]-s[0]),l=l>0?\"+\"+l:l,r[lu]&&(l=s[0]-s[1]);var c=l;if(t.formatter){var u=i[o].attr(\"fill\");c=t.formatter(\"\"+l,{_origin:e[o],color:u},o)}var h=t.container.addShape(\"text\",{attrs:Object(P.__assign)({text:c,textBaseline:\"middle\",textAlign:\"center\",x:(a.minX+a.maxX)/2,y:(a.minY+a.maxY)/2},t.textAttrs),name:\"dill-label\"});h.getBBox().height>a.height&&h.set(\"visible\",!1)}})),this.view.getCanvas().draw()}},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype._init=function(){var t=this;this.view.on($.VIEW_LIFE_CIRCLE.BEFORE_RENDER,(function(){t.clear()})),this.view.on($.VIEW_LIFE_CIRCLE.AFTER_RENDER,(function(){t.draw()}))},t}(),ru={waterfall:\"interval\"},au={interval:\"waterfall\"},su=\"$$value$$\",lu=\"$$total$$\",cu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"watarfall\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{legend:{visible:!1,position:\"bottom\"},label:{visible:!0,adjustPosition:!0},diffLabel:{visible:!0},leaderLine:{visible:!0},showTotal:{visible:!0,label:\"\\u603b\\u8ba1\\u503c\"},waterfallStyle:{lineWidth:0},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1}})},e.prototype.getOptions=function(e){var i=t.prototype.getOptions.call(this,e);return this.adjustLegendOptions(i),this.adjustMeta(i),i},e.prototype.afterInit=function(){t.prototype.afterInit.call(this);var e=this.options;e.diffLabel&&e.diffLabel.visible?this.diffLabel=new ou({view:this.view,fields:[e.xField,e.yField,su],formatter:e.diffLabel.formatter,style:e.diffLabel.style}):this.diffLabel&&(this.diffLabel.clear(),this.diffLabel=null)},e.prototype.afterRender=function(){t.prototype.afterRender.call(this);var e=this.options;this.view.on(\"tooltip:change\",(function(t){for(var i=t.items,n=0;n<i.length;n++){var o=i[n],r=Object(F.get)(o,\"data\",{});if(o.name=r[e.xField],o.value=r[e.yField],!o.value&&r[lu]){var a=r[su];o.value=a[0]-a[1]}t.items[n]=o}})),this.renderLabel()},e.prototype.renderLabel=function(){this.options.label&&this.options.label.visible&&new nu(Object(P.__assign)({view:this.view,plot:this},this.options.label)).render()},e.prototype.geometryParser=function(t,e){return\"g2\"===t?ru[e]:au[e]},e.prototype.interaction=function(){this.setConfig(\"interactions\",[{type:\"tooltip\"},{type:\"active-region\"}])},e.prototype.addGeometry=function(){var t={type:\"interval\",position:{fields:[this.options.xField,su]},shape:{values:[\"waterfall\"]}};t.style=this._parseStyle(),t.color=this._parseColor(),this.waterfall=t,this.setConfig(\"geometry\",t)},e.prototype.processData=function(t){var e,i=[],n=this.options.xField,o=this.options.yField;if(Object(F.map)(t,(function(t,e){var n,r=t[o];if(e>0){var a=i[e-1][su];r=Object(F.isArray)(a)?[a[1],t[o]+a[1]]:[a,t[o]+a]}i.push(Object(P.__assign)(Object(P.__assign)({},t),((n={})[su]=r,n.$$index$$=e,n)))})),this.options.showTotal&&this.options.showTotal.visible){var r=Object(F.map)(t,(function(t){return t[o]})),a=Object(F.reduce)(r,(function(t,e){return t+e}),0);i.push(((e={})[n]=this.options.showTotal.label,e[o]=null,e[su]=[a,0],e.$$index$$=i.length,e[lu]=!0,e))}return i},e.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:\"cat\"},Object(F.has)(t,\"xAxis\")&&er(e[t.xField],t.xAxis),e[su]={},Object(F.has)(t,\"yAxis\")&&er(e[su],t.yAxis),this.setConfig(\"scales\",e)},e.prototype.axis=function(){var t=to(\"axis\",{plot:this,dim:\"x\"}),e=to(\"axis\",{plot:this,dim:\"y\"}),i={fields:{}};i.fields[this.options.xField]=t,i.fields[su]=e,this.setConfig(\"axes\",i)},e.prototype.coord=function(){},e.prototype.parseEvents=function(e){t.prototype.parseEvents.call(this,M)},e.prototype._parseStyle=function(){var t=this.options.waterfallStyle,e=this.options.leaderLine,i={};return Object(F.isFunction)(t)?i.callback=function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return Object.assign({},t.apply(void 0,i),{leaderLine:e})}:i.cfg=Object(P.__assign)(Object(P.__assign)({},t),{leaderLine:e}),i},e.prototype._parseColor=function(){var t=this,e=this.options,i=this.options,n={fields:[i.xField,i.yField,su,\"$$index$$\"]};if(Object(F.isFunction)(e.color))n.callback=e.color;else{var o=\"#f4664a\",r=\"#30bf78\",a=\"rgba(0, 0, 0, 0.25)\";if(Object(F.isString)(e.color))o=r=a=e.color;else if(Object(F.isObject)(e.color)){var s=e.color,l=s.rising,c=s.falling,u=s.total;o=l,r=c,a=u}n.callback=function(e,i,n,s){return s===t.options.data.length?a||(n[0]>=0?o:r):(Object(F.isArray)(n)?n[1]-n[0]:n)>=0?o:r}}return n},e.prototype.adjustLegendOptions=function(t){var e=t.legend;e&&(e.visible=!1)},e.prototype.adjustMeta=function(t){var e=t.meta;if(e){var i=e?e[t.yField]:{};i.alias=i.alias||t.yField,t.meta[su]=i}},e}(ko),uu=cu;To(\"waterfall\",cu);var hu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"waterfall\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=uu.getDefaultOptions,e}(Io),pu=function(){function t(t){this.quadrantGroups=[],this.regionData=[],this.lineData=[],this.options=t,this.view=this.options.view,this.init()}return t.prototype.init=function(){var t,e=this.options,i=e.xBaseline,n=e.yBaseline,o=this.view.getCoordinate(),r=this.view.getScaleByField(this.options.plotOptions.xField),a=this.view.getScaleByField(this.options.plotOptions.yField);if(i>r.min&&i<r.max){var s=(i-r.min)/(r.max-r.min);t=[new G(o.start.x,o.end.y,o.getWidth()*s,o.getHeight()),new G(o.start.x+o.getWidth()*s,o.end.y,o.getWidth()*(1-s),o.getHeight())];var l={start:{x:o.start.x+o.getWidth()*s,y:o.end.y},end:{x:o.start.x+o.getWidth()*s,y:o.start.y}};this.lineData.push(l)}else t=[new G(o.start.x,o.end.y,o.getWidth(),o.getHeight())];if(n>a.min&&n<a.max){s=(n-a.min)/(a.max-a.min);var c={start:{x:o.start.x,y:o.start.y-o.getHeight()*s},end:{x:o.end.x,y:o.start.y-o.getHeight()*s}};this.lineData.push(c);var u={name:i<=r.min?\"top-right\":\"top-left\",bbox:new G(t[0].minX,t[0].minY,t[0].width,t[0].height*(1-s)),index:i<=r.min?2:0};this.regionData.push(u);var h={name:i<=r.min?\"bottom-right\":\"bottom-left\",bbox:new G(t[0].minX,t[0].minY+t[0].height*(1-s),t[0].width,t[0].height*s),index:i<=r.min?3:1};if(this.regionData.push(h),t.length>1){var p={name:\"top-right\",bbox:new G(t[1].minX,t[1].minY,t[1].width,t[1].height*(1-s)),index:2};this.regionData.push(p);var f={name:\"bottom-right\",bbox:new G(t[1].minX,t[1].minY+t[1].height*(1-s),t[1].width,t[1].height*s),index:3};this.regionData.push(f)}}else if(2===t.length)if(n<=a.min){var d={name:\"top-left\",bbox:t[0],index:0};this.regionData.push(d);p={name:\"top-right\",bbox:t[1],index:2};this.regionData.push(p)}else{var g={name:\"bottom-left\",bbox:t[0],index:1};this.regionData.push(g);f={name:\"bottom-right\",bbox:t[1],index:3};this.regionData.push(f)}else if(i<=r.min)if(n<=a.min){p={name:\"top-right\",bbox:t[0],index:2};this.regionData.push(p)}else{f={name:\"bottom-right\",bbox:t[0],index:3};this.regionData.push(f)}else if(n<=a.min){d={name:\"top-left\",bbox:t[0],index:0};this.regionData.push(d)}else{g={name:\"bottom-left\",bbox:t[0],index:1};this.regionData.push(g)}this.container=this.view.backgroundGroup.addGroup()},t.prototype.render=function(){var t=this;if(this.regionData.length>0){var e=this.getDefaultStyle(),i=this.getRegionStyle(this.regionData);Object(F.each)(this.regionData,(function(n){var o=n.index,r=t.container.addGroup(),a=r.addShape(\"rect\",{attrs:Object(P.__assign)({x:n.bbox.minX,y:n.bbox.minY,width:n.bbox.width,height:n.bbox.height},i[o]),name:\"quadrant\"});if(t.options.label&&t.options.label.text){var s=Object(F.deepMix)({},e.label,t.options.label),l=t.getLabelConfig(n,s);r.addShape(\"text\",{attrs:Object(P.__assign)({},l),name:\"quadrant-label\"})}a.set(\"data\",n),t.quadrantGroups.push(r)}));var n=Object(F.deepMix)({},e.line,this.options.lineStyle);Object(F.each)(this.lineData,(function(e){t.container.addShape(\"path\",{attrs:Object(P.__assign)({path:[[\"M\",e.start.x,e.start.y],[\"L\",e.end.x,e.end.y]]},n),name:\"quadrant-line\"})})),this.view.canvas.draw()}},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.destroy=function(){this.container&&this.container.remove()},t.prototype.getDefaultStyle=function(){return{line:{stroke:\"#9ba29a\",lineWidth:1},regionStyle:[{fill:\"#000000\",opacity:.05},{fill:\"#ffffff\",opacity:0},{fill:\"#ffffff\",opacity:0},{fill:\"#000000\",opacity:.05}],label:{position:\"outter-inner\",offset:10,style:{fontSize:14,fill:\"#ccc\"}}}},t.prototype.getRegionStyle=function(t){var e=this.getDefaultStyle().regionStyle;if(this.options.regionStyle){var i=this.options.regionStyle;Object(F.isArray)(i)?e=e.map((function(t,e){return i.length>e&&i[e]?i[e]:t})):Object(F.isFunction)(i)&&Object(F.each)(t,(function(t,n){e[n]=i(t)}))}return e},t.prototype.getLabelConfig=function(t,e){var i=t.index,n=0,o=0,r={},a=e.text;Object(F.isFunction)(a)?a=a(t):Object(F.isArray)(a)&&(a=a[i]);var s=e.position.split(\"-\"),l=t.name.split(\"-\");return\"left\"===l[1]?(\"inner\"===s[0]&&(n=t.bbox.maxX-e.offset,r.textAlign=\"right\"),\"outter\"===s[0]&&(n=t.bbox.minX+e.offset,r.textAlign=\"left\")):\"right\"===l[1]&&(\"inner\"===s[0]&&(n=t.bbox.minX+e.offset,r.textAlign=\"left\"),\"outter\"===s[0]&&(n=t.bbox.maxX-e.offset,r.textAlign=\"right\")),\"top\"===l[0]?(\"inner\"===s[1]&&(o=t.bbox.maxY-e.offset,r.textBaseline=\"bottom\"),\"outter\"===s[1]&&(o=t.bbox.minY+e.offset,r.textBaseline=\"top\")):\"bottom\"===l[0]&&(\"inner\"===s[1]&&(o=t.bbox.minY+e.offset,r.textBaseline=\"top\"),\"outter\"===s[1]&&(o=t.bbox.maxY-e.offset,r.textBaseline=\"bottom\")),(r=Object(F.deepMix)({},e.style,r)).lineHeight=r.fontSize,Object(P.__assign)({x:n,y:o,text:a},r)},t}();function fu(t,e,i,n){t=t.filter(t=>{let n=e(t),o=i(t);return null!=n&&isFinite(n)&&null!=o&&isFinite(o)}),n&&t.sort((t,i)=>e(t)-e(i));const o=t.length,r=new Float64Array(o),a=new Float64Array(o);let s,l,c,u=0,h=0;for(let p=0;p<o;)c=t[p],r[p]=s=+e(c),a[p]=l=+i(c),++p,u+=(s-u)/p,h+=(l-h)/p;for(let p=0;p<o;++p)r[p]-=u,a[p]-=h;return[r,a,u,h]}function du(t,e,i,n){let o=0;for(let r=0,a=t.length;r<a;r++){const a=t[r],s=+e(a),l=+i(a);null!=s&&isFinite(s)&&null!=l&&isFinite(l)&&n(s,l,o++)}}function gu(t,e,i,n,o){let r=0,a=0;return du(t,e,i,(t,e)=>{const i=e-o(t),s=e-n;r+=i*i,a+=s*s}),1-r/a}function yu(t){return 180*Math.atan2(t[1][1]-t[0][1],t[1][0]-t[0][0])/Math.PI}function mu(t,e,i){const n=Math.log(e-t)*Math.LOG10E+1|0,o=1*Math.pow(10,-n/2-1);let r=[s(t),s(e)],a=0;for(;l(r)&&a<1e4;);return r;function s(t){return[t,i(t)]}function l(t){a++;const e=t.length;let i=!1;for(let r=0;r<e-1;r++){const e=t[r],a=t[r+1],l=[((n=[e,a])[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2],c=s(l[0]),u=yu([e,l]),h=yu([e,c]);Math.abs(u-h)>o&&(t.splice(r+1,0,c),i=!0)}var n;return i}}function vu(t,e,i,n){const o=n-t*t,r=Math.abs(o)<1e-24?0:(i-t*e)/o;return[e-r*t,r]}var bu=function(){let t,e=t=>t[0],i=t=>t[1];function n(n){let o=0,r=0,a=0,s=0,l=0,c=t?+t[0]:1/0,u=t?+t[1]:-1/0;du(n,e,i,(e,i)=>{++o,r+=(e-r)/o,a+=(i-a)/o,s+=(e*i-s)/o,l+=(e*e-l)/o,t||(e<c&&(c=e),e>u&&(u=e))});const[h,p]=vu(r,a,s,l),f=t=>p*t+h,d=[[c,f(c)],[u,f(u)]];return d.a=p,d.b=h,d.predict=f,d.rSquared=gu(n,e,i,a,f),d}return n.domain=function(e){return arguments.length?(t=e,n):t},n.x=function(t){return arguments.length?(e=t,n):e},n.y=function(t){return arguments.length?(i=t,n):i},n};function xu(t){t.sort((t,e)=>t-e);var e=t.length/2;return e%1===0?(t[e-1]+t[e])/2:t[Math.floor(e)]}const Ou=2,ju=1e-12;function Mu(t){return(t=1-t*t*t)*t*t}function wu(t,e,i){let n=t[e],o=i[0],r=i[1]+1;if(!(r>=t.length))for(;e>o&&t[r]-n<=n-t[o];)i[0]=++o,i[1]=r,++r}var _u=function(){let t,e=t=>t[0],i=t=>t[1];function n(n){const[o,r,a,s]=fu(n,e,i),l=o.length;let c,u,h,p,f=0,d=0,g=0,y=0,m=0;for(c=0;c<l;)u=o[c],h=r[c++],p=u*u,f+=(p-f)/c,d+=(p*u-d)/c,g+=(p*p-g)/c,y+=(u*h-y)/c,m+=(p*h-m)/c;let v=0,b=0,x=t?+t[0]:1/0,O=t?+t[1]:-1/0;du(n,e,i,(e,i)=>{b++,v+=(i-v)/b,t||(e<x&&(x=e),e>O&&(O=e))});const j=g-f*f,M=f*j-d*d,w=(m*f-y*d)/M,_=(y*j-m*d)/M,C=-w*f,S=t=>w*(t-=a)*t+_*t+C+s,k=mu(x,O,S);return k.a=w,k.b=_-2*w*a,k.c=C-_*a+w*a*a+s,k.predict=S,k.rSquared=gu(n,e,i,v,S),k}return n.domain=function(e){return arguments.length?(t=e,n):t},n.x=function(t){return arguments.length?(e=t,n):e},n.y=function(t){return arguments.length?(i=t,n):i},n};var Cu={exp:function(){let t,e=t=>t[0],i=t=>t[1];function n(n){let o=0,r=0,a=0,s=0,l=0,c=0,u=t?+t[0]:1/0,h=t?+t[1]:-1/0;du(n,e,i,(e,i)=>{const n=Math.log(i),p=e*i;++o,r+=(i-r)/o,s+=(p-s)/o,c+=(e*p-c)/o,a+=(i*n-a)/o,l+=(p*n-l)/o,t||(e<u&&(u=e),e>h&&(h=e))});let[p,f]=vu(s/r,a/r,l/r,c/r);p=Math.exp(p);const d=t=>p*Math.exp(f*t),g=mu(u,h,d);return g.a=p,g.b=f,g.predict=d,g.rSquared=gu(n,e,i,r,d),g}return n.domain=function(e){return arguments.length?(t=e,n):t},n.x=function(t){return arguments.length?(e=t,n):e},n.y=function(t){return arguments.length?(i=t,n):i},n},linear:bu,loess:function(){let t=t=>t[0],e=t=>t[1],i=.3;function n(n){const[o,r,a,s]=fu(n,t,e,!0),l=o.length,c=Math.max(2,~~(i*l)),u=new Float64Array(l),h=new Float64Array(l),p=new Float64Array(l).fill(1);for(let t=-1;++t<=Ou;){const e=[0,c-1];for(let t=0;t<l;++t){const i=o[t],n=e[0],a=e[1],s=i-o[n]>o[a]-i?n:a;let l=0,c=0,f=0,d=0,g=0,y=1/Math.abs(o[s]-i||1);for(let t=n;t<=a;++t){const e=o[t],n=r[t],a=Mu(Math.abs(i-e)*y)*p[t],s=e*a;l+=a,c+=s,f+=n*a,d+=n*s,g+=e*s}const[m,v]=vu(c/l,f/l,d/l,g/l);u[t]=m+v*i,h[t]=Math.abs(r[t]-u[t]),wu(o,t+1,e)}if(t===Ou)break;const i=xu(h);if(Math.abs(i)<ju)break;for(let t,n,o=0;o<l;++o)t=h[o]/(6*i),p[o]=t>=1?ju:(n=1-t*t)*n}return function(t,e,i,n){const o=t.length,r=[];let a,s=0,l=0,c=[];for(;s<o;++s)a=t[s]+i,c[0]===a?c[1]+=(e[s]-c[1])/++l:(l=0,c[1]+=n,c=[a,e[s]],r.push(c));return c[1]+=n,r}(o,u,a,s)}return n.bandwidth=function(t){return arguments.length?(i=t,n):i},n.x=function(e){return arguments.length?(t=e,n):t},n.y=function(t){return arguments.length?(e=t,n):e},n},log:function(){let t,e=t=>t[0],i=t=>t[1];function n(n){let o=0,r=0,a=0,s=0,l=0,c=t?+t[0]:1/0,u=t?+t[1]:-1/0;du(n,e,i,(e,i)=>{const n=Math.log(e);++o,r+=(n-r)/o,a+=(i-a)/o,s+=(n*i-s)/o,l+=(n*n-l)/o,t||(e<c&&(c=e),e>u&&(u=e))});const[h,p]=vu(r,a,s,l),f=t=>p*Math.log(t)+h,d=mu(c,u,f);return d.a=p,d.b=h,d.predict=f,d.rSquared=gu(n,e,i,a,f),d}return n.domain=function(e){return arguments.length?(t=e,n):t},n.x=function(t){return arguments.length?(e=t,n):e},n.y=function(t){return arguments.length?(i=t,n):i},n},poly:function(){let t,e=t=>t[0],i=t=>t[1],n=3;function o(o){if(1===n){const n=bu().x(e).y(i).domain(t)(o);return n.coefficients=[n.b,n.a],delete n.a,delete n.b,n}if(2===n){const n=_u().x(e).y(i).domain(t)(o);return n.coefficients=[n.c,n.b,n.a],delete n.a,delete n.b,delete n.c,n}const[r,a,s,l]=fu(o,e,i),c=r.length,u=[],h=[],p=n+1;let f,d,g,y,m,v=0,b=0,x=t?+t[0]:1/0,O=t?+t[1]:-1/0;for(du(o,e,i,(e,i)=>{++b,v+=(i-v)/b,t||(e<x&&(x=e),e>O&&(O=e))}),f=0;f<p;++f){for(g=0,y=0;g<c;++g)y+=Math.pow(r[g],f)*a[g];for(u.push(y),m=new Float64Array(p),d=0;d<p;++d){for(g=0,y=0;g<c;++g)y+=Math.pow(r[g],f+d);m[d]=y}h.push(m)}h.push(u);const j=function(t){const e=t.length-1,i=[];let n,o,r,a,s;for(n=0;n<e;++n){for(a=n,o=n+1;o<e;++o)Math.abs(t[n][o])>Math.abs(t[n][a])&&(a=o);for(r=n;r<e+1;++r)s=t[r][n],t[r][n]=t[r][a],t[r][a]=s;for(o=n+1;o<e;++o)for(r=e;r>=n;r--)t[r][o]-=t[r][n]*t[n][o]/t[n][n]}for(o=e-1;o>=0;--o){for(s=0,r=o+1;r<e;++r)s+=t[r][o]*i[r];i[o]=(t[e][o]-s)/t[o][o]}return i}(h),M=t=>{t-=s;let e=l+j[0]+j[1]*t+j[2]*t*t;for(f=3;f<p;++f)e+=j[f]*Math.pow(t,f);return e},w=mu(x,O,M);return w.coefficients=function(t,e,i,n){const o=Array(t);let r,a,s,l;for(r=0;r<t;++r)o[r]=0;for(r=t-1;r>=0;--r)for(s=e[r],l=1,o[r]+=s,a=1;a<=r;++a)l*=(r+1-a)/a,o[r-a]+=s*Math.pow(i,a)*l;return o[0]+=n,o}(p,j,-s,l),w.predict=M,w.rSquared=gu(o,e,i,v,M),w}return o.domain=function(e){return arguments.length?(t=e,o):t},o.x=function(t){return arguments.length?(e=t,o):e},o.y=function(t){return arguments.length?(i=t,o):i},o.order=function(t){return arguments.length?(n=t,o):n},o},pow:function(){let t,e=t=>t[0],i=t=>t[1];function n(n){let o=0,r=0,a=0,s=0,l=0,c=0,u=t?+t[0]:1/0,h=t?+t[1]:-1/0;du(n,e,i,(e,i)=>{const n=Math.log(e),p=Math.log(i);++o,r+=(n-r)/o,a+=(p-a)/o,s+=(n*p-s)/o,l+=(n*n-l)/o,c+=(i-c)/o,t||(e<u&&(u=e),e>h&&(h=e))});let[p,f]=vu(r,a,s,l);p=Math.exp(p);const d=t=>p*Math.pow(t,f),g=mu(u,h,d);return g.a=p,g.b=f,g.predict=d,g.rSquared=gu(n,e,i,c,d),g}return n.domain=function(e){return arguments.length?(t=e,n):t},n.x=function(t){return arguments.length?(e=t,n):e},n.y=function(t){return arguments.length?(i=t,n):i},n},quad:_u};var Su=function(){function t(t){this.options=Object(F.deepMix)({},{type:\"linear\",style:{stroke:\"#9ba29a\",lineWidth:2,opacity:.5,lineJoin:\"round\",lineCap:\"round\"},showConfidence:!1,confidenceStyle:{fill:\"#ccc\",opacity:.1}},t),this.view=this.options.view,this.init()}return t.prototype.init=function(){var t=this.options.plotOptions,e=t.xField,i=t.yField,n=t.data,o=Cu[this.options.type]().x((function(t){return t[e]})).y((function(t){return t[i]}));this.data=this.processData(o(n)),this.container=this.view.backgroundGroup.addGroup()},t.prototype.render=function(){var t=this.view.getScaleByField(this.options.plotOptions.xField),e=this.view.getScaleByField(this.options.plotOptions.yField),i=this.view.getCoordinate(),n=this.data.trendlineData,o=Wi(\"linear\"),r=this.adjustScale(t,n,\"x\"),a=new o({min:r.min,max:r.max}),s=this.adjustScale(e,n,\"y\"),l=new o({min:s.min,max:s.max});if(this.options.showConfidence){var c=this.getConfidencePath(a,l,i);this.container.addShape(\"path\",{attrs:Object(P.__assign)({path:c},this.options.confidenceStyle),name:\"confidence\"})}var u=No(this.getTrendlinePoints(a,l,i),!1,[[0,0],[1,1]]);this.shape=this.container.addShape(\"path\",{attrs:Object(P.__assign)({path:u},this.options.style),name:\"trendline\"})},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.destroy=function(){this.container&&this.container.destroy()},t.prototype.processData=function(t){var e=[],i=[];return Object(F.each)(t,(function(n){e.push({x:n[0],y:n[1]});var o,r,a=(o=t.rSquared,r=n[1],1.96*Math.sqrt(o*(1-o)/r));i.push({x:n[0],y0:n[1]-a,y1:n[1]+a})})),{trendlineData:e,confidenceData:i}},t.prototype.getTrendlinePoints=function(t,e,i){var n=[];return Object(F.each)(this.data.trendlineData,(function(o){var r=t.scale(o.x),a=e.scale(o.y),s=i.start.x+i.width*r,l=i.start.y-i.height*a;n.push({x:s,y:l})})),n},t.prototype.getConfidencePath=function(t,e,i){var n=[],o=[],r=[];Object(F.each)(this.data.confidenceData,(function(r){var a=t.scale(r.x),s=e.scale(r.y0),l=e.scale(r.y1),c=i.start.x+i.width*a,u=i.start.y-i.height*s,h=i.start.y-i.height*l;n.push({x:c,y:u}),o.push({x:c,y:h})}));for(var a=0;a<n.length;a++){var s=0===a?\"M\":\"L\",l=n[a];isNaN(l.x)||isNaN(l.y)||r.push([s,l.x,l.y])}for(var c=o.length-1;c>0;c--){l=o[c];isNaN(l.x)||isNaN(l.y)||r.push([\"L\",l.x,l.y])}return r},t.prototype.adjustScale=function(t,e,i){var n=t.min,o=t.max,r=this.options.plotOptions,a=r.data,s=r.xField,l=r.yField,c=\"x\"===i?s:l,u=Object(F.minBy)(a,c)[c],h=Object(F.maxBy)(a,c)[c],p=(n-u)/(h-u),f=(o-h)/(h-u),d=Object(F.minBy)(e,i)[i],g=Object(F.maxBy)(e,i)[i];return{min:d+p*(g-d),max:g+f*(g-d)}},t}(),ku=X({Point:\"point\",Trendline:\"trendline\",Confidence:\"confidence\",Quadrant:\"quadrant\",QuadrantLabel:\"quadrant-label\",QuadrantLine:\"quadrant-line\"});Object(F.assign)(R,ku);xo(\"scatter\",{pointStyle:{normal:{},active:function(t){return{stroke:t.stroke||\"#000\"}},selected:function(t){return{stroke:t.stroke||\"#000\",lineWidth:t.lineWidth||2}},inactive:function(t){return{fillOpacity:t.fillOpacity||t.opacity||.3}}}});var Au={scatter:\"point\"},Lu={point:\"point\"},Bu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"scatter\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{pointSize:4,pointStyle:{lineWidth:1,strokeOpacity:1,fillOpacity:.95,stroke:\"#fff\"},xAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},yAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},tooltip:{visible:!0,shared:null,showMarkers:!1,showCrosshairs:!1},label:{visible:!1},shape:\"circle\"})},e.prototype.afterRender=function(){t.prototype.afterRender.call(this),this.quadrant&&this.quadrant.destroy(),this.trendline&&this.trendline.destroy(),this.options.quadrant&&this.options.quadrant.visible&&(this.quadrant=new pu(Object(P.__assign)({view:this.view,plotOptions:this.options},this.options.quadrant)),this.quadrant.render()),this.options.trendline&&this.options.trendline.visible&&(this.trendline=new Su(Object(P.__assign)({view:this.view,plotOptions:this.options},this.options.trendline)),this.trendline.render())},e.prototype.destroy=function(){this.quadrant&&(this.quadrant.destroy(),this.quadrant=null),this.trendline&&(this.trendline.destroy(),this.trendline=null),t.prototype.destroy.call(this)},e.prototype.isValidLinearValue=function(t){return!Object(F.isNil)(t)&&!Number.isNaN(Number(t))},e.prototype.processData=function(t){var e=this,i=this.options,n=i.xField,o=i.yField,r=Object(F.get)(this.options,[\"xAxis\",\"type\"],\"linear\"),a=Object(F.get)(this.options,[\"yAxis\",\"type\"],\"linear\");return r&&a?t.filter((function(t){return!(\"linear\"===r&&!e.isValidLinearValue(t[n]))&&!(\"linear\"===a&&!e.isValidLinearValue(t[o]))})).map((function(t){var e;return Object(P.__assign)(Object(P.__assign)({},t),((e={})[n]=\"linear\"===r?Number(t[n]):String(t[n]),e[o]=\"linear\"===a?Number(t[o]):String(t[o]),e))})):t},e.prototype.geometryParser=function(t,e){return\"g2\"===t?Au[e]:Lu[e]},e.prototype.scale=function(){var e=this.options,i={};i[e.xField]={},Object(F.has)(e,\"xAxis\")&&er(i[e.xField],e.xAxis),i[e.yField]={},Object(F.has)(e,\"yAxis\")&&er(i[e.yField],e.yAxis),this.setConfig(\"scales\",i),t.prototype.scale.call(this)},e.prototype.coord=function(){},e.prototype.annotation=function(){},e.prototype.addGeometry=function(){var t=tr(\"point\",\"circle\",{plot:this});this.points=t,this.options.tooltip&&this.options.tooltip.visible&&(this.points.tooltip=this.extractTooltip(),this.setConfig(\"tooltip\",Object(P.__assign)({showTitle:!1},this.options.tooltip))),this.options.label&&this.label(),this.setConfig(\"geometry\",t)},e.prototype.label=function(){var t=this.options;if(!1!==t.label.visible){var e=to(\"label\",Object(P.__assign)(Object(P.__assign)({fields:[t.yField]},t.label),{plot:this}));this.points&&(this.points.label=e)}else this.points&&(this.points.label=!1)},e.prototype.animation=function(){t.prototype.animation.call(this),!1===this.options.animation&&(this.points.animate=!1)},e.prototype.parseEvents=function(e){t.prototype.parseEvents.call(this,e||w)},e.prototype.extractTooltip=function(){var t=this.options;return{fields:[t.xField,t.yField]}},e}(ko),Du=Bu;To(\"scatter\",Bu);var Tu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"scatter\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=Du.getDefaultOptions,e}(Io),Pu=i(\"PXQu\");Object(U.registerShape)(\"point\",\"bubble-point\",{draw:function(t,e){var i=Object(Pu.drawPoints)(this,t,e,\"circle\",!1);if(!t.style.stroke){var n=i.attr(\"fill\");i.attr(\"stroke\",n)}return i},getMarker:function(t){return{symbol:\"circle\",style:{r:4.5,fill:t.color}}}});xo(\"bubble\",{pointStyle:{normal:{},active:function(t){return{stroke:t.stroke||\"#000\",fillOpacity:t.fillOpacity||t.opacity||.95}},selected:function(t){return{stroke:t.stroke||\"#000\",lineWidth:t.lineWidth||2}},inactive:function(t){return{fillOpacity:t.fillOpacity||t.opacity||.3}}}});var Iu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"bubble\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{pointSize:[2,32],pointStyle:{stroke:null,strokeOpacity:1,fillOpacity:.5},label:{position:\"middle\",style:{stroke:\"#fff\",lineWidth:1}},shape:\"bubble-point\"})},e.prototype.legend=function(){var e;t.prototype.legend.call(this),this.setConfig(\"legends\",((e={})[this.options.sizeField]=!1,e))},e.prototype.parseEvents=function(){t.prototype.parseEvents.call(this,w)},e}(Du),Eu=Iu;To(\"bubble\",Iu);var Fu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"bubble\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=Eu.getDefaultOptions,e}(Io),Ru=X({Bullet:\"interval\",BulletTarget:\"bullet-target\"});Object(F.assign)(R,Ru);var Yu=function(){function t(t,e){this.view=t,this.cfg=e,this._init()}return t.prototype.draw=function(){if(this.view&&!this.view.destroyed){this.container=this.view.middleGroup.addGroup(),this.container.set(\"name\",\"rectGroups\"),this.container.setZIndex(-100);for(var t=this.getGeometry(),e=Object(F.map)(null===t||void 0===t?void 0:t.elements,(function(t){return t.shape})),i=0;i<this.cfg.ranges.length;i+=1){var n=e[i].getBBox(),o=n.width/e[i].get(\"origin\").data[this.cfg.yField];this.drawRect(n,this.cfg.ranges[i]||[0,1],o)}this.view.canvas.draw()}},t.prototype.drawRect=function(t,e,i){for(var n=this.cfg,o=n.rangeColors,r=t.minX,a=t.minY-t.height*(n.rangeSize-1)/2,s=1;s<e.length;s+=1){var l=(e[s]-e[s-1])*n.rangeMax*i;this.container.addShape(\"rect\",{name:\"bullet-rect\",attrs:{width:l,height:t.height*n.rangeSize,x:r,y:a,fill:o[(s-1)%o.length],fillOpacity:.25}}).set(\"zIndex\",-1),r+=l}if(n.axis&&n.axis.visible){var c=n.rangeMax/(n.axis.tickCount-1),u=new G(t.x,a,r,t.height*n.rangeSize);this.drawBulletTicks(u,c,i)}},t.prototype.drawBulletTicks=function(t,e,i){for(var n=this.cfg,o=n.axis.style,r=n.axis.tickCount,a=n.axis.position,s=Object(F.get)(o,\"lineHeight\",0)-o.fontSize/2,l=0;l<r;l+=1){var c=t.minX+e*l*i,u=\"\"+e*l;n.axis.formatter&&(u=n.axis.formatter(u,l));this.container.addShape(\"text\",{name:\"tick\",attrs:Object(P.__assign)({x:c,y:\"before\"===a?t.minY-s:t.maxY+s,text:\"\"+u},o)});if(n.axis.tickLine&&n.axis.tickLine.visible){var h=n.axis.tickLine;l>0&&l!==r-1&&this.container.addShape(\"path\",{attrs:Object(P.__assign)({path:[[\"M\",c,t.minY],[\"L\",c,t.maxY]]},h)}).set(\"zIndex\",-1)}}},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.destroy=function(){this.container&&this.container.remove()},t.prototype._init=function(){var t=this;this.view.on(\"beforerender\",(function(){t.clear()})),this.view.on(\"afterrender\",(function(){t.draw()}))},t.prototype.getGeometry=function(){return Object(F.find)(this.view.geometries,(function(t){return\"interval\"===t.type}))},t}(),Nu=function(){function t(t,e){this.view=t,this.cfg=e,this._init()}return t.prototype.draw=function(){if(this.view&&!this.view.destroyed){this.container=this.view.foregroundGroup.addGroup(),this.container.set(\"name\",\"targetGroups\");for(var t=Object(F.map)(this.getGeometry().elements,(function(t){return t.shape})),e=0;e<this.cfg.targets.length;e+=1){var i=t[e].getBBox(),n=i.width/t[e].get(\"origin\").data[this.cfg.yField];this.drawTarget(i,this.cfg.targets[e],n)}this.view.canvas.draw()}},t.prototype.drawTarget=function(t,e,i){var n=this,o=this.cfg,r=o.markerColors;e.forEach((function(e,a){var s=o.markerStyle;n.container.addShape(\"rect\",{name:\"bullet-target\",attrs:Object(P.__assign)(Object(P.__assign)({width:s.width,height:t.height*o.markerSize-s.width/2,x:t.minX+e*i,y:t.minY-t.height*(o.markerSize-1)/2},s),{fill:r[a%r.length]||s.fill})})}))},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.destroy=function(){this.container&&this.container.remove()},t.prototype._init=function(){var t=this;this.view.on(\"beforerender\",(function(){t.clear()})),this.view.on(\"afterrender\",(function(){t.draw()}))},t.prototype.getGeometry=function(){return Object(F.find)(this.view.geometries,(function(t){return\"interval\"===t.type}))},t}();xo(\"bullet\",{columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1),lineWidth:0}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{}}});var zu={bullet:\"interval\"},Hu={interval:\"bullet\"},Xu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"bullet\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{data:[],stackField:\"$$stackField$$\",xField:\"$$xField$$\",yField:\"$$yField$$\",rangeColors:[\"rgba(91, 143, 249, 0.45)\"],measureSize:12,rangeSize:2,markerSize:2,markerColors:[],markerStyle:{width:2,fill:\"#5B8FF9\",lineWidth:0},axis:{visible:!1,position:\"before\",tickCount:6,formatter:function(t,e){return\"\"+e},style:{fill:\"rgba(0, 0, 0, 0.25)\",textBaseline:\"middle\",textAlign:\"center\",fontSize:12,lineHeight:16},tickLine:{visible:!0,lineWidth:1,stroke:\"#FFF\",lineDash:[4,2]}},xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},label:{visible:!0}},yAxis:{visible:!1,nice:!1},tooltip:{visible:!1,trigger:\"item\",crosshairs:!1},label:{visible:!0,offset:4,style:{fill:\"rgba(0, 0, 0, 0.45)\",stroke:\"#fff\",lineWidth:1}}})},e.prototype.afterRender=function(){t.prototype.afterRender.call(this),this.view.removeInteraction(\"legend-filter\")},e.prototype.scale=function(){var e=this.options,i={};i[e.yField]={},Object(F.has)(e,\"yAxis\")&&er(i[e.yField],e.yAxis),i[e.xField]={type:\"cat\"},Object(F.has)(e,\"xAxis\")&&er(i[e.xField],e.xAxis),this.setConfig(\"scales\",i),t.prototype.scale.call(this)},e.prototype.getOptions=function(e){var i=t.prototype.getOptions.call(this,e);return this.adjustOptions(i),i},e.prototype.afterInit=function(){t.prototype.afterInit.call(this);var e=this.options,i=e.data.map((function(t){return t.ranges})),n=e.data.map((function(t){return t.targets}));this.bulletRect=new Yu(this.view,{ranges:i,rangeMax:e.rangeMax,yField:e.yField,rangeSize:e.rangeSize,rangeColors:e.rangeColors||[],axis:e.axis}),this.bulletTarget=new Nu(this.view,{targets:n,yField:e.yField,markerSize:e.markerSize,markerColors:e.markerColors||[],markerStyle:e.markerStyle})},e.prototype.geometryParser=function(t,e){return\"g2\"===t?zu[e]:Hu[e]},e.prototype.coord=function(){this.setConfig(\"coordinate\",{actions:[[\"transpose\"]]})},e.prototype.legend=function(){var t=this.options,e=t.markerStyle.fill,i=[{name:\"\\u5b9e\\u9645\\u8fdb\\u5ea6\",value:\"\\u5b9e\\u9645\\u8fdb\\u5ea6\",marker:{symbol:\"square\",style:{fill:(t.measureColors||this.theme.colors)[0]}}},{name:\"\\u76ee\\u6807\\u503c\",value:\"\\u76ee\\u6807\\u503c\",marker:{symbol:\"line\",style:{stroke:e,lineWidth:2}}}],n=Object(P.__assign)({custom:!0,position:\"bottom\",items:i},t.legend);this.setConfig(\"legends\",n)},e.prototype.addGeometry=function(){var t=this.options,e=tr(\"interval\",\"main\",{positionFields:[t.xField,t.yField],plot:this});e.adjust=[{type:\"stack\"}],t.label&&(e.label=this.extractLabel()),this.bullet=e,this.setConfig(\"geometry\",e)},e.prototype.parseEvents=function(e){t.prototype.parseEvents.call(this,_)},e.prototype.extractLabel=function(){var t=this.options,e=Object(F.deepMix)({},t.label);return!1!==e.visible&&to(\"label\",Object(P.__assign)({plot:this,labelType:\"barLabel\",fields:[t.yField]},e))},e.prototype.adjustOptions=function(t){t.barSize=t.measureSize||12,this.adjustYAxisOptions(t)},e.prototype.adjustYAxisOptions=function(t){var e=[];t.data.forEach((function(t){return e.push(t.measures.reduce((function(t,e){return t+e}),0))})),e.push(t.rangeMax),t.yAxis.max=Math.max.apply([],e)},e.prototype.processData=function(t){var e=this.options,i=[];return t.forEach((function(t,n){for(var o,r=0;r<t.measures.length;r+=1){var a=t.measures[r],s=t.title||\"\"+n;i.push(((o={})[e.xField]=s,o[e.yField]=a,o[e.stackField]=\"\"+r,o))}})),i},e}(ko),Gu=Xu;To(\"bullet\",Xu);var Vu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"bullet\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=Gu.getDefaultOptions,e}(Io),Wu=\"$$day$$\",qu=\"$$week$$\",Uu=\"$$date$$\",$u=\"YYYY-MM-DD\",Zu=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],Ku=[\"S\",\"M\",\"T\",\"W\",\"T\",\"F\",\"S\"],Qu=864e5;function Ju(t){var e=new Date(t.getFullYear(),0,1);return Math.ceil(((t.getTime()-e.getTime())/Qu+e.getDay()+1)/7)}function th(t,e){return t.setMilliseconds(t.getMilliseconds()+e),t}function eh(t){var e,i=t[0],n=t[1],o=Sr.parse(i,$u),r=Sr.parse(n,$u);return o>r&&(r=(e=[o,r])[0],o=e[1]),[o,r]}var ih=X({Rect:\"polygon\"});Object(F.assign)(R,ih);var nh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"calendar\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){var e;return Object(F.deepMix)({},t.getDefaultOptions.call(this),{xAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},yAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},legend:{visible:!1},meta:(e={},e[Wu]={type:\"cat\",alias:\"Day\",values:[0,1,2,3,4,5,6]},e[qu]={type:\"cat\",alias:\"Month\"},e),tooltip:{visible:!0,showTitle:!0,showCrosshairs:!1,showMarkers:!1,title:\"date\"}})},e.prototype.processData=function(t){var e=this.options.dateField,i=this.options.dateRange;Object(F.isNil)(i)&&(i=function(t){var e=Object(P.__spreadArrays)(t).sort((function(t,e){return t.getTime()-e.getTime()}));return[Sr.format(Object(F.head)(e),$u),Sr.format(Object(F.last)(e),$u)]}(Object(F.map)(t,(function(t){return Sr.parse(\"\"+t[e],$u)}))));return function(t,e,i){for(var n=[],o=eh(e),r=o[0],a=o[1],s=new Date(r),l=function(){var e,o=Sr.format(s,$u),r=Object(F.find)(t,(function(t){return t[i]===o}));n.push(Object(P.__assign)(((e={})[Wu]=s.getDay(),e[qu]=\"\"+Ju(s),e[i]=o,e[Uu]=new Date(s),e),r)),th(s,Qu)};s<=a;)l();return n}(t,i,e)},e.prototype.addGeometry=function(){var t=this.options,e=t.valueField,i=t.colors,n={type:\"polygon\",position:{fields:[qu,Wu]},shape:{values:[\"calendar-polygon\"]},color:{fields:[e],values:i},label:this.extractLabel()};this.setConfig(\"geometry\",n)},e.prototype.extractLabel=function(){var t=this.options.label;if(t&&!1===t.visible)return!1;var e=this.options.valueField;return to(\"label\",Object(P.__assign)({plot:this,fields:[e],position:\"top\",offset:0},t))},e.prototype.coord=function(){this.setConfig(\"coordinate\",{type:\"rect\",cfg:{},actions:[[\"reflect\",\"y\"]]})},e.prototype.geometryParser=function(t,e){return\"\"},e.prototype.axis=function(){var t=to(\"axis\",{plot:this,dim:\"x\"}),e=to(\"axis\",{plot:this,dim:\"y\"}),i={};i[qu]=t,i[Wu]=e,this.setConfig(\"axes\",i)},e.prototype.scale=function(){t.prototype.scale.call(this);var e=function(t){var e=eh(t),i=e[0],n=e[1],o=new Map;function r(t){var e=t.getMonth(),i=Ju(t);o.has(e)||o.set(e,[]),o.get(e).push(i)}for(var a=new Date(i);a<=n;)r(a),th(a,7*Qu);n<a&&r(n);var s={};return o.forEach((function(t,e){var i=Math.ceil((Object(F.head)(t)+Object(F.last)(t))/2);s[i]=e})),s}(this.options.dateRange),i=this.config.scales,n=this.options,o=n.weeks,r=void 0===o?Ku:o,a=n.months,s=void 0===a?Zu:a,l=i[qu],c=i[Wu];l.formatter=function(t){var i=e[t];return void 0!==i?s[i]:\"\"},c.formatter=function(t){return r[t]||\"\"};var u=this.options,h=u.xAxis,p=u.yAxis;l.alias=Object(F.get)(h,[\"title\",\"text\"],l.alias),c.alias=Object(F.get)(p,[\"title\",\"text\"],c.alias),this.setConfig(\"scales\",i)},e.prototype.parseEvents=function(e){t.prototype.parseEvents.call(this,C)},e}(ko),oh=nh;To(\"calendar\",nh),Object(U.registerShape)(\"polygon\",\"calendar-polygon\",{draw:function(t,e){if(!Object(F.isEmpty)(t.points)){var i=t.points,n=[[\"M\",i[0].x,i[0].y],[\"L\",i[1].x,i[1].y],[\"L\",i[2].x,i[2].y],[\"L\",i[3].x,i[3].y],[\"Z\"]];n=this.parsePath(n);var o=Object(P.__assign)(Object(P.__assign)({stroke:\"#fff\",lineWidth:1,fill:t.color},t.style),{path:n}),r=e.addShape(\"path\",{attrs:o}),a=t.data[Uu];if(function(t){return t.getMonth()!==th(new Date(t),7*Qu).getMonth()}(a)){var s=[[\"M\",i[2].x,i[2].y],[\"L\",i[3].x,i[3].y]];e.addShape(\"path\",{zIndex:1,attrs:{path:this.parsePath(s),lineWidth:1,stroke:\"#404040\"}}),function(t){return t.getMonth()!==th(new Date(t),Qu).getMonth()}(a)&&e.addShape(\"path\",{zIndex:1,attrs:{path:this.parsePath([[\"M\",i[1].x,i[1].y],[\"L\",i[2].x,i[2].y]]),lineWidth:1,stroke:\"#404040\"}})}return e.sort(),r}}});var rh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"calendar\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=oh.getDefaultOptions,e}(Io);xo(\"gauge\",{stripWidth:30,stripBackColor:\"#ddd\",tickInterval:20,tickLabelPos:\"inner\",tickLabelSize:16,tickLabelColor:\"#aaa\",tickLineColor:\"#aaa\",subTickCount:4,labelPos:[\"50%\",\"80%\"],labelColor:\"#666\",labelSize:30});var ah={style:\"standard\",startAngle:-7/6,endAngle:1/6,gaugeStyle:{tickLineColor:\"rgba(0,0,0,0)\",pointerColor:\"#bfbfbf\"},statistic:{position:[\"50%\",\"80%\"]}},sh=i(\"LvDl\"),lh=function(){function t(t){this.uid=t}return t.prototype.setOption=function(t,e,i,n){this.type=t,this.options=e,this.pointerStyle=i,this.ringStyle=n},t.prototype.render=function(){var t=this;Object(U.registerShape)(\"point\",\"gauge\",{draw:function(e,i){this.gauge={},this.gauge.options=t.options,this.gauge.pointerStyle=t.pointerStyle,this.gauge.ringStyle=t.ringStyle,this.gauge.type=t.type;var n=this.gauge,o=this.gauge.type,r=e.points[0],a=this.parsePoint({x:0,y:0}),s=this.parsePoint({x:r.x||0,y:1});n.center=a,n.group=i;var l=a.x-s.x,c=a.y-s.y;this.gauge.ringRadius=Math.sqrt(l*l+c*c)-10;var u=this.getAngleRange(),h=u.starAngle,p=u.endAngle,f=r.x*(p-h)+h;switch(o){case\"meterGauge\":this.drawBarGauge(f),this.drawInSideAxis();break;case\"fanGauge\":this.drawGauge(f),this.drawOutSideAxis();break;case\"standardGauge\":default:this.drawGauge(f),this.drawAxis()}this.drawPoniter(e,i)},drawGauge:function(t){var e=this.gauge.options.range;this.drawBottomRing(),e&&e.length?this.drawRangeColor():this.drawCurrentRing(t)},drawRangeColor:function(){for(var t=this.gauge.options,e=t.min,i=t.max,n=t.range,o=(t.styleMix,t.color||vo().colors),r=this.getAngleRange(),a={min:e,max:i,starAngle:r.starAngle,endAngle:r.endAngle},s=0;s<n.length;s++){var l=this.valueToAngle(n[s],a),c=this.valueToAngle(n[s+1],a);if(c>=l){var u=this.getPath(l,c);this.drawRing(u,o[s])}}},drawBottomRing:function(){var t=this.getAngleRange(),e=t.starAngle,i=t.endAngle,n=this.gauge.ringStyle.background,o=this.getPath(e,i);this.drawRing(o,n)},drawCurrentRing:function(t){var e=this.getAngleRange().starAngle,i=this.gauge.ringStyle.color,n=this.getPath(e,t);this.drawRing(n,i)},drawInSideAxis:function(){for(var t=this.gauge.ringStyle.axis.amount,e=this.gauge.options,i=e.min,n=e.max,o=this.getAngleRange(),r={min:i,max:n,starAngle:o.starAngle,endAngle:o.endAngle},a=(n-i)/t,s=0;s<t;s++){var l=i+s*a,c=this.valueToAngle(l+a/2,r);this.drawRect(c)}},drawAxis:function(){for(var t=this.gauge.ringStyle.axis,e=t.amount,i=t.length,n=t.thickness,o=this.gauge.options,r=o.min,a=o.max,s=this.getAngleRange(),l={min:r,max:a,starAngle:s.starAngle,endAngle:s.endAngle},c=(a-r)/(e-1),u=0;u<e;u++){var h=r+u*c,p=this.valueToAngle(h,l);this.drawRect(p,{length:u%5===0?i:i/2,thickness:u%5===0?n:n/2})}},drawOutSideAxis:function(){for(var t=this.gauge.ringStyle.axis.amount,e=this.gauge.options,i=e.min,n=e.max,o=this.getAngleRange(),r={min:i,max:n,starAngle:o.starAngle,endAngle:o.endAngle},a=(n-i)/(t-1),s=0;s<t;s++){var l=i+s*a,c=this.valueToAngle(l,r);this.drawRect(c)}},drawBarGauge:function(t){for(var e=this,i=this.gauge.options,n=i.min,o=i.max,r=i.range,a=i.styleMix.colors||vo().colors,s=this.gauge.ringStyle,l=s.color,c=s.background,u=this.getAngleRange(),h=u.starAngle,p=u.endAngle,f={min:n,max:o,starAngle:h,endAngle:p},d=(p-h)/49,g=d/3,y=0;y<50;y++){var m=h+y*d,v=this.getPath(m-g/2,m+g-g/2),b=c;if(r&&r.length){var x=r.map((function(t){return e.valueToAngle(t,f)})),O=Object(sh.sortedLastIndex)(x,m);b=a[Math.min(O,r.length-1)-1]||c}else b=t>=m?l:c;this.drawRing(v,b)}},getAngleRange:function(){var t=90-.5*(360-this.gauge.ringStyle.angle);return{starAngle:(180-t)*Math.PI/180,endAngle:(360+t)*Math.PI/180}},valueToAngle:function(t,e){var i=e.min,n=e.max,o=e.starAngle,r=e.endAngle;if(t===n)return r;if(t===i)return o;var a=(t-i)/(n-i);n===i&&(a=1);var s=a*(r-o)+o;return s=Math.max(s,o),s=Math.min(s,r)},drawRing:function(t,e){this.gauge.group.addShape(\"path\",{attrs:{path:t,fill:e}})},drawRect:function(t,e){var i=this.gauge.ringStyle.axis,n=Object(P.__assign)(Object(P.__assign)({},i),e),o=n.offset,r=n.length,a=n.thickness,s=n.color,l=this.gauge.center,c=this.gauge.ringRadius+o,u=c*Math.cos(t)+l.x,h=c*Math.sin(t)+l.y,p=(c+r)*Math.cos(t)+l.x,f=(c+r)*Math.sin(t)+l.y;this.gauge.group.addShape(\"line\",{attrs:{x1:u,y1:h,x2:p,y2:f,stroke:s,lineWidth:a}})},getPath:function(t,e){var i,n=this.gauge,o=this.gauge.type,r=Object(sh.get)(n,\"options.height\"),a=Object(sh.get)(n,\"options.width\"),s=this.gauge.center,l=this.gauge.ringRadius,c=this.gauge.ringStyle,u=c.thickness,h=c.minThickness,p=c.minThickCanvsSize,f=(c.miniThickness,c.bigThickness,Math.min(a,r));i=\"fan\"===o&&f<p?l-h:u;var d=l*Math.cos(t)+s.x,g=l*Math.sin(t)+s.y,y=(l-i)*Math.cos(t)+s.x,m=(l-i)*Math.sin(t)+s.y,v=l*Math.cos(e)+s.x,b=l*Math.sin(e)+s.y,x=(l-i)*Math.cos(e)+s.x,O=(l-i)*Math.sin(e)+s.y,j=Math.abs(t-e)>Math.PI?1:0;return[[\"M\",d,g],[\"A\",l,l,0,j,1,v,b],[\"L\",x,O],[\"A\",l-i,l-i,0,j,0,y,m],[\"Z\"]]},drawPoniter:function(t){var e=this.getAngleRange(),i=e.starAngle,n=e.endAngle,o=this.gauge.pointerStyle,r=o.color,a=o.circleColorTop,s=o.circleColorBottom,l=o.radius,c=o.thickness,u=c,h=c/2.5,p=this.gauge.group,f=t.points[0],d=this.parsePoint({x:0,y:0}),g=f.x*(n-i)+i,y={x:this.gauge.ringRadius*l*Math.cos(g)+this.gauge.center.x,y:this.gauge.ringRadius*l*Math.sin(g)+this.gauge.center.y};p.addShape(\"circle\",{attrs:{x:d.x,y:d.y,r:2.2*u,fill:s}});var m={x:d.x-y.x,y:d.y-y.y},v=Math.sqrt(m.x*m.x+m.y*m.y);m.x*=1/v,m.y*=1/v;var b=-Math.PI/2,x=Math.cos(b)*m.x-Math.sin(b)*m.y,O=Math.sin(b)*m.x+Math.cos(b)*m.y,j=Math.PI/2,M=Math.cos(j)*m.x-Math.sin(j)*m.y,w=Math.sin(j)*m.x+Math.cos(j)*m.y,_=[[\"M\",y.x+x*h,y.y+O*h],[\"L\",d.x+x*u,d.y+O*u],[\"L\",d.x+M*u,d.y+w*u],[\"L\",y.x+M*h,y.y+w*h],[\"Z\"]];p.addShape(\"path\",{attrs:{path:_,fill:r,stroke:r}}),p.addShape(\"circle\",{attrs:{x:y.x,y:y.y,r:h,fill:r}}),p.addShape(\"circle\",{attrs:{x:d.x,y:d.y,r:u,fill:r}}),p.addShape(\"circle\",{attrs:{x:d.x,y:d.y,r:h/1.2,fill:a}})}})},t}(),ch={color:\"#CFCFCF\",circleColorTop:\"#2E364B\",circleColorBottom:\"#EEEEEE\",thickness:4.5},uh=function(t,e,i){var n=ch,o={color:Object(F.get)(i,[0],\"#F6445A\"),thickness:24,radius:1,angle:240,textPosition:\"100%\"};switch(t){case\"standard\":return{ringStyle:Object(P.__assign)(Object(P.__assign)({},o),{background:\"#f0f0f0\",axis:{amount:21,offset:-35,length:5,thickness:2,color:\"#999\"}}),pointerStyle:Object(P.__assign)(Object(P.__assign)({},n),{radius:.5})};case\"meter\":return{ringStyle:Object(P.__assign)(Object(P.__assign)({},o),{background:\"#f0f0f0\",axis:{amount:25,offset:-35,length:2,thickness:1,color:\"#999\"}}),pointerStyle:Object(P.__assign)(Object(P.__assign)({},n),{radius:.5})};case\"fan\":return{ringStyle:{color:Object(F.get)(i,[0],\"#F6445A\"),background:\"#f0f0f0\",thickness:70,radius:1,angle:120,textPosition:\"125%\",bottomRatio:3.5,axis:{amount:10,offset:5,length:3,thickness:3,color:\"#999\"}},pointerStyle:Object(P.__assign)(Object(P.__assign)({},n),{radius:.6})}}},hh=X({Range:\"point\",Statistic:\"annotation-text\"});Object(F.assign)(R,hh);var ph=function(t){function e(e){var i=t.call(this,e)||this;return i.type=\"gauge\",i}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),ah)},e.prototype.init=function(){var e=this.options,i=e.value,n=(e.range||[]).map((function(t){return+t})).sort((function(t,e){return t-e})),o=this.options,r=o.min,a=void 0===r?n[0]:r,s=o.max,l=void 0===s?n[n.length-1]:s,c=o.format,u=void 0===c?function(t){return\"\"+t}:c,h=u(i),p=this.getStyleMix();this.options.styleMix=p,this.options.data=[{value:i||0}],this.options.valueText=h,this.options.min=a,this.options.max=l,this.options.format=u,this.initG2Shape(),t.prototype.init.call(this)},e.prototype.getStyleMix=function(){var t=this.options,e=t.gaugeStyle,i=void 0===e?{}:e,n=t.statistic,o=void 0===n?{}:n,r=this.width,a=this.height,s=Math.max(r,a)/20,l=Object.assign({},this.theme,{stripWidth:s,tickLabelSize:s/2});return o.size||(o.size=1.2*s),Object(F.deepMix)({},l,i,{statistic:o})},e.prototype.initG2Shape=function(){this.gaugeShape=new lh(Object(F.uniqueId)()),this.gaugeShape.setOption(this.type,this.options,this.getCustomStyle().pointerStyle,this.getCustomStyle().ringStyle),this.gaugeShape.render()},e.prototype.getCustomStyle=function(){var t=this.options,e=t.color,i=(t.theme,vo()),n=e||i.colors;return uh(\"standard\",0,n)},e.prototype.geometryParser=function(t,e){throw new Error(\"Method not implemented.\")},e.prototype.scale=function(){var e=this.options,i=e.min,n=e.max,o=e.format,r=e.styleMix,a={value:{}};er(a.value,{min:i,max:n,minLimit:i,maxLimit:n,nice:!0,formatter:o,tickInterval:r.tickInterval}),this.setConfig(\"scales\",a),t.prototype.scale.call(this)},e.prototype.coord=function(){var t={type:\"polar\",cfg:{radius:1,startAngle:this.options.startAngle*Math.PI,endAngle:this.options.endAngle*Math.PI}};this.setConfig(\"coordinate\",t)},e.prototype.axis=function(){var t=this.options,e=t.styleMix,i=(t.style,this.getCustomStyle().ringStyle.thickness),n=\"number\"===typeof e.tickLabelPos?-e.tickLabelPos:\"outer\"===e.tickLabelPos?.8:-.8,o={};o.value={line:null,grid:null,label:{offset:n*(e.stripWidth+e.tickLabelSize+i),textStyle:{fontSize:e.tickLabelSize,fill:e.tickLabelColor,textAlign:\"center\",textBaseline:\"middle\"}},tickLine:null,subTickCount:e.subTickCount,subTickLine:{length:n*(e.stripWidth+1),stroke:e.tickLineColor,lineWidth:1,lineDash:[0,e.stripWidth/2,Math.abs(n*(e.stripWidth+1))]},labelAutoRotate:!0},o[1]=!1,this.setConfig(\"axes\",o)},e.prototype.addGeometry=function(){var t={type:\"point\",position:{fields:[\"value\",\"1\"]},shape:{values:[\"gauge\"]},color:{values:[this.options.styleMix.pointerColor||this.theme.defaultColor]}};this.setConfig(\"geometry\",t)},e.prototype.annotation=function(){var t=this.options,e=t.statistic,i=(t.style,[]);if(e&&e.visible){var n=this.renderStatistic();i.push(n)}this.setConfig(\"annotations\",i)},e.prototype.renderStatistic=function(){var t=this.options,e=t.statistic,i=t.styleMix;return{type:\"text\",content:e.text,top:!0,position:i.statistic.position,style:{fill:i.statistic.color,fontSize:i.statistic.size,textAlign:\"center\",textBaseline:\"middle\"}}},e.prototype.parseEvents=function(e){t.prototype.parseEvents.call(this,S)},e}(ko),fh=ph;To(\"gauge\",ph);var dh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"gauge\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=fh.getDefaultOptions,e}(Io),gh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"fanGauge\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{legend:{visible:!0,position:\"right-top\"},label:{visible:!1,position:\"middle\",offset:0,adjustColor:!0},connectedArea:{visible:!1,triggerOn:\"mouseenter\"}})},e.prototype.getCustomStyle=function(){var t=this.options,e=(t.theme,t.styleMix.colors||vo().colors);return uh(\"fan\",0,e)},e.prototype.axis=function(){this.setConfig(\"axes\",{value:!1,1:!1})},e.prototype.annotation=function(){var t=this.options,e=t.statistic,i=(t.style,[]);if(e&&e.visible){var n=this.renderStatistic();i.push(n)}var o=this.renderSideText(),r=i.concat(o);this.setConfig(\"annotations\",r)},e.prototype.renderSideText=function(){var t=this.options,e=t.max,i=t.min,n=t.styleMix,o=t.format,r=(t.style,this.getCustomStyle().ringStyle);return[i,e].map((function(t,e){return{type:\"text\",top:!0,position:[\"50%\",\"50%\"],content:o(t),style:{fill:n.labelColor,fontSize:n.tickLabelSize,textAlign:\"center\"},offsetX:e?r.thickness:-r.thickness,offsetY:12}}))},e}(fh),yh=gh;To(\"fanGauge\",gh);var mh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"fanGauge\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=yh.getDefaultOptions,e}(Io),vh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"meterGauge\",e}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{})},e.prototype.getCustomStyle=function(){var t=this.options,e=(t.theme,t.styleMix.colors||vo().colors);return uh(\"meter\",0,e)},e}(fh),bh=vh;To(\"meterGauge\",vh);var xh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"meterGauge\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=bh.getDefaultOptions,e}(Io),Oh=i(\"2W6z\"),jh=i.n(Oh),Mh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"donut\",t.prototype.createLayers.call(this,i),jh()(!1,'Please use \"Donut\" instead of \"Ring\" which was not recommended.')},e.getDefaultOptions=eu.getDefaultOptions,e}(Io),wh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"groupedColumn\",t.prototype.createLayers.call(this,i),jh()(!1,'Please use \"GroupedColumn\" instead of \"GroupColumn\" which was not recommended.')},e.getDefaultOptions=Ps.getDefaultOptions,e}(Io),_h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"groupedBar\",t.prototype.createLayers.call(this,i),jh()(!1,'Please use \"GroupedBar\" instead of \"GroupBar\" which was not recommended.')},e.getDefaultOptions=Za.getDefaultOptions,e}(Io),Ch=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"percentStackedArea\",t.prototype.createLayers.call(this,i),jh()(!1,'Please use \"PercentStackedArea\" instead of \"PercentageStackArea\" which was not recommended.')},e.getDefaultOptions=js.getDefaultOptions,e}(Io),Sh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"percentStackedBar\",t.prototype.createLayers.call(this,i),jh()(!1,'Please use \"PercentStackedBar\" instead of \"PercentageStackBar\" which was not recommended.')},e.getDefaultOptions=ts.getDefaultOptions,e}(Io),kh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"percentStackedColumn\",t.prototype.createLayers.call(this,i),jh()(!1,'Please use \"PercentStackedColumn\" instead of \"PercentageStackColumn\" which was not recommended.')},e.getDefaultOptions=Zs.getDefaultOptions,e}(Io),Ah=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"stackedArea\",t.prototype.createLayers.call(this,i),jh()(!1,'Please use \"StackedArea\" instead of \"StackArea\" which was not recommended.')},e.getDefaultOptions=bs.getDefaultOptions,e}(Io),Lh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"stackedBar\",t.prototype.createLayers.call(this,i),jh()(!1,'Please use \"StackedBar\" instead of \"StackBar\" which was not recommended.')},e.getDefaultOptions=qa.getDefaultOptions,e}(Io),Bh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"stackedColumn\",t.prototype.createLayers.call(this,i),jh()(!1,'Please use \"StackedColumn\" instead of \"StackColumn\" which was not recommended.')},e.getDefaultOptions=Ns.getDefaultOptions,e}(Io),Dh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.getDefaultOptions=function(){return Object(F.deepMix)({},t.getDefaultOptions.call(this),{title:{visible:!1},description:{visible:!1},padding:[0,0,0,0],legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},tooltip:{visible:!1}})},e.prototype.coord=function(){},e.prototype.addGeometry=function(){},e.prototype.annotation=function(){var t=this,e=this.options,i=[],n={line:{style:{lineWidth:1,stroke:\"#66d6a8\"}}};Object(F.each)(e.guideLine,(function(e){var o=to(\"guideLine\",{plot:t,cfg:Object(F.deepMix)({},n,e)});i.push(o)})),this.setConfig(\"annotations\",i)},e}(ko),Th=function(){function t(t){Object(F.assign)(this,t),this.init()}return t.prototype.destroy=function(){this.shape&&this.shape.destroy()},t.prototype.update=function(t,e,i){var n={};if(Object(F.assign)(this,t),this.coord=this.view.geometries[0].coordinate,t.value){var o=[1,0,0,0,1,0,this.coord.convert({x:0,y:this.value}).x,0,1];n.matrix=o}if(t.style){var r=this.shape.attrs,a=Object(F.deepMix)({},r,t.style);n=Object(F.deepMix)({},a,n)}this.shape.stopAnimate(),this.shape.animate(n,e,i)},t.prototype.init=function(){this.coord=this.view.geometries[0].coordinate,this.container=this.view.foregroundGroup.addGroup();var t=this.coord.convert({x:0,y:this.value}).x,e=this.coord.center.y-this.progressSize/2-2,i=this.coord.center.y+this.progressSize/2+2,n=Object(F.deepMix)({},{stroke:\"grey\",lineWidth:1},this.style);this.shape=this.container.addShape(\"path\",{attrs:Object(P.__assign)({path:[[\"M\",0,e],[\"L\",0,i]]},n),name:\"progress-marker\"}),this.shape.move(t,0),this.canvas.draw()},t}();Object(F.assign)(R,{onProgressClick:\"interval:click\",onProgressDblclick:\"interval:dblclick\",onProgressMousemove:\"interval:mousemove\",onProgressMousedown:\"interval:mousedown\",onProgressMouseup:\"interval:mouseup\",onProgressMouseenter:\"progress:mouseenter\",onProgressMouseleave:\"progress:mouseleave\",onProgressContextmenu:\"interval:contextmenu\"});var Ph={progress:\"interval\"},Ih={interval:\"progress\"},Eh=[\"#55A6F3\",\"#E8EDF3\"],Fh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"progress\",e.isEntered=!1,e}return Object(P.__extends)(e,t),e.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:\"value\",yField:\"1\",stackField:\"type\",barSize:t.size?t.size:this.getSize(),barStyle:t.progressStyle,color:this.parseColorProps(t)||Eh};t=Object(F.mix)(t,e)},e.prototype.init=function(){this.processProps(),t.prototype.init.call(this)},e.prototype.beforeInit=function(){var t=this.options.percent;if(!Object(F.isNumber)(t))throw new Error(\"Percent value is required, and the type of percent must be Number.\")},e.prototype.update=function(t){var e=this.options;if(Object(F.hasKey)(t,\"percent\")&&(e.percent=t.percent,this.changeData(this.processData())),t.style&&(this.styleUpdateAnimation(t.style),this.updateColorConfigByStyle(t.style)),t.color){var i=void 0;Object(F.isArray)(t.color)?(this.options.color=t.color,i=[{fill:t.color[0]},{fill:t.color[1]}]):(this.options.color[0]=t.color,i={fill:t.color}),this.styleUpdateAnimation(i)}t.marker&&(this.updateMarkers(t.marker),this.options.marker=t.marker)},e.prototype.destroy=function(){this.markers&&this.markers.length>0&&(Object(F.each)(this.markers,(function(t){t.destroy()})),this.markers=[]),t.prototype.destroy.call(this)},e.prototype.afterRender=function(){var t=this;this.options.marker&&!this.markers&&(this.markers=[],Object(F.each)(this.options.marker,(function(e){var i=Object(F.mix)({canvas:t.canvas,view:t.view,progressSize:t.options.barSize},e),n=new Th(i);t.markers.push(n)})));var e=this.view.geometries[0].container,i=e.getBBox(),n=e.addShape(\"rect\",{attrs:{width:i.width,height:i.height,x:i.minX,y:i.minY,fill:\"rgba(0,0,0,0)\"}});this.canvas.draw(),n.on(\"mouseenter\",(function(e){t.isEntered=!0,t.view.emit(\"progress:mouseenter\",e)})),n.on(\"mouseleave\",(function(e){t.isEntered=!1,t.view.emit(\"progress:mouseleave\",e)})),this.canvas.get(\"container\").addEventListener(\"mouseleave\",(function(e){t.isEntered&&(t.view.emit(\"progress:mouseleave\",e),t.isEntered=!1)}))},e.prototype.geometryParser=function(t,e){return\"g2\"===t?Ph[e]:Ih[e]},e.prototype.coord=function(){this.setConfig(\"coordinate\",{actions:[[\"transpose\"]]})},e.prototype.addGeometry=function(){var t=this.options,e=tr(\"interval\",\"main\",{positionFields:[t.yField,t.xField],plot:this});e.adjust=[{type:\"stack\"}],Object(F.has)(t,\"animation\")&&(e.animate=t.animation),this.setConfig(\"geometry\",e)},e.prototype.parseEvents=function(e){t.prototype.parseEvents.call(this,k)},e.prototype.parseColorProps=function(t){var e;if(t.color){if(e=Object(F.isFunction)(t.color)?t.color(t.percent):t.color,Object(F.isString)(e)){var i=Object(F.clone)(Eh);return i[0]=e,i}return e}return t.color},e.prototype.processData=function(){var t=this.options;return[{type:\"current\",value:t.percent},{type:\"rest\",value:1-t.percent}]},e.prototype.updateMarkers=function(t){var e=t.length,i=this.getUpdateAnimationOptions();if(Object(F.each)(this.markers,(function(n,o){o>e-1?n.destroy():n.update(t[o],i.duration,i.easing)})),this.markers.length<e)for(var n=this.markers.length;n<e;n++){var o=Object(F.deepMix)({},{canvas:this.canvas,view:this.view,progressSize:this.options.barSize},t[n]),r=new Th(o);this.markers.push(r)}},e.prototype.getSize=function(){return this.height>=50?10:4},e.prototype.styleUpdateAnimation=function(t){var e=this.getUpdateAnimationOptions(),i=e.duration,n=e.easing,o=[],r=this.view.geometries;Object(F.each)(r,(function(t){if(\"interval\"===t.type){var e=t.elements;Object(F.each)(e,(function(t){o.push.apply(o,t.shape)}))}})),Object(F.isArray)(t)?Object(F.each)(t,(function(t,e){o[e].animate(t,i,n)})):o[0].animate(t,i,n)},e.prototype.getUpdateAnimationOptions=function(){var t=450,e=\"easeQuadInOut\",i=this.options.animation;return i&&i.update&&(i.update.duration&&(t=i.update.duration),i.update.easing&&(e=i.update.easing)),{duration:t,easing:e}},e.prototype.updateColorConfigByStyle=function(t){var e=this;Object(F.isArray)(t)?Object(F.each)(t,(function(t,i){t.fill&&(e.options.color[i]=t.fill)})):t.fill&&(this.options.color[0]=t.fill)},e}(Dh),Rh=Fh;To(\"progress\",Fh);var Yh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"progress\",t.prototype.createLayers.call(this,i)},e.prototype.update=function(t,e){this.layers[0].update(t,e)},e.getDefaultOptions=Rh.getDefaultOptions,e}(Io);Object(F.assign)(R,{onRingProgressClick:\"interval:click\",onRingProgressDblclick:\"interval:dblclick\",onRingProgressMousemove:\"interval:mousemove\",onRingProgressMousedown:\"interval:mousedown\",onRingProgressMouseup:\"interval:mouseup\",onRingProgressMouseenter:\"interval:mouseenter\",onRingProgressMouseleave:\"interval:mouseleave\",onRingProgressContextmenu:\"interval:contextmenu\"});var Nh=[\"#55A6F3\",\"#E8EDF3\"],zh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"ringProgrsss\",e}return Object(P.__extends)(e,t),e.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:\"value\",yField:\"1\",stackField:\"type\",barStyle:t.progressStyle,color:this.parseColorProps(t)||Nh};t=Object(F.mix)(t,e)},e.prototype.coord=function(){var t={type:\"theta\",cfg:{radius:1,innerRadius:this.getThickness(this.options.size)}};this.setConfig(\"coordinate\",t)},e.prototype.annotation=function(){},e.prototype.addGeometry=function(){var t=this.options;this.ring=tr(\"interval\",\"main\",{positionFields:[t.yField,t.xField],plot:this}),this.ring.adjust=[{type:\"stack\"}],this.setConfig(\"geometry\",this.ring)},e.prototype.animation=function(){this.ring.animate={appear:{duration:1e3}}},e.prototype.parseEvents=function(e){t.prototype.parseEvents.call(this,A)},e.prototype.getThickness=function(t){var e=this.width,i=this.height,n=Math.min(e,i);return t?1-t/n:n>=60?1-20/n:1-10/n},e}(Rh),Hh=zh;To(\"ringProgress\",zh);var Xh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"ringProgress\",t.prototype.createLayers.call(this,i)},e.prototype.update=function(t){this.layers[0].update(t)},e.getDefaultOptions=Hh.getDefaultOptions,e}(Io);Object(F.assign)(R,{onColumnClick:\"interval:click\",onColumnDblclick:\"interval:dblclick\",onColumnMousemove:\"interval:mousemove\",onColumnMousedown:\"interval:mousedown\",onColumnMouseup:\"interval:mouseup\",onColumnMouseenter:\"interval:mouseenter\",onColumnMouseleave:\"interval:mouseleave\",onColumnContextmenu:\"interval:contextmenu\"});var Gh={column:\"interval\"},Vh={interval:\"column\"},Wh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"tinyColumn\",e}return Object(P.__extends)(e,t),e.prototype.init=function(){this.processProps(),t.prototype.init.call(this)},e.prototype.geometryParser=function(t,e){return\"g2\"===t?Gh[e]:Vh[e]},e.prototype.scale=function(){var t={};t[this.options.xField]={type:\"cat\"},this.setConfig(\"scales\",t)},e.prototype.addGeometry=function(){var t=this.options,e=tr(\"interval\",\"main\",{positionFields:[t.xField,t.yField],plot:this});this.setConfig(\"geometry\",e)},e.prototype.parseEvents=function(e){t.prototype.parseEvents.call(this,L)},e.prototype.processProps=function(){var t=this.options,e={padding:[0,0,0,0],columnSize:this.getSize()};t=Object(F.mix)(t,e)},e.prototype.getSize=function(){var t=this.options,e=this.getColumnNum(t.data,t.xField);return this.width/e*.6},e.prototype.getColumnNum=function(t,e){var i=[];return Object(F.each)(t,(function(t){var n=t[e];i.indexOf(n)<0&&i.push(n)})),i.length},e}(Dh),qh=Wh;To(\"tinyColumn\",Wh);var Uh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"tinyColumn\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=qh.getDefaultOptions,e}(Io);Object(F.assign)(R,{onAreaClick:\"area:click\",onAreaDblclick:\"area:dblclick\",onAreaMousemove:\"area:mousemove\",onAreaMousedown:\"area:mousedown\",onAreaMouseup:\"area:mouseup\",onAreaMouseenter:\"area:mouseenter\",onAreaMouseleave:\"area:mouseleave\",onAreaContextmenu:\"area:contextmenu\",onLineClick:\"line:click\",onLineDblclick:\"line:dblclick\",onLineMousemove:\"line:mousemove\",onLineMousedown:\"line:mousedown\",onLineMouseup:\"line:mouseup\",onLineMouseenter:\"line:mouseenter\",onLineMouseleave:\"line:mouseleave\",onLineContextmenu:\"line:contextmenu\"});var $h={area:\"area\",line:\"line\"},Zh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"tinyArea\",e}return Object(P.__extends)(e,t),e.prototype.geometryParser=function(t,e){return $h[e]},e.prototype.addGeometry=function(){this.area=tr(\"area\",\"mini\",{plot:this}),this.setConfig(\"geometry\",this.area),this.line=tr(\"line\",\"mini\",{plot:this}),this.setConfig(\"geometry\",this.line)},e.prototype.parseEvents=function(e){t.prototype.parseEvents.call(this,B)},e}(Dh),Kh=Zh;To(\"tinyArea\",Zh);var Qh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"tinyArea\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=Kh.getDefaultOptions,e}(Io);Object(F.assign)(R,{onLineClick:\"line:click\",onLineDblclick:\"line:dblclick\",onLineMousemove:\"line:mousemove\",onLineMousedown:\"line:mousedown\",onLineMouseup:\"line:mouseup\",onLineMouseenter:\"line:mouseenter\",onLineMouseleave:\"line:mouseleave\",onLineContextmenu:\"line:contextmenu\"});var Jh={line:\"line\"},tp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"tinyLine\",e}return Object(P.__extends)(e,t),e.prototype.geometryParser=function(t,e){return Jh[e]},e.prototype.addGeometry=function(){this.line=tr(\"line\",\"mini\",{plot:this}),this.setConfig(\"geometry\",this.line)},e.prototype.parseEvents=function(e){t.prototype.parseEvents.call(this,D)},e}(Dh),ep=tp;To(\"tinyLine\",tp);var ip=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.createLayers=function(e){var i=Object(F.deepMix)({},e);i.type=\"tinyLine\",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=ep.getDefaultOptions,e}(Io),np=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.getDefaultOptions=function(){return{}},e.prototype.getGlobalOptions=function(t){return{xAxis:t.xAxis,yAxis:t.yAxis,theme:t.theme,legend:t.legend}},e.prototype.createComboLayers=function(){this.globalOptions=Object(F.deepMix)({},this.getDefaultOptions(),this.getGlobalOptions(this.options))},e}(Io),op=[\"line\",\"area\",\"column\",\"bar\",\"bubble\",\"scatter\"];function rp(t,e){return!!F.contains(op,t)&&((\"line\"!==t||!F.has(e,\"seriesField\"))&&(\"column\"!==t||!F.has(e,\"colorField\")))}function ap(t,e,i,n,o){var r=vo().legend,a=o.split(\"-\"),s=\"horizontal\";\"left\"!==a[0]&&\"right\"!==a[0]||(s=\"vertical\");var c=n.addGroup(),u={type:\"category-legend\",items:t,maxSize:e,container:c,group:c,layout:s,textStyle:{fill:\"#8C8C8C\",fontSize:12,textAlign:\"start\",textBaseline:\"middle\",lineHeight:20},titleDistance:10,autoWrap:!0,itemMarginBottom:4,backgroundPadding:0,maxLength:e},h=new l.Category(u);!function(t,e,i,n){var o=vo().bleeding;F.isArray(o)&&F.each(o,(function(t,e){\"function\"===typeof o[e]&&(o[e]=o[e]({}))}));var r=i.get(\"container\").getBBox(),a=0,s=0,l=n.split(\"-\");\"left\"===l[0]?a=o[3]:\"right\"===l[0]?a=t-o[1]-r.width:\"center\"===l[1]?a=(t-r.width)/2:\"left\"===l[1]?a=o[3]:\"right\"===l[1]&&(a=t-o[1]-r.width);\"bottom\"===l[0]?s=e-o[2]-r.height:\"top\"===l[0]?s=o[0]:\"center\"===l[1]?s=(e-r.height)/2:\"top\"===l[1]?s=o[0]:\"bottom\"===l[1]&&(s=e-o[2]-r.height);i.setLocation({x:a,y:s}),i.render()}(e,i,h,o),function(t){var e=[];t.get(\"group\").on(\"click\",(function(t){var i=t.target.get(\"delegateObject\").item;if(i.isSingle)i.checked?(t.target.get(\"parent\").attr(\"opacity\",.3),i.layer.hide(),i.checked=!1):(t.target.get(\"parent\").attr(\"opacity\",1),i.layer.show(),i.checked=!0);else{var n=i.layer.view;if(i.checked)t.target.get(\"parent\").attr(\"opacity\",.3),e.push(i.value),n.filter(i.field,(function(t){return!F.contains(e,t)})),n.render(),0===n.filteredData.length?i.layer.hide():i.layer.visibility||i.layer.show(),i.checked=!1;else t.target.get(\"parent\").attr(\"opacity\",1),F.pull(e,i.value),n.filter(i.value,(function(t){return!F.contains(e,t)})),n.render(),i.layer.visibility||i.layer.show(),i.checked=!0}}))}(h);var p,f=h.get(\"container\").getBBox(),d=r.innerPadding;return\"left\"===a[0]?p=new G(h.get(\"x\")+d[3],h.get(\"y\"),f.width,f.height):\"right\"===a[0]?p=new G(h.get(\"x\")-d[1],h.get(\"y\"),f.width,f.height):\"top\"===a[0]?p=new G(h.get(\"x\"),h.get(\"y\")+d[0],f.width,f.height):\"bottom\"===a[0]&&(p=new G(h.get(\"x\"),h.get(\"y\")-d[2],f.width,f.height)),{position:a[0],component:h,getBBox:function(){return p}}}function sp(t,e){var i=vo().bleeding;F.isArray(i)&&F.each(i,(function(t,e){\"function\"===typeof i[e]&&(i[e]=i[e]({}))}));var n=t.layerBBox.minX,o=t.layerBBox.maxX,r=F.clone(t.layerBBox.minY),a=t.layerBBox.maxY;F.each(e,(function(t){var e=t.position,i=t.getBBox(),s=i.minX,l=i.maxX,c=i.minY,u=i.maxY;u>r&&u<a&&\"top\"===e&&(r=u),c>r&&u>a&&\"bottom\"===e&&(a=c),c>r&&c<=a&&\"bottom\"===e&&(a=c),l>n&&l<o&&\"left\"===e&&(n=l),s>n&&l<o&&\"right\"===e&&(o=s)}));var s=new G(n,r,o-n,a-r),l=s.minY-t.layerBBox.minY;return 0===l&&(l=i[0]),[l,t.layerBBox.maxX-s.maxX,t.layerBBox.maxY-s.maxY,s.minX-t.layerBBox.minX]}var lp=4;function cp(t,e,i){return\"x\"===e?function(t){if(!hp(t))return[t[0].scale];return\"cat\"===t[0].scale.type?function(t){for(var e=[],i=0,n=t;i<n.length;i++){var o=n[i];e.push.apply(e,o.scale.values)}return new(Wi(\"cat\"))({values:F.uniq(e)})}(t):up(t,5)}(t.filter((function(t){if(\"x\"===t.dim)return t}))):function(t,e){var i=hp(t),n=t[0].scale.tickCount,o=Wi(\"linear\");return i?up(t,n):t.map((function(t){var i=t.scale,r=function(t,e){for(var i=[],n=t.min,o=(t.max-n)/e,r=0;r<e;r++){var a=n+o*r;i.push(a)}return i}(i,n);if(e){var a=new o({min:i.min,max:i.max,ticks:r,tickCount:n,color:t.color});return a.layer=t.layer,a}return i.layer=t.layer,i.color=t.color,i}))}(t.filter((function(t){if(\"y\"===t.dim)return t})),i.synchroTick)}function up(t,e){for(var i=t[0].scale.min,n=t[0].scale.max,o=0,r=t;o<r.length;o++){var a=r[o];i=Math.min(i,a.scale.min),n=Math.max(n,a.scale.max)}return new(Wi(\"linear\"))({min:i,max:n,tickCount:e})}function hp(t){for(var e=t[0].originalData,i=t[0].scale.field,n=0,o=t;n<o.length;n++){var r=o[n],a=r.originalData,s=r.scale.field;if(a!==e||s!==i)return!1}return!0}function pp(t,e,i,n,o){var r,a=dp(o),l=\"x\"!==e;r=t.layer?t.layer.container.addGroup():i.addGroup();var c,u,h=function(t,e){var i=[],n=t.ticks,o=t.range,r=(o[1]-o[0])/(n.length-1);return F.each(n,(function(t,n){var a=\"y\"===e?1-(o[0]+r*n):o[0]+r*n;i.push({name:t,value:a})})),i}(t,e),p=to(\"axis\",{dim:e,plot:{options:o,getPlotTheme:function(){return vo()}}}),f=a.axis&&a.axis[e]?function(t){var e={};return F.each(t,(function(t,i){F.hasKey(t,\"style\")&&(e[i]=t.style)})),e}(a.axis[e]):{};t.color&&(c=t.color,f={line:(u=p).line?{stroke:c,lineWidth:1}:null,tickLine:u.tickLine?{stroke:c,lineWidth:1,length:5}:null,label:u.label?{textStyle:{fill:c}}:null});var d=F.deepMix({},p,{type:\"line\",group:r,canvas:i,start:n.start,end:n.end,isVertical:l,verticalFactor:n.factor,ticks:h,label:function(t){return{text:t,textStyle:p.label.textStyle}}},f),g=new s.Line(d);return g.layer=t.layer,g.render(),g}function fp(t,e,i,n,o,r,a){var s=vo().bleeding;F.each(i,(function(t,e){0===t&&(i[e]=s[e])}));var l,c,u=[],h=[],p=0;if(t.xAxis.visible&&(l=cp(e,\"x\"),c=pp(l[0],\"x\",a,{start:{x:0,y:0},end:{x:o,y:0},factor:-1},t),p+=c.get(\"group\").getBBox().height),t.yAxis.visible){var f=cp(e,\"y\",t.yAxis);F.each(f,(function(e,n){var o=0===n?-1:1,s=pp(e,\"y\",a,{start:{x:0,y:i[0]},end:{x:0,y:r-p-i[2]},factor:o},t);0===n&&ua(s.get(\"group\"),i[3],0),h.push(s)})),function(t,e,i,n){var o=t[0],r=o.get(\"group\"),a=r.getBBox();ua(r,a.width,0),e.push({position:\"left\",component:o,getBBox:function(){var t=r.attr(\"matrix\");return new G(a.minX+t[6],a.minY,a.width,a.height)}});for(var s=n[1],l=function(n){var o=t[n],r=o.get(\"group\"),a=r.getBBox();ua(r,i-s-a.width,0),s+=a.width+lp;var l={position:\"right\",component:o,getBBox:function(){var t=r.attr(\"matrix\");return new G(a.minX+t[6],a.minY,a.width,a.height)}};e.push(l)},c=t.length-1;c>0;c--)l(c)}(h,u,o,i)}if(t.xAxis.visible){var d=sp(n,u),g=0===h.length?r-p-i[2]:h[0].get(\"group\").getBBox().maxY;c.destroy(),c=pp(l[0],\"x\",a,{start:{x:d[3],y:g},end:{x:o-d[1],y:g},factor:-1},t),u.push({position:\"bottom\",component:c,getBBox:function(){var t=c.get(\"group\").getBBox();return new G(t.minX,t.minY,t.width,t.height)}})}return u}function dp(t){var e=vo();return t.theme&&(F.isString(t.theme)?e=vo(t.theme):F.isObject(t.theme)&&(e=t.theme)),e}function gp(t,e,i){var n=function(t,e){var i=vo().tooltip,n={parent:t.canvas.get(\"container\"),panelGroup:t.view.middleGroup,panelRange:t.view.coodinateBBox,capture:!1,canvas:e,frontgroundGroup:t.view.frontgroundGroup,theme:i,backgroundGroup:t.view.backgroundGroup,items:[{name:0,value:0}],domStyles:{\"g2-tooltip\":{opacity:0}}};return new u.Html(n)}(e[0],t);return n.init(),t.on(\"mousemove\",(function(t){var i=[],o={x:t.x,y:t.y};Object(F.each)(e,(function(t){var e=t.view;e&&t.visibility&&i.push.apply(i,e.getTooltipItems(o))})),i.length>0?(n.setLocation(o),n.update({items:yp(i),domStyles:{\"g2-tooltip\":{opacity:1}}}),n.show()):n.get(\"visible\")&&n.hide()})),n}function yp(t){var e=[];return Object(F.each)(t,(function(t){-1===function(t,e){var i=-1;return Object(F.each)(t,(function(t,n){var o=!0;for(var r in e)if(Object(F.has)(e,r)&&!Object(F.isObject)(e[r])&&e[r]!==t[r]){o=!1;break}if(o)return i=n,!1})),i}(e,t)&&e.push(t)})),e}var mp=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.options=i,n}return Object(P.__extends)(e,t),e.prototype.getDefaultOptions=function(){return{xAxis:{visible:!0,autoHideLabel:!1,autoRotateLabel:!1,autoRotateTitle:!1,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0},title:{visible:!1,offset:12}},yAxis:{visible:!0,autoHideLabel:!1,autoRotateLabel:!1,autoRotateTitle:!0,grid:{visible:!0},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0},title:{visible:!1,offset:12},colorMapping:!0,synchroTick:!0},label:{visible:!1},tooltip:{visible:!0,sort:!0},legend:{visible:!0,position:\"top-left\"}}},e.prototype.createComboLayers=function(){var e=this;t.prototype.createComboLayers.call(this),this.legendInfo=[],this.axisInfo=[],this.paddingComponents=[],this.globalComponents=[],this.singleGeomCount=0,this.backLayer=new V({canvas:this.getCanvas(),width:this.width,height:this.height}),this.options.layers.length>0&&F.each(this.options.layers,(function(t){var i,n,o=e.getOverlappedConfig(t),r=Po(t.type),a=F.deepMix({},t,{canvas:e.canvas,x:0,y:0,width:e.width,height:e.height,tooltip:{domStyles:{\"g2-tooltip\":{display:\"none\"}}}},o),s=new r(a);s.render(),s.hide(),(i=e.axisInfo).push.apply(i,function(t,e,i){var n=t.view.geometries[0].scales,o=[],r=rp(t.type,e);if(e.xField){var a={dim:\"x\",scale:n[e.xField],originalData:e.data};o.push(a)}if(e.yField){a={dim:\"y\",scale:n[e.yField],originalData:e.data,color:r&&i.yAxis.colorMapping?e.color:null,layer:t};o.push(a)}return o}(s,a,e.globalOptions)),(n=e.legendInfo).push.apply(n,function(t,e){var i=[],n=t.view.geometries[0],o=n.attributes.color,r={isInCircle:!1,color:o.values[0]},a={symbol:\"circle\",style:{r:4,fill:r.fill}};if(n.shapeFactory&&(a=n.shapeFactory.getMarker(n.type,r)),1===o.scales.length&&\"identity\"==o.scales[0].type)i.push({value:e.name,checked:!0,marker:a,isSingle:!0,layer:t,name:e.name||n.type});else{var s=o.scales[0].values;F.each(s,(function(e,a){var s=e,l={isInCircle:!1,color:o.values[a]},c={symbol:\"circle\",style:{r:4,fill:r.color}};n.shapeFactory&&(c=n.shapeFactory.getMarker(n.type,l)),i.push({field:o.scales[0].field,value:s,checked:!0,marker:c,isSingle:!1,layer:t,name:s})}))}return i}(s,a)),e.addLayer(s)})),this.topLayer=new V({canvas:this.getCanvas(),width:this.width,height:this.height}),this.topLayer.render()},e.prototype.getOverlappedConfig=function(t){var e=function(t,e,i){if(e.color)return{single:!1,color:e.color};var n=rp(t,e),o=vo().colors;return n&&!e.color?{single:!0,color:o[i]}:void 0}(t.type,t,this.singleGeomCount);return e&&e.single&&this.singleGeomCount++,F.deepMix({},{xAxis:{visible:!1},yAxis:{visible:!1},legend:{visible:!1},padding:[0,0,0,0],color:e?e.color:null})},e.prototype.overlappingLegend=function(){var t=this.legendInfo;return this.legendContainer=this.topLayer.container.addGroup(),ap(t,this.width,this.height,this.getCanvas(),this.globalOptions.legend.position)},e.prototype.render=function(){var t,e=this;this.doDestroy(),this.createComboLayers();var i=vo().bleeding;if(this.globalOptions.legend.visible){var n=this.overlappingLegend();this.globalComponents.push({type:\"legend\",component:n.component}),this.paddingComponents.push(n)}var o=sp(this.layers[0],this.paddingComponents),r=fp(this.globalOptions,this.axisInfo,o,this.layers[0],this.width,this.height,this.getCanvas());(t=this.paddingComponents).push.apply(t,r),F.each(r,(function(t){e.globalComponents.push({type:\"axis\",component:t.component})}));var a=sp(this.layers[0],this.paddingComponents);if(this.globalOptions.xAxis.visible||(a[2]+=i[2]),F.each(this.layers,(function(t){t.updateConfig({padding:a}),t.render(),t.show()})),this.globalOptions.yAxis.grid.visible){var s=r[0].component,l=this.layers[0];!function(t,e,i,n){var o=dp(n),r=n.yAxis.grid,a=o.axis.y.grid.style,s=F.deepMix({},a,r.style),l=i.addGroup(),c=t.get(\"labelItems\");F.each(c,(function(t,i){i>0&&l.addShape(\"path\",{attrs:Object(P.__assign)({path:[[\"M\",e.start.x,t.point.y],[\"L\",e.end.x,t.point.y]]},s)})}))}(s,l.view.geometries[0].coordinate,l.view.backgroundGroup,this.globalOptions)}if(this.canvas.draw(),this.globalOptions.tooltip.visible){var c=gp(this.canvas,this.layers,this.globalOptions.tooltip);this.globalComponents.push({type:\"tooltip\",component:c})}},e.prototype.doDestroy=function(){this.clearComponents(),this.eachLayer((function(t){t.destroy()})),this.layers=[]},e.prototype.clearComponents=function(){F.each(this.globalComponents,(function(t){\"legend\"!==t.type&&\"tooltip\"!==t.type||t.component.destroy(),\"axis\"===t.type&&t.component.clear()})),this.paddingComponents=[],this.globalComponents=[]},e}(np);i.d(e,\"timeIntervals\",(function(){return T})),i.d(e,\"Layer\",(function(){return V})),i.d(e,\"ViewLayer\",(function(){return ko})),i.d(e,\"Base\",(function(){return Io})),i.d(e,\"Line\",(function(){return oa})),i.d(e,\"Treemap\",(function(){return La})),i.d(e,\"StepLine\",(function(){return Da})),i.d(e,\"Bar\",(function(){return Ga})),i.d(e,\"StackedBar\",(function(){return Ua})),i.d(e,\"GroupedBar\",(function(){return Ka})),i.d(e,\"PercentStackedBar\",(function(){return es})),i.d(e,\"RangeBar\",(function(){return ls})),i.d(e,\"Area\",(function(){return fs})),i.d(e,\"StackedArea\",(function(){return xs})),i.d(e,\"PercentStackedArea\",(function(){return Ms})),i.d(e,\"Column\",(function(){return Ds})),i.d(e,\"GroupedColumn\",(function(){return Is})),i.d(e,\"StackedColumn\",(function(){return zs})),i.d(e,\"RangeColumn\",(function(){return Us})),i.d(e,\"PercentStackedColumn\",(function(){return Ks})),i.d(e,\"Pie\",(function(){return dl})),i.d(e,\"DensityHeatmap\",(function(){return Ol})),i.d(e,\"Heatmap\",(function(){return Al})),i.d(e,\"WordCloud\",(function(){return Fl})),i.d(e,\"Rose\",(function(){return Xl})),i.d(e,\"Funnel\",(function(){return oc})),i.d(e,\"StackedRose\",(function(){return sc})),i.d(e,\"GroupedRose\",(function(){return uc})),i.d(e,\"Radar\",(function(){return gc})),i.d(e,\"Liquid\",(function(){return Ac})),i.d(e,\"Histogram\",(function(){return Dc})),i.d(e,\"Density\",(function(){return Ec})),i.d(e,\"Donut\",(function(){return iu})),i.d(e,\"Waterfall\",(function(){return hu})),i.d(e,\"Scatter\",(function(){return Tu})),i.d(e,\"Bubble\",(function(){return Fu})),i.d(e,\"Bullet\",(function(){return Vu})),i.d(e,\"Calendar\",(function(){return rh})),i.d(e,\"Gauge\",(function(){return dh})),i.d(e,\"FanGauge\",(function(){return mh})),i.d(e,\"MeterGauge\",(function(){return xh})),i.d(e,\"Ring\",(function(){return Mh})),i.d(e,\"GroupColumn\",(function(){return wh})),i.d(e,\"GroupBar\",(function(){return _h})),i.d(e,\"PercentageStackArea\",(function(){return Ch})),i.d(e,\"PercentageStackBar\",(function(){return Sh})),i.d(e,\"PercentageStackColumn\",(function(){return kh})),i.d(e,\"StackArea\",(function(){return Ah})),i.d(e,\"StackBar\",(function(){return Lh})),i.d(e,\"StackColumn\",(function(){return Bh})),i.d(e,\"Progress\",(function(){return Yh})),i.d(e,\"RingProgress\",(function(){return Xh})),i.d(e,\"TinyColumn\",(function(){return Uh})),i.d(e,\"TinyArea\",(function(){return Qh})),i.d(e,\"TinyLine\",(function(){return ip})),i.d(e,\"OverlappedComboPlot\",(function(){return mp})),i.d(e,\"registerTheme\",(function(){return xo})),i.d(e,\"registerGlobalTheme\",(function(){return mo})),i.d(e,\"registerResponsiveConstraint\",(function(){return rr})),i.d(e,\"registerResponsiveRule\",(function(){return Xr})),i.d(e,\"registerResponsiveTheme\",(function(){return wo})),i.d(e,\"getResponsiveTheme\",(function(){return _o})),i.d(e,\"StateManager\",(function(){return Hn}))},mrSG:function(t,e,i){\"use strict\";i.r(e),i.d(e,\"__extends\",(function(){return o})),i.d(e,\"__assign\",(function(){return r})),i.d(e,\"__rest\",(function(){return a})),i.d(e,\"__decorate\",(function(){return s})),i.d(e,\"__param\",(function(){return l})),i.d(e,\"__metadata\",(function(){return c})),i.d(e,\"__awaiter\",(function(){return u})),i.d(e,\"__generator\",(function(){return h})),i.d(e,\"__exportStar\",(function(){return p})),i.d(e,\"__values\",(function(){return f})),i.d(e,\"__read\",(function(){return d})),i.d(e,\"__spread\",(function(){return g})),i.d(e,\"__spreadArrays\",(function(){return y})),i.d(e,\"__await\",(function(){return m})),i.d(e,\"__asyncGenerator\",(function(){return v})),i.d(e,\"__asyncDelegator\",(function(){return b})),i.d(e,\"__asyncValues\",(function(){return x})),i.d(e,\"__makeTemplateObject\",(function(){return O})),i.d(e,\"__importStar\",(function(){return j})),i.d(e,\"__importDefault\",(function(){return M}));var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function o(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var r=function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function a(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&\"function\"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(i[n[o]]=t[n[o]])}return i}function s(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if(\"object\"===typeof Reflect&&\"function\"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a}function l(t,e){return function(i,n){e(i,n,t)}}function c(t,e){if(\"object\"===typeof Reflect&&\"function\"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,i,n){return new(i||(i=Promise))((function(o,r){function a(t){try{l(n.next(t))}catch(e){r(e)}}function s(t){try{l(n.throw(t))}catch(e){r(e)}}function l(t){t.done?o(t.value):new i((function(e){e(t.value)})).then(a,s)}l((n=n.apply(t,e||[])).next())}))}function h(t,e){var i,n,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},\"function\"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(i)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}function p(t,e){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}function f(t){var e=\"function\"===typeof Symbol&&t[Symbol.iterator],i=0;return e?e.call(t):{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}}}function d(t,e){var i=\"function\"===typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,o,r=i.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=r.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(o)throw o.error}}return a}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function y(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function v(t,e,i){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var n,o=i.apply(t,e||[]),r=[];return n={},a(\"next\"),a(\"throw\"),a(\"return\"),n[Symbol.asyncIterator]=function(){return this},n;function a(t){o[t]&&(n[t]=function(e){return new Promise((function(i,n){r.push([t,e,i,n])>1||s(t,e)}))})}function s(t,e){try{(i=o[t](e)).value instanceof m?Promise.resolve(i.value.v).then(l,c):u(r[0][2],i)}catch(n){u(r[0][3],n)}var i}function l(t){s(\"next\",t)}function c(t){s(\"throw\",t)}function u(t,e){t(e),r.shift(),r.length&&s(r[0][0],r[0][1])}}function b(t){var e,i;return e={},n(\"next\"),n(\"throw\",(function(t){throw t})),n(\"return\"),e[Symbol.iterator]=function(){return this},e;function n(n,o){e[n]=t[n]?function(e){return(i=!i)?{value:m(t[n](e)),done:\"return\"===n}:o?o(e):e}:o}}function x(t){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var e,i=t[Symbol.asyncIterator];return i?i.call(t):(t=f(t),e={},n(\"next\"),n(\"throw\"),n(\"return\"),e[Symbol.asyncIterator]=function(){return this},e);function n(i){e[i]=t[i]&&function(e){return new Promise((function(n,o){(function(t,e,i,n){Promise.resolve(n).then((function(e){t({value:e,done:i})}),e)})(n,o,(e=t[i](e)).done,e.value)}))}}}function O(t,e){return Object.defineProperty?Object.defineProperty(t,\"raw\",{value:e}):t.raw=e,t}function j(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function M(t){return t&&t.__esModule?t:{default:t}}},mrT1:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){var e=typeof t;return null!==t&&\"object\"===e||\"function\"===e}},nkna:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.CONTAINER_CLASS=\"g2-tooltip\",e.TITLE_CLASS=\"g2-tooltip-title\",e.LIST_CLASS=\"g2-tooltip-list\",e.LIST_ITEM_CLASS=\"g2-tooltip-list-item\",e.MARKER_CLASS=\"g2-tooltip-marker\",e.VALUE_CLASS=\"g2-tooltip-value\",e.NAME_CLASS=\"g2-tooltip-name\",e.CROSSHAIR_X=\"g2-tooltip-crosshair-x\",e.CROSSHAIR_Y=\"g2-tooltip-crosshair-y\"},rDfp:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=i(\"mrSG\"),o=i(\"aFU3\"),r=i(\"iTfj\"),a={none:[],point:[\"x\",\"y\"],region:[\"start\",\"end\"],points:[\"points\"],circle:[\"center\",\"radius\",\"startAngle\",\"endAngle\"]},s=function(t){function e(e){var i=t.call(this,e)||this;return i.initCfg(),i}return n.__extends(e,t),e.prototype.getDefaultCfg=function(){return{id:\"\",name:\"\",type:\"\",locationType:\"none\",offsetX:0,offsetY:0,animate:!1,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:\"easeQuadInOut\"},enter:{duration:400,easing:\"easeQuadInOut\"},leave:{duration:350,easing:\"easeQuadIn\"}},events:null,defaultCfg:{},visible:!0}},e.prototype.clear=function(){},e.prototype.update=function(t){var e=this,i=this.get(\"defaultCfg\");r.each(t,(function(t,n){var o=t;e.get(n)!==t&&(r.isObject(t)&&i[n]&&(o=r.deepMix({},i[n],t)),e.set(n,o))}))},e.prototype.getLayoutBBox=function(){return this.getBBox()},e.prototype.getLocationType=function(){return this.get(\"locationType\")},e.prototype.getOffset=function(){return{offsetX:this.get(\"offsetX\"),offsetY:this.get(\"offsetY\")}},e.prototype.setOffset=function(t,e){this.update({offsetX:t,offsetY:e})},e.prototype.setLocation=function(t){var e=n.__assign({},t);this.update(e)},e.prototype.getLocation=function(){var t=this,e={},i=this.get(\"locationType\"),n=a[i];return r.each(n,(function(i){e[i]=t.get(i)})),e},e.prototype.isList=function(){return!1},e.prototype.isSlider=function(){return!1},e.prototype.init=function(){},e.prototype.initCfg=function(){var t=this,e=this.get(\"defaultCfg\");r.each(e,(function(e,i){var n=t.get(i);if(r.isObject(n)){var o=r.deepMix({},e,n);t.set(i,o)}}))},e}(o.Base);e.default=s},sB4O:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n={};e.getAnimation=function(t){return n[t.toLowerCase()]},e.registerAnimation=function(t,e){n[t.toLowerCase()]=e}},sGDc:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=i(\"mrSG\"),o=i(\"fIp6\"),r=i(\"iTfj\"),a=i(\"5shK\");e.DEFAULT_THEME={default:{trackColor:\"rgba(0,0,0,0)\",thumbColor:\"rgba(0,0,0,0.15)\",size:8,lineCap:\"round\"},hover:{thumbColor:\"rgba(0,0,0,0.2)\"}};var s=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.clearEvents=r.noop,e.onStartEvent=function(t){return function(i){e.isMobile=t,i.originalEvent.preventDefault();var n=t?r.get(i.originalEvent,\"touches.0.clientX\"):i.clientX,o=t?r.get(i.originalEvent,\"touches.0.clientY\"):i.clientY;e.startPos=e.cfg.isHorizontal?n:o,e.bindLaterEvent()}},e.bindLaterEvent=function(){var t=e.getContainerDOM(),i=[];i=e.isMobile?[o.addEventListener(t,\"touchmove\",e.onMouseMove),o.addEventListener(t,\"touchend\",e.onMouseUp),o.addEventListener(t,\"touchcancel\",e.onMouseUp)]:[o.addEventListener(t,\"mousemove\",e.onMouseMove),o.addEventListener(t,\"mouseup\",e.onMouseUp),o.addEventListener(t,\"mouseleave\",e.onMouseUp)],e.clearEvents=function(){i.forEach((function(t){t.remove()}))}},e.onMouseMove=function(t){var i=e.cfg,n=i.isHorizontal,o=i.thumbOffset;t.preventDefault();var a=e.isMobile?r.get(t,\"touches.0.clientX\"):t.clientX,s=e.isMobile?r.get(t,\"touches.0.clientY\"):t.clientY,l=n?a:s,c=l-e.startPos;e.startPos=l,e.updateThumbOffset(o+c)},e.onMouseUp=function(t){t.preventDefault(),e.clearEvents()},e.onTrackClick=function(t){var i=e.cfg,n=i.isHorizontal,o=i.x,r=i.y,a=i.thumbLen,s=e.getContainerDOM().getBoundingClientRect(),l=t.clientX,c=t.clientY,u=n?l-s.left-o-a/2:c-s.top-r-a/2,h=e.validateRange(u);e.updateThumbOffset(h)},e.onThumbMouseOver=function(){var t=e.cfg.theme.hover.thumbColor;e.getElementByLocalId(\"thumb\").attr(\"stroke\",t),e.draw()},e.onThumbMouseOut=function(){var t=e.cfg.theme.default.thumbColor;e.getElementByLocalId(\"thumb\").attr(\"stroke\",t),e.draw()},e}return n.__extends(i,t),i.prototype.setRange=function(t,e){this.set(\"minLimit\",t),this.set(\"maxLimit\",e)},i.prototype.getRange=function(){return{min:this.get(\"minLimit\"),max:this.get(\"maxLimit\")}},i.prototype.setValue=function(t){var e=this.getValue();this.update({thumbOffset:this.get(\"trackLen\")-this.get(\"thumbLen\")*r.clamp(t,0,1)}),this.delegateEmit(\"valuechange\",{originalValue:e,value:this.getValue()})},i.prototype.getValue=function(){return r.clamp(this.get(\"thumbOffset\")/(this.get(\"trackLen\")-this.get(\"thumbLen\")),0,1)},i.prototype.getDefaultCfg=function(){var i=t.prototype.getDefaultCfg.call(this);return n.__assign(n.__assign({},i),{name:\"scrollbar\",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:e.DEFAULT_THEME})},i.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},i.prototype.applyOffset=function(){this.moveElementTo(this.get(\"group\"),{x:this.get(\"x\"),y:this.get(\"y\")})},i.prototype.initEvent=function(){this.bindEvents()},i.prototype.renderTrackShape=function(t){var e=this.cfg,i=e.trackLen,n=e.theme,o=(void 0===n?{default:{}}:n).default,r=o.lineCap,a=o.trackColor,s=o.size,l=this.get(\"isHorizontal\")?{x1:0+s/2,y1:s/2,x2:i-s/2,y2:s/2,lineWidth:s,stroke:a,lineCap:r}:{x1:s/2,y1:0+s/2,x2:s/2,y2:i-s/2,lineWidth:s,stroke:a,lineCap:r};return this.addShape(t,{id:this.getElementId(\"track\"),name:\"track\",type:\"line\",attrs:l})},i.prototype.renderThumbShape=function(t){var e=this.cfg,i=e.thumbOffset,n=e.thumbLen,o=e.theme,r=(void 0===o?{default:{}}:o).default,a=r.size,s=r.lineCap,l=r.thumbColor,c=this.get(\"isHorizontal\")?{x1:i+a/2,y1:a/2,x2:i+n-a/2,y2:a/2,lineWidth:a,stroke:l,lineCap:s,cursor:\"default\"}:{x1:a/2,y1:i+a/2,x2:a/2,y2:i+n-a/2,lineWidth:a,stroke:l,lineCap:s,cursor:\"default\"};return this.addShape(t,{id:this.getElementId(\"thumb\"),name:\"thumb\",type:\"line\",attrs:c})},i.prototype.bindEvents=function(){var t=this.get(\"group\");t.on(\"mousedown\",this.onStartEvent(!1)),t.on(\"mouseup\",this.onMouseUp),t.on(\"touchstart\",this.onStartEvent(!0)),t.on(\"touchend\",this.onMouseUp),t.findById(this.getElementId(\"track\")).on(\"click\",this.onTrackClick);var e=t.findById(this.getElementId(\"thumb\"));e.on(\"mouseover\",this.onThumbMouseOver),e.on(\"mouseout\",this.onThumbMouseOut)},i.prototype.getContainerDOM=function(){var t=this.get(\"container\"),e=t&&t.get(\"canvas\");return e&&e.get(\"container\")},i.prototype.validateRange=function(t){var e=this.cfg,i=e.thumbLen,n=e.trackLen,o=t;return t+i>n?o=n-i:t+i<i&&(o=0),o},i.prototype.draw=function(){var t=this.get(\"container\"),e=t&&t.get(\"canvas\");e&&e.draw()},i.prototype.updateThumbOffset=function(t){var e=this.cfg,i=e.thumbOffset,n=e.isHorizontal,o=e.thumbLen,r=e.size,a=this.validateRange(t);if(a!==i){var s=this.getElementByLocalId(\"thumb\");n?s.attr({x1:a+r/2,x2:a+o-r/2}):s.attr({y1:a+r/2,y2:a+o-r/2}),this.emitOffsetChange(a)}},i.prototype.emitOffsetChange=function(t){var e=this.cfg,i=e.thumbOffset,n=e.trackLen,o=e.thumbLen;this.cfg.thumbOffset=t,this.emit(\"scrollchange\",{thumbOffset:t,ratio:r.clamp(t/(n-o),0,1)}),this.delegateEmit(\"valuechange\",{originalValue:i,value:t})},i}(a.default);e.Scrollbar=s},vYtJ:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n={}.toString;e.default=function(t,e){return n.call(t)===\"[object \"+e+\"]\"}},yLks:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),function(t){t.FORE=\"fore\",t.MID=\"mid\",t.BG=\"bg\"}(e.LAYER||(e.LAYER={})),function(t){t.TOP=\"top\",t.TOP_LEFT=\"top-left\",t.TOP_RIGHT=\"top-right\",t.RIGHT=\"right\",t.RIGHT_TOP=\"right-top\",t.RIGHT_BOTTOM=\"right-bottom\",t.LEFT=\"left\",t.LEFT_TOP=\"left-top\",t.LEFT_BOTTOM=\"left-bottom\",t.BOTTOM=\"bottom\",t.BOTTOM_LEFT=\"bottom-left\",t.BOTTOM_RIGHT=\"bottom-right\",t.NONE=\"none\"}(e.DIRECTION||(e.DIRECTION={})),function(t){t.AXIS=\"axis\",t.GRID=\"grid\",t.LEGEND=\"legend\",t.TOOLTIP=\"tooltip\",t.ANNOTATION=\"annotation\",t.OTHER=\"other\"}(e.COMPONENT_TYPE||(e.COMPONENT_TYPE={})),e.GROUP_Z_INDEX={FORE:3,MID:2,BG:1},function(t){t.BEFORE_RENDER=\"beforerender\",t.AFTER_RENDER=\"afterrender\",t.BEFORE_PAINT=\"beforepaint\",t.AFTER_PAINT=\"afterpaint\",t.BEFORE_CHANGE_DATA=\"beforechangedata\",t.AFTER_CHANGE_DATA=\"afterchangedata\",t.BEFORE_CLEAR=\"beforeclear\",t.AFTER_CLEAR=\"afterclear\",t.BEFORE_DESTROY=\"beforedestroy\"}(e.VIEW_LIFE_CIRCLE||(e.VIEW_LIFE_CIRCLE={})),function(t){t.MOUSE_ENTER=\"plot:mouseenter\",t.MOUSE_DOWN=\"plot:mousedown\",t.MOUSE_MOVE=\"plot:mousemove\",t.MOUSE_UP=\"plot:mouseup\",t.MOUSE_LEAVE=\"plot:mouseleave\",t.TOUCH_START=\"plot:touchstart\",t.TOUCH_MOVE=\"plot:touchmove\",t.TOUCH_END=\"plot:touchend\",t.TOUCH_CANCEL=\"plot:touchcancel\",t.CLICK=\"plot:click\",t.DBLCLICK=\"plot:dblclick\",t.CONTEXTMENU=\"plot:contextmenu\"}(e.PLOT_EVENTS||(e.PLOT_EVENTS={})),e.GROUP_ATTRS=[\"color\",\"shape\",\"size\"],e.FIELD_ORIGIN=\"_origin\",e.MIN_CHART_WIDTH=100,e.MIN_CHART_HEIGHT=100,e.COMPONENT_MAX_VIEW_PERCENTAGE=.25}},[[\"8CVh\",1,2,4,15,16,13,14,0,5,7,9,12,11]]]);"}